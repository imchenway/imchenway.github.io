<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="DavidChan,imchenway@gmail.com"><title>RAG 2.0: From Vectors to Structured Knowledge, Graphs, and Permission-Aware Retrieval · DavidChan's Blog</title><meta name="description" content="Table of Contents#




1. Why “vector‑only RAG” breaks in production
2. What “RAG 2.0” means: retrieval as a governed data product
3. The unified retr"><link rel="canonical" href="https://imchenway.com/en/rag-2-0-governable-rag/"><link rel="alternate" hreflang="en" href="https://imchenway.com/en/rag-2-0-governable-rag/"><link rel="alternate" hreflang="zh-CN" href="https://imchenway.com/zh-CN/2026-01-rag-2-0-governable-rag/"><link rel="alternate" hreflang="x-default" href="https://imchenway.com/en/rag-2-0-governable-rag/"><meta property="og:type" content="article"><meta property="og:title" content="RAG 2.0: From Vectors to Structured Knowledge, Graphs, and Permission-Aware Retrieval"><meta property="og:description" content="Table of Contents# 1. Why “vector‑only RAG” breaks in production 2. What “RAG 2.0” means: retrieval as a governed data product 3. The unified retrieval pipeline"><meta property="og:url" content="https://imchenway.com/en/rag-2-0-governable-rag/"><meta property="og:site_name" content="DavidChan's Blog"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="RAG 2.0: From Vectors to Structured Knowledge, Graphs, and Permission-Aware Retrieval"><meta name="twitter:description" content="Table of Contents# 1. Why “vector‑only RAG” breaks in production 2. What “RAG 2.0” means: retrieval as a governed data product 3. The unified retrieval pipeline"><meta name="keywords" content="DavidChan,imchenway"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/typography-override.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><link rel="shortcut icon" type="image/png" href="/images/favicon.png"><script>var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.type = 'text/javascript';hm.async = true;
    hm.src = "https://hm.baidu.com/hm.js?542ea8c4a9ce535736e775029b1fad26";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
})();
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-PJKTXDR70K"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-PJKTXDR70K');
</script><script async crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1946575658110055"></script><meta name="generator" content="Hexo 7.3.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><h3 title=""><a href="/">DavidChan's Blog</a></h3><div class="description"><p>I hear and I forget. <br>I see and I remember. <br>I write and I understand.</p></div></div></div><ul class="social-links"><li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li><li><a class="wechat-trigger" href="javascript:void(0);"><i class="fa fa-wechat"></i></a></li><h3 title=""></h3></ul><style>.wechat-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.65);
  z-index: 2147483000;
}
.wechat-modal.is-active {
  display: flex;
}
.wechat-modal__content {
  position: relative;
  background: #fff;
  padding: 20px;
  border-radius: 6px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  max-width: 90vw;
  max-height: 90vh;
  z-index: 2147483001;
}
.wechat-modal__image {
  max-width: 70vw;
  max-height: 70vh;
  display: block;
}
.wechat-modal__close {
  position: absolute;
  top: -12px;
  right: -12px;
  width: 28px;
  height: 28px;
  line-height: 28px;
  text-align: center;
  border-radius: 50%;
  background: #fff;
  color: #333;
  font-size: 20px;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
}
</style><div class="wechat-modal" id="wechat-modal" style="display:none;"><div class="wechat-modal__content"><span class="wechat-modal__close">&times;</span><img class="wechat-modal__image" src="https://imchenway.com/images/logo.png" data-original="https://hypha-mall.oss-cn-hangzhou.aliyuncs.com/imchenway-wechat.jpg" alt="WeChat QR code"></div></div><script>document.addEventListener('DOMContentLoaded', function () {
  var trigger = document.querySelector('.wechat-trigger');
  var modal = document.getElementById('wechat-modal');
  if (!trigger || !modal) return;
  if (modal.parentNode !== document.body) {
    document.body.appendChild(modal);
  }
  var closeBtn = modal.querySelector('.wechat-modal__close');
  var show = function () {
    modal.style.display = 'flex';
    modal.classList.add('is-active');
  };
  var hide = function () {
    modal.classList.remove('is-active');
    modal.style.display = 'none';
  };
  hide();
  trigger.addEventListener('click', function (event) {
    event.preventDefault();
    show();
  });
  closeBtn && closeBtn.addEventListener('click', hide);
  modal.addEventListener('click', function (event) {
    if (event.target === modal) hide();
  });
});</script></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/en/">Home</a></li><li><a href="/en/archives">Archive</a></li><!--li--><!--  if is_current('about')--><!--    a.current(href="/about")= __('About')--><!--  else--><!--    a(href="/about")= __('About')--><li><a href="/en/guestbook">Guestbook</a></li></div><div class="information"><a class="lang-toggle" href="/zh-CN/2026-01-rag-2-0-governable-rag/">中</a><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>RAG 2.0: From Vectors to Structured Knowledge, Graphs, and Permission-Aware Retrieval</a></h3></div><div class="post-content"><h3><span id="table-of-contents">Table of Contents</span><a href="#table-of-contents" class="header-anchor">#</a></h3><div class="toc">

<!-- toc -->

<ul>
<li><a href="#1-why-vector-only-rag-breaks-in-production">1. Why “vector‑only RAG” breaks in production</a></li>
<li><a href="#2-what-rag-2-0-means-retrieval-as-a-governed-data-product">2. What “RAG 2.0” means: retrieval as a governed data product</a></li>
<li><a href="#3-the-unified-retrieval-pipeline-retrieve-filter-rerank-ground">3. The unified retrieval pipeline: Retrieve &#x2F; Filter &#x2F; Rerank &#x2F; Ground</a><ul>
<li><a href="#3-1-retrieve-multi-channel-candidates-not-one-magic-query">3.1 Retrieve: multi‑channel candidates, not one magic query</a></li>
<li><a href="#3-2-filter-enforce-permissions-and-policies-early">3.2 Filter: enforce permissions and policies early</a></li>
<li><a href="#3-3-rerank-turn-relevant-into-usable">3.3 Rerank: turn “relevant” into “usable”</a></li>
<li><a href="#3-4-ground-citations-replayable-metadata">3.4 Ground: citations + replayable metadata</a></li>
</ul>
</li>
<li><a href="#4-hybrid-retrieval-bm25-vectors-sql-and-graphs-have-different-jobs">4. Hybrid retrieval: BM25, vectors, SQL, and graphs have different jobs</a></li>
<li><a href="#5-freshness-and-consistency-version-your-indexes-and-plan-rollbacks">5. Freshness and consistency: version your indexes and plan rollbacks</a><ul>
<li><a href="#5-1-track-versions-watermarks-and-source-timestamps">5.1 Track versions, watermarks, and source timestamps</a></li>
<li><a href="#5-2-use-cdc-for-incremental-updates-where-it-matters">5.2 Use CDC for incremental updates where it matters</a></li>
</ul>
</li>
<li><a href="#6-permission-aware-retrieval-don-t-confuse-post-filtering-with-security">6. Permission‑aware retrieval: don’t confuse “post‑filtering” with “security”</a><ul>
<li><a href="#6-1-make-permissions-representable-at-the-retrieval-layer">6.1 Make permissions representable at the retrieval layer</a></li>
<li><a href="#6-2-permissions-also-include-inference-risk">6.2 Permissions also include “inference risk”</a></li>
</ul>
</li>
<li><a href="#7-structured-knowledge-and-graphs-when-relationships-beat-text">7. Structured knowledge and graphs: when relationships beat text</a></li>
<li><a href="#8-trust-ux-citations-confidence-signals-and-refusal-modes">8. Trust UX: citations, confidence signals, and refusal modes</a><ul>
<li><a href="#8-1-citations-are-the-cheapest-trust-multiplier">8.1 Citations are the cheapest trust multiplier</a></li>
<li><a href="#8-2-confidence-and-refusal-teach-the-system-to-say-i-don-t-know">8.2 Confidence and refusal: teach the system to say “I don’t know”</a></li>
</ul>
</li>
<li><a href="#9-a-practical-roadmap-mvp-mature-rag">9. A practical roadmap: MVP → mature RAG</a></li>
<li><a href="#references">References</a></li>
</ul>
<!-- tocstop -->

</div>

<h1><span id="1-why-vector-only-rag-breaks-in-production">1. Why “vector‑only RAG” breaks in production</span><a href="#1-why-vector-only-rag-breaks-in-production" class="header-anchor">#</a></h1><p>Most teams start RAG (Retrieval‑Augmented Generation) with the shortest path to a demo:</p>
<ol>
<li>chunk documents and embed them,  </li>
<li>run vector search for Top‑K,  </li>
<li>stuff the chunks into the prompt,  </li>
<li>let the model answer.</li>
</ol>
<p>This works—until it becomes a real product. In production, failures repeat in predictable ways, and they rarely come from the LLM being “not smart enough”. They come from treating retrieval as a single step instead of a governed system.</p>
<p>The most common failure modes look like this:</p>
<ul>
<li><strong>Lexical precision is missing</strong>: queries like “error code E1234”, “INC‑20391”, or “billing‑api” are often better served by classic inverted indexes and BM25‑style ranking than pure semantic similarity.[1][2]</li>
<li><strong>Semantically relevant, factually wrong</strong>: the retrieved chunk is “about the topic” but not the authoritative source for the exact threshold, owner, date, or version—so the model fills gaps.</li>
<li><strong>Freshness is unknowable</strong>: documents changed, indexes lagged, and nobody can answer “which data version backed this response?” without digging through logs.[5]</li>
<li><strong>Permissions leak through the retrieval layer</strong>: the worst outcome is not a wrong answer—it is a correct answer based on evidence the user should never see.[4]</li>
<li><strong>No explainability, no replay</strong>: users cannot verify, engineers cannot reproduce, and regressions cannot be tested when evidence is not traceable.</li>
</ul>
<p>If you zoom out, the key lesson is simple: RAG is not “feeding docs to a model”. RAG is building a retrieval product—where data quality, security, and operational discipline matter as much as prompts.</p>
<h1><span id="2-what-rag-2-0-means-retrieval-as-a-governed-data-product">2. What “RAG 2.0” means: retrieval as a governed data product</span><a href="#2-what-rag-2-0-means-retrieval-as-a-governed-data-product" class="header-anchor">#</a></h1><p>When I say “RAG 2.0”, I mean one thing: <strong>treat retrieval as a pipeline you can measure, evolve, audit, and roll back</strong>.</p>
<p>The goal is not occasional brilliance. The goal is consistent behaviour under real constraints:</p>
<ol>
<li><strong>Grounded correctness</strong>: answers are supported by evidence and show citations.  </li>
<li><strong>Freshness</strong>: you can state the dataset&#x2F;index version and control indexing lag.  </li>
<li><strong>Security</strong>: permissions are enforced before evidence enters the model context.  </li>
<li><strong>Operability</strong>: runs are observable and replayable, with clear regression gates.</li>
</ol>
<p>A practical pipeline mental model is:</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">User question</span><br><span class="line">  -&gt; Candidate retrieval (BM25 / vectors / SQL / graph)</span><br><span class="line">  -&gt; Permission &amp; policy filtering (tenant/role/ACL/sensitivity)</span><br><span class="line">  -&gt; Rerank + context packaging (dedupe, summarise, budget)</span><br><span class="line">  -&gt; Generation (citations, confidence signals, ask/decline when needed)</span><br></pre></td></tr></table></figure>

<p>This structure stays stable even as you swap tools, models, or indexing strategies.</p>
<h1><span id="3-the-unified-retrieval-pipeline-retrieve-x2f-filter-x2f-rerank-x2f-ground">3. The unified retrieval pipeline: Retrieve &#x2F; Filter &#x2F; Rerank &#x2F; Ground</span><a href="#3-the-unified-retrieval-pipeline-retrieve-x2f-filter-x2f-rerank-x2f-ground" class="header-anchor">#</a></h1><p>RAG 2.0 is less about “which vector store” and more about having a pipeline where each stage can be owned and improved independently.</p>
<h2><span id="3-1-retrieve-multi-channel-candidates-not-one-magic-query">3.1 Retrieve: multi‑channel candidates, not one magic query</span><a href="#3-1-retrieve-multi-channel-candidates-not-one-magic-query" class="header-anchor">#</a></h2><p>Candidate retrieval works best when you treat it as multiple parallel channels:</p>
<ul>
<li><strong>BM25 &#x2F; inverted index</strong> for exact terms, identifiers, product names, short queries—Lucene&#x2F;Elasticsearch are the canonical implementations.[1][2]</li>
<li><strong>Vector search</strong> for paraphrases, “how do I…” queries, and semantic recall; pgvector is a pragmatic way to keep vectors close to relational data.[3]</li>
<li><strong>SQL &#x2F; structured lookups</strong> for facts that should not be inferred (status fields, thresholds, owners, flags).</li>
<li><strong>Graph queries (optional)</strong> for relationship problems (dependencies, ownership, impact chains).[6]</li>
</ul>
<h2><span id="3-2-filter-enforce-permissions-and-policies-early">3.2 Filter: enforce permissions and policies early</span><a href="#3-2-filter-enforce-permissions-and-policies-early" class="header-anchor">#</a></h2><p>Filtering is not a cosmetic step. It must guarantee two invariants:</p>
<ol>
<li><strong>Unauthorised evidence never enters the prompt</strong> (if the model sees it, it can leak it).  </li>
<li><strong>Filtering decisions are explainable and auditable</strong> (why was a record included&#x2F;excluded?).</li>
</ol>
<p>In practice, “Filter” tends to include:</p>
<ul>
<li><strong>Authorisation</strong>: tenant&#x2F;role&#x2F;ACL&#x2F;row‑level policies.[4]  </li>
<li><strong>Security policies</strong>: sensitivity level, PII, secrets, residency constraints.  </li>
<li><strong>Business policies</strong>: only published docs, only latest versions, only approved sources.</li>
</ul>
<h2><span id="3-3-rerank-turn-relevant-into-usable">3.3 Rerank: turn “relevant” into “usable”</span><a href="#3-3-rerank-turn-relevant-into-usable" class="header-anchor">#</a></h2><p>Even a good candidate set is noisy. Rerank and packaging should explicitly handle:</p>
<ul>
<li><strong>Deduplication and document‑level grouping</strong>: multiple chunks from one document should become one “evidence bundle” with a clean citation.</li>
<li><strong>Noise control</strong>: downrank background paragraphs; upweight steps, rules, thresholds, and “single‑source‑of‑truth” sections.</li>
<li><strong>Budgeting</strong>: enforce a fixed context budget and keep the rest as links&#x2F;references rather than raw tokens.</li>
</ul>
<h2><span id="3-4-ground-citations-replayable-metadata">3.4 Ground: citations + replayable metadata</span><a href="#3-4-ground-citations-replayable-metadata" class="header-anchor">#</a></h2><p>A minimal grounded system should:</p>
<ul>
<li>attach 1–3 citations to key claims (title&#x2F;ID&#x2F;link + short excerpt&#x2F;summary),</li>
<li>log retrieval metadata (<code>query</code>, <code>index_version</code>, <code>doc_ids</code>, scores, filter reasons),</li>
<li>support replay: reconstruct “what the model saw” for debugging and regression tests.</li>
</ul>
<h1><span id="4-hybrid-retrieval-bm25-vectors-sql-and-graphs-have-different-jobs">4. Hybrid retrieval: BM25, vectors, SQL, and graphs have different jobs</span><a href="#4-hybrid-retrieval-bm25-vectors-sql-and-graphs-have-different-jobs" class="header-anchor">#</a></h1><p>Hybrid retrieval is not a buzzword—it is acknowledging that “knowledge” has different shapes. A stable division of labour looks like this:</p>
<table>
<thead>
<tr>
<th>Query pattern</th>
<th>Primary channel</th>
<th>Secondary channel</th>
<th>Why it works</th>
</tr>
</thead>
<tbody><tr>
<td>IDs, error codes, proper nouns</td>
<td>BM25</td>
<td>vectors</td>
<td>Precision first, semantics as a fallback.[1][2]</td>
</tr>
<tr>
<td>Paraphrases, “how do I…”</td>
<td>vectors</td>
<td>BM25</td>
<td>Semantic recall first, lexical constraints second.</td>
</tr>
<tr>
<td>Hard facts (status&#x2F;threshold&#x2F;owner&#x2F;time)</td>
<td>SQL</td>
<td>text</td>
<td>Don’t force the LLM to infer structured fields.</td>
</tr>
<tr>
<td>Relationship chains (deps&#x2F;ownership&#x2F;impact)</td>
<td>graph&#x2F;CMDB</td>
<td>text</td>
<td>Relationships are more reliable than prose.[6]</td>
</tr>
</tbody></table>
<p>A useful rule: <strong>if the answer is a structured field, fetch it as a structured field</strong>. That is cheaper, more stable, and more auditable than prompting the model to “figure it out from text”.</p>
<h1><span id="5-freshness-and-consistency-version-your-indexes-and-plan-rollbacks">5. Freshness and consistency: version your indexes and plan rollbacks</span><a href="#5-freshness-and-consistency-version-your-indexes-and-plan-rollbacks" class="header-anchor">#</a></h1><p>Once users depend on RAG, freshness becomes your hardest SLA. The fix is to treat indexing as a versioned artifact.</p>
<h2><span id="5-1-track-versions-watermarks-and-source-timestamps">5.1 Track versions, watermarks, and source timestamps</span><a href="#5-1-track-versions-watermarks-and-source-timestamps" class="header-anchor">#</a></h2><p>At minimum, log:</p>
<ul>
<li><code>index_version</code> (build or incremental version),</li>
<li>a <code>watermark</code> (latest synced position from the source),</li>
<li><code>source_updated_at</code> (document last updated time).</li>
</ul>
<p>When an answer is wrong, you can now ask the right questions:</p>
<ol>
<li>Which index version served this response?  </li>
<li>What source record&#x2F;version did the evidence come from?</li>
</ol>
<h2><span id="5-2-use-cdc-for-incremental-updates-where-it-matters">5.2 Use CDC for incremental updates where it matters</span><a href="#5-2-use-cdc-for-incremental-updates-where-it-matters" class="header-anchor">#</a></h2><p>For system‑of‑record data in databases, CDC (Change Data Capture) is often the cleanest path to reliable incremental indexing. Debezium is a widely used implementation for capturing changes and driving downstream pipelines.[5]</p>
<p>You do not need CDC everywhere on day one, but you should design for:</p>
<ul>
<li>upserts and deletes,</li>
<li>retries and idempotency,</li>
<li>and, critically, <strong>rollback</strong> to a previous known‑good index version when ingestion goes wrong.</li>
</ul>
<h1><span id="6-permission-aware-retrieval-don-t-confuse-post-filtering-with-security">6. Permission‑aware retrieval: don’t confuse “post‑filtering” with “security”</span><a href="#6-permission-aware-retrieval-don-t-confuse-post-filtering-with-security" class="header-anchor">#</a></h1><p>Permissions are where RAG stops being “search” and becomes “production software”.</p>
<h2><span id="6-1-make-permissions-representable-at-the-retrieval-layer">6.1 Make permissions representable at the retrieval layer</span><a href="#6-1-make-permissions-representable-at-the-retrieval-layer" class="header-anchor">#</a></h2><p>Three common approaches (from strongest isolation to most shared) are:</p>
<ol>
<li><strong>Physical isolation</strong>: per‑tenant index&#x2F;database.  </li>
<li><strong>Logical isolation with enforced filters</strong>: store <code>tenant_id</code>&#x2F;ACL tags and apply mandatory filters in the retrieval query (not after results return).  </li>
<li><strong>Row‑level security in the data source</strong>: push access control down to the database so retrieval can only fetch authorised rows; PostgreSQL RLS is a concrete mechanism here.[4]</li>
</ol>
<h2><span id="6-2-permissions-also-include-inference-risk">6.2 Permissions also include “inference risk”</span><a href="#6-2-permissions-also-include-inference-risk" class="header-anchor">#</a></h2><p>Even when results are filtered, systems can leak side‑channels (counts, score distributions, error behaviour). Security guidance for LLM applications repeatedly emphasises designing with auditability and policy enforcement as first‑class concerns, not as patchwork.[7][8]</p>
<h1><span id="7-structured-knowledge-and-graphs-when-relationships-beat-text">7. Structured knowledge and graphs: when relationships beat text</span><a href="#7-structured-knowledge-and-graphs-when-relationships-beat-text" class="header-anchor">#</a></h1><p>Knowledge graphs are not a silver bullet. They shine when the problem is <strong>relationships</strong>, not paragraphs:</p>
<ul>
<li>service dependency chains and blast radius,</li>
<li>ownership&#x2F;on‑call mapping,</li>
<li>version compatibility links.</li>
</ul>
<p>Graphs are a poor fit when:</p>
<ul>
<li>you lack a stable entity&#x2F;relationship extraction and maintenance process,</li>
<li>the problem is mostly “find the right paragraph” (BM25 + vectors work fine),</li>
<li>you expect graphs to replace an access‑control system (usually a trap).</li>
</ul>
<p>If you do add a graph, treat it as another evidence channel inside the same pipeline and citation framework. Neo4j docs are a solid starting point for graph modelling and querying.[6]</p>
<h1><span id="8-trust-ux-citations-confidence-signals-and-refusal-modes">8. Trust UX: citations, confidence signals, and refusal modes</span><a href="#8-trust-ux-citations-confidence-signals-and-refusal-modes" class="header-anchor">#</a></h1><p>The output of RAG is not “a paragraph”. It is a user experience where people decide whether to rely on the system.</p>
<h2><span id="8-1-citations-are-the-cheapest-trust-multiplier">8.1 Citations are the cheapest trust multiplier</span><a href="#8-1-citations-are-the-cheapest-trust-multiplier" class="header-anchor">#</a></h2><p>A good citation includes:</p>
<ul>
<li>source type (doc&#x2F;ticket&#x2F;config row),</li>
<li>a human‑recognisable identifier,</li>
<li>a link or a precise locator,</li>
<li>a short excerpt&#x2F;summary (bounded and redacted when needed).</li>
</ul>
<h2><span id="8-2-confidence-and-refusal-teach-the-system-to-say-i-don-t-know">8.2 Confidence and refusal: teach the system to say “I don’t know”</span><a href="#8-2-confidence-and-refusal-teach-the-system-to-say-i-don-t-know" class="header-anchor">#</a></h2><p>You do not need perfect probability calibration to improve safety. Simple heuristics work early:</p>
<ul>
<li>low score separation between Top‑1 and Top‑K → ask a clarifying question,</li>
<li>conflicting evidence → show the disagreement and avoid a single definitive claim,</li>
<li>no evidence after permission filters → explicitly state “no authorised sources found” rather than guessing.</li>
</ul>
<h1><span id="9-a-practical-roadmap-mvp-mature-rag">9. A practical roadmap: MVP → mature RAG</span><a href="#9-a-practical-roadmap-mvp-mature-rag" class="header-anchor">#</a></h1><p>If you want RAG 2.0 to become a reusable capability, ship it in stages:</p>
<ol>
<li><strong>MVP (1–2 weeks)</strong>: hybrid retrieval (BM25 + vectors) + citations + basic logging (<code>doc_ids</code>, scores, <code>index_version</code>).  </li>
<li><strong>Permissions (2–4 weeks)</strong>: enforce permission semantics in retrieval; add audit fields; target “unauthorised evidence in prompt &#x3D; 0”.[4]  </li>
<li><strong>Freshness (4–8 weeks)</strong>: incremental updates&#x2F;CDC, index versioning, rollbacks; make lag measurable and alertable.[5]  </li>
<li><strong>Quality loop (ongoing)</strong>: offline eval sets + online replay; dashboard metrics for citation coverage, factual correctness, refusal rate, and cost.  </li>
<li><strong>Graph augmentation (as needed)</strong>: only when relationship queries demand it.[6]</li>
</ol>
<p>Here is a minimal acceptance checklist you can drop into a design review:</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">✅ RAG 2.0 Minimum Acceptance Checklist</span><br><span class="line">- Answers include citations (human-verifiable)</span><br><span class="line">- Runs are replayable: query, doc_ids, scores, index_version, filter reasons</span><br><span class="line">- Permissions are enforced before evidence enters the prompt</span><br><span class="line">- Index freshness is measurable (watermark/lag) and rollback exists</span><br><span class="line">- When evidence is insufficient, the system asks/declines instead of guessing</span><br></pre></td></tr></table></figure>

<h1><span id="references">References</span><a href="#references" class="header-anchor">#</a></h1><ul>
<li>[1] Apache Lucene docs: <a target="_blank" rel="noopener" href="https://lucene.apache.org/">https://lucene.apache.org/</a></li>
<li>[2] Elasticsearch similarity &#x2F; BM25: <a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules-similarity.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules-similarity.html</a></li>
<li>[3] pgvector (PostgreSQL vector extension): <a target="_blank" rel="noopener" href="https://github.com/pgvector/pgvector">https://github.com/pgvector/pgvector</a></li>
<li>[4] PostgreSQL Row Level Security: <a target="_blank" rel="noopener" href="https://www.postgresql.org/docs/current/ddl-rowsecurity.html">https://www.postgresql.org/docs/current/ddl-rowsecurity.html</a></li>
<li>[5] Debezium documentation (CDC): <a target="_blank" rel="noopener" href="https://debezium.io/documentation/">https://debezium.io/documentation/</a></li>
<li>[6] Neo4j docs: <a target="_blank" rel="noopener" href="https://neo4j.com/docs/">https://neo4j.com/docs/</a></li>
<li>[7] OWASP Top 10 for LLM Applications: <a target="_blank" rel="noopener" href="https://owasp.org/www-project-top-10-for-large-language-model-applications/">https://owasp.org/www-project-top-10-for-large-language-model-applications/</a></li>
<li>[8] NIST AI Risk Management Framework: <a target="_blank" rel="noopener" href="https://www.nist.gov/itl/ai-risk-management-framework">https://www.nist.gov/itl/ai-risk-management-framework</a></li>
</ul>
<hr>
<p>本作品系原创，采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/4.≠0/deed.zh">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可，转载请注明出处。</p>

<div id="gitalk-container"></div>
<script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

		<script>
		var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};
	    gitalkConfig.id = md5(location.pathname);
		var gitalk = new Gitalk(gitalkConfig);
	    gitalk.render("gitalk-container");
	    </script></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2026-01-27</span></div></div></div></div><div class="post-ad"><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1946575658110055" data-ad-slot="8561874775"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a class="btn" role="navigation" href="/zh-CN/2026-01-rag-2-0-governable-rag/" title="RAG 2.0：从向量检索到“结构化知识 + 图谱 + 权限治理”">下一篇</a></li></ul></div></div></div></div></div><script defer src="/js/jquery.js"></script><script defer src="/js/jquery-migrate-1.2.1.min.js"></script><script defer src="/js/jquery.appear.js"></script>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>