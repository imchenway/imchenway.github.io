.page-top.animated.fadeInDown
  - const rawLanguages = config.language ? [].concat(config.language) : [];
  - const languages = rawLanguages.filter(lang => lang && lang !== 'default');
  - const defaultLang = languages.length ? languages[0] : (page.lang || page.language || '');
  - const currentLang = page.lang || page.language || defaultLang;
  - const buildLangUrl = (lang, segment) => {
  -   const trimmed = (segment || '/').replace(/^\//, '');
  -   const prefix = (!lang || lang === defaultLang) ? '' : `/${lang}`;
  -   const fullPath = trimmed ? `${prefix}/${trimmed}` : `${prefix}/`;
  -   return url_for(fullPath);
  - };
  .nav
    li
      if is_home()
        a.current(href=buildLangUrl(currentLang, '/'))= __('Home')
      else
        a(href=buildLangUrl(currentLang, '/'))= __('Home')
    li
      if is_archive()
        a.current(href=buildLangUrl(currentLang, 'archives'))= __('Archive')
      else
        a(href=buildLangUrl(currentLang, 'archives'))= __('Archive')
    //li
    //  if is_current('about')
    //    a.current(href="/about")= __('About')
    //  else
    //    a(href="/about")= __('About')
    li
      if is_current('Guestbook')
        a.current(href=buildLangUrl(currentLang, 'guestbook'))= __('Guestbook')
      else
        a(href=buildLangUrl(currentLang, 'guestbook'))= __('Guestbook')
  .information
    if languages.length === 2
      - const fallbackLang = languages.find(lang => lang !== currentLang);
      - let langToggleHref = buildLangUrl(fallbackLang, '/');
      - if (fallbackLang) {
      -   const alternatePost = (page && page.lang_ref) ? site.posts.findOne({ lang: fallbackLang, lang_ref: page.lang_ref }) : null;
      -   if (alternatePost) {
      -     langToggleHref = url_for(alternatePost.path);
      -   } else if (page && page.path) {
      -     const normalizedPath = page.path.replace(/^\/+/, '');
      -     const langPrefix = currentLang ? `${currentLang}/` : '';
      -     if (langPrefix && normalizedPath.indexOf(langPrefix) === 0) {
      -       const rest = normalizedPath.substring(langPrefix.length);
      -       langToggleHref = buildLangUrl(fallbackLang, rest);
      -     } else {
      -       langToggleHref = buildLangUrl(fallbackLang, normalizedPath);
      -     }
      -   }
      - }
      if fallbackLang
        a.lang-toggle(href=langToggleHref)= __('languages.' + fallbackLang)
    .back_btn
      li
        if is_post()
          a.fa.fa-chevron-left(onclick="window.history.go(-1)") 
        else
          a.fa.fa-chevron-left(onclick="window.history.go(-1)",style="display:none;") 
