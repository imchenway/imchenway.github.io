<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DavidChan&#39;s Blog</title>
  
  
  <link href="https://imchenway.com/atom.xml" rel="self"/>
  
  <link href="https://imchenway.com/"/>
  <updated>2026-01-21T06:41:04.619Z</updated>
  <id>https://imchenway.com/</id>
  
  <author>
    <name>DavidChan</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Agent Observability (AgentOps) Part 1/3: Turn Prompts, Tools, and Memory into Traces</title>
    <link href="https://imchenway.com/en/agentops-observability-part-1/"/>
    <id>https://imchenway.com/en/agentops-observability-part-1/</id>
    <published>2026-01-20T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="table-of-contents">Table of Contents</span><a href="#table-of-contents" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#1-why-agents-need-observability-not-just-better-prompts">1. Why Agents Need Observability (Not Just Better Prompts)</a></li><li><a href="#2-what-to-observe-a-practical-inventory">2. What to Observe: A Practical Inventory</a></li><li><a href="#3-trace-model-represent-an-agent-run-as-a-span-tree">3. Trace Model: Represent an Agent Run as a Span Tree</a><ul><li><a href="#3-1-suggested-span-attributes-example">3.1 Suggested Span Attributes (Example)</a></li><li><a href="#3-2-what-to-record-and-what-not-to">3.2 What to Record (and What Not to)</a></li></ul></li><li><a href="#4-metrics-unify-slos-cost-budgets-and-quality-signals">4. Metrics: Unify SLOs, Cost Budgets, and Quality Signals</a></li><li><a href="#5-logs-and-audits-replayable-accountable-and-redacted">5. Logs and Audits: Replayable, Accountable, and Redacted</a></li><li><a href="#6-a-one-week-mvp-make-the-black-box-transparent">6. A One-Week MVP: Make the Black Box Transparent</a></li><li><a href="#7-what-s-next">7. Whatâ€™s Next</a></li><li><a href="#references">References</a></li></ul><!-- tocstop --></div><h1><span id="1-why-agents-need-observability-not-just-better-prompts">1. Why Agents Need Observability (Not Just Better Prompts)</span><a href="#1-why-agents-need-observability-not-just-better-prompts" class="header-anchor">#</a></h1><p>When teams move from a monolith to distributed systems, the biggest shift is not code sizeâ€”it is <strong>loss of visibility</strong>. A single request fans out across services, queues, caches, and databases. Debugging by intuition stops working, so we lean on logs, metrics, and traces to answer three simple questions:</p><ul><li><strong>What happened?</strong> What steps did the request actually take?  </li><li><strong>Why did it happen?</strong> Which dependency or decision caused the outcome?  </li><li><strong>How do we fix it safely?</strong> Did the change improve correctness without blowing up latency or cost?</li></ul><p>Agent systems amplify the â€œblack boxâ€ problem. A user-visible â€œone responseâ€ may involve planning, retrieval, multiple tool calls, retries, safety filters, fallbacks, and even human handoffs. Without observability, you will repeatedly hit the same failure modes:</p><ul><li>â€œOccasional hallucinationsâ€ or wrong tool executions with no way to reconstruct the decision path.</li><li>Sudden cost spikes (tokens, retrieval, external APIs) without knowing which workflows or tenants caused them.</li><li>Prompt or policy changes that â€œfeel betterâ€ but lack measurable regression gates and risk controls.</li></ul><p>This is the first principle of AgentOps: <strong>treat an agent run like a production pipeline</strong>â€”each prompt render, retrieval step, tool call, and model inference should be traceable, aggregatable, alertable, and reviewable.</p><p>This series is planned as three parts:</p><ol><li><strong>Foundations (this post)</strong>: what to observe + a unified Trace&#x2F;Metrics&#x2F;Logs model  </li><li><strong>Implementation</strong>: a minimal MVP for instrumentation, dashboards, alerts, and replay  </li><li><strong>Operations</strong>: connecting observability to SLOs, security audits, and postmortems</li></ol><h1><span id="2-what-to-observe-a-practical-inventory">2. What to Observe: A Practical Inventory</span><a href="#2-what-to-observe-a-practical-inventory" class="header-anchor">#</a></h1><p>Classic services observe HTTP latency, DB queries, cache hit rates, and queue depth. Agents need explicit telemetry for â€œreasoning-timeâ€ operations; otherwise you are stuck guessing the process from the final output.</p><p>Break an agent run into six observable domains:</p><ol><li><p><strong>Task &#x2F; Session entry</strong></p><ul><li>who&#x2F;when (user&#x2F;tenant&#x2F;channel), what intent (task_type), and what â€œsuccessâ€ means</li></ul></li><li><p><strong>Context assembly</strong></p><ul><li>prompt template + version, variable rendering, truncation&#x2F;compression, safety sanitisation</li></ul></li><li><p><strong>Retrieval &#x2F; RAG</strong></p><ul><li>query generation, search&#x2F;rerank, document hits, score distributions, permission filtering</li></ul></li><li><p><strong>Tools &#x2F; Actions</strong></p><ul><li>tool name, latency, error rate, retries, and dependency failure patterns (redacted inputs&#x2F;outputs)</li></ul></li><li><p><strong>Model inference</strong></p><ul><li>model&#x2F;version, token usage, latency, refusals&#x2F;safety blocks, routing rationale</li></ul></li><li><p><strong>Policies &#x2F; Guardrails</strong></p><ul><li>what triggered (budget, safety, permission), what action was taken (downgrade, retry, handoff)</li></ul></li></ol><p>With this inventory, you can finally attribute â€œlatency&#x2F;cost&#x2F;quality&#x2F;riskâ€ to concrete stages.</p><h1><span id="3-trace-model-represent-an-agent-run-as-a-span-tree">3. Trace Model: Represent an Agent Run as a Span Tree</span><a href="#3-trace-model-represent-an-agent-run-as-a-span-tree" class="header-anchor">#</a></h1><p>The most practical approach is to model an agent run as a distributed trace: <strong>one root span + many child spans</strong>. You do not need perfect standardisation on day one, but you must ensure:</p><ol><li><strong>Correlation</strong>: everything ties back to the same run (<code>trace_id</code>, <code>session_id</code>)  </li><li><strong>Aggregation</strong>: key fields support slicing (model&#x2F;tool&#x2F;tenant&#x2F;task_type)  </li><li><strong>Replay</strong>: enough redacted context exists to reconstruct critical paths</li></ol><p>If you need a mental model, imagine a support agent that â€œlooks fineâ€ at the UI level but keeps producing expensive runs. Without traces, your team will argue about whether the model is â€œworse latelyâ€. With traces, you can see the actual culprit: retrieval is returning low-confidence results, so the planner loops; a tool call is timing out and retrying; or a policy keeps downgrading to a smaller model and forcing extra turns.</p><p>One practical naming tip: treat a single end-to-end user interaction as a <strong>session</strong>, and a single attempt to complete the task as a <strong>run</strong>. Use stable identifiers:</p><ul><li><code>session_id</code>: groups multiple runs and user turns into a conversation-level unit.</li><li><code>run_id</code>: unique per attempt; useful when the same session retries or forks.</li><li><code>trace_id</code>: your distributed tracing glue; it should cover every step inside a run (including asynchronous tool executions).</li></ul><p>Example trace shape (plain text):</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">agent.run (root)</span><br><span class="line">â”œâ”€â”€ prompt.render</span><br><span class="line">â”œâ”€â”€ guardrail.input_sanitize</span><br><span class="line">â”œâ”€â”€ retrieval.query_generate</span><br><span class="line">â”œâ”€â”€ retrieval.search</span><br><span class="line">â”œâ”€â”€ retrieval.rerank</span><br><span class="line">â”œâ”€â”€ model.infer (planner)</span><br><span class="line">â”œâ”€â”€ tool.call (jira.createTicket)</span><br><span class="line">â”œâ”€â”€ tool.call (payments.refund)</span><br><span class="line">â”œâ”€â”€ model.infer (final)</span><br><span class="line">â””â”€â”€ guardrail.output_filter</span><br></pre></td></tr></table></figure><p>Two extra techniques make traces more useful in agent systems:</p><ul><li><strong>Span events for decisions</strong>: record â€œwhyâ€ as structured events (e.g., <code>route.selected</code>, <code>guardrail.triggered</code>) instead of hiding reasoning in free-form logs.</li><li><strong>Links for retrieval evidence</strong>: when you retrieve documents or memories, attach lightweight references (IDs, versions, hashes) so you can explain outputs without storing raw content in every span.</li></ul><h2><span id="3-1-suggested-span-attributes-example">3.1 Suggested Span Attributes (Example)</span><a href="#3-1-suggested-span-attributes-example" class="header-anchor">#</a></h2><p>To answer â€œwhat is slow&#x2F;expensive&#x2F;flakyâ€, each span type needs a minimal set of groupable attributes. Example (illustrative only):</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;trace_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;â€¦&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;session_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;â€¦&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tenant_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;acme&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;task_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;support_ticket&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;step&quot;</span><span class="punctuation">:</span> <span class="string">&quot;model.infer&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;model.name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;â€¦&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;model.version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;â€¦&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tokens.input&quot;</span><span class="punctuation">:</span> <span class="number">1234</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tokens.output&quot;</span><span class="punctuation">:</span> <span class="number">456</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;cost.usd&quot;</span><span class="punctuation">:</span> <span class="number">0.0123</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;latency.ms&quot;</span><span class="punctuation">:</span> <span class="number">850</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;retry.count&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;policy.downgraded&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>The key is to treat <strong>cost and quality as first-class signals</strong>, not afterthoughts. Agents are â€œtrade-off enginesâ€, not pure compute.</p><p>Design attributes with care to avoid self-inflicted telemetry outages:</p><ul><li>Prefer <strong>low-cardinality dimensions</strong> for slicing: <code>tenant_id</code>, <code>task_type</code>, <code>tool.name</code>, <code>model.name</code>.</li><li>Avoid high-cardinality fields (raw prompts, full queries, user IDs) in metrics labels or span attributes. Use <strong>hashes</strong> or store data in a secure vault and keep only pointers in telemetry.</li><li>Stamp versions everywhere: <code>prompt_version</code>, <code>policy_version</code>, <code>tool_schema_version</code>. When an incident happens, â€œwhat changed?â€ is the fastest path to a fix.</li></ul><h2><span id="3-2-what-to-record-and-what-not-to">3.2 What to Record (and What Not to)</span><a href="#3-2-what-to-record-and-what-not-to" class="header-anchor">#</a></h2><p>Observability is not â€œstore everything foreverâ€. Use tiering:</p><ul><li>Always: timings, model&#x2F;tool&#x2F;retrieval dimensions, error codes, retry counts  </li><li>Sampled: rendered prompts, retrieved snippets, tool payload summaries (redacted)  </li><li>Never: raw PII, secrets, complete business payloads, unredacted user inputs without controls</li></ul><p>In practice, teams often use a three-tier storage model:</p><ol><li><strong>Telemetry store (hot)</strong>: spans, metrics, and structured logs; fast queries; short retention.  </li><li><strong>Replay store (secure)</strong>: encrypted, access-controlled, and TTL-limited artefacts (prompt renders, retrieval snapshots, tool payload summaries).  </li><li><strong>System of record (business data)</strong>: your normal databases; do not duplicate sensitive payloads into observability systems.</li></ol><p>Align these rules with governance frameworks (for example, NIST AI RMF and the OWASP LLM Top 10).</p><h1><span id="4-metrics-unify-slos-cost-budgets-and-quality-signals">4. Metrics: Unify SLOs, Cost Budgets, and Quality Signals</span><a href="#4-metrics-unify-slos-cost-budgets-and-quality-signals" class="header-anchor">#</a></h1><p>Traces answer â€œwhy this run failedâ€. Metrics answer â€œwhat is trending and when to page someoneâ€. For agent systems, start with four metric groups:</p><ol><li><p><strong>Latency and reliability</strong></p><ul><li>end-to-end P50&#x2F;P95&#x2F;P99, success rate (separate â€œgood answerâ€ vs â€œaction succeededâ€), tool failure&#x2F;retry rates</li></ul></li><li><p><strong>Cost and resources</strong></p><ul><li>token distributions and per-run cost, retrieval cost, external API costs, cache hit rate and savings</li></ul></li><li><p><strong>Quality (start with weak supervision)</strong></p><ul><li>user feedback, sampled human pass rate, eval-based factual error rate, citation coverage rate</li></ul></li><li><p><strong>Risk and guardrails</strong></p><ul><li>safety block rate, permission denial counts, downgrade&#x2F;handoff rates and recovery time</li></ul></li></ol><p>One operational nuance: â€œsuccessâ€ for agents is multi-layered. A run can be technically successful (no exceptions) but still unacceptable (wrong answer, wrong action, unsafe output). Many teams separate SLIs:</p><ul><li><strong>Action SLI</strong>: was the intended tool action executed correctly? (refund created, ticket opened, email sent)</li><li><strong>Answer SLI</strong>: was the response acceptable? (human pass rate, eval score, user satisfaction)</li><li><strong>Budget SLI</strong>: did the run stay within latency&#x2F;cost envelopes? (token caps, per-run cost ceilings)</li></ul><p>Once you define SLIs, you can adopt classic SRE practices like error budgets and burn rates: treat â€œbad answersâ€ and â€œbudget violationsâ€ as first-class budget consumers, not merely â€œML quirksâ€.</p><p>Once metrics and traces share the same dimensions, you can answer: â€œIs cost rising because tools are retrying, or because retrieval quality dropped and the agent is looping?â€</p><h1><span id="5-logs-and-audits-replayable-accountable-and-redacted">5. Logs and Audits: Replayable, Accountable, and Redacted</span><a href="#5-logs-and-audits-replayable-accountable-and-redacted" class="header-anchor">#</a></h1><p>Treat agent logs as two layers:</p><ol><li><strong>Runtime logs (ops view)</strong>: timeouts, dependency faults, retries, quota triggers  </li><li><strong>Decision logs (governance view)</strong>: why a model&#x2F;tool was chosen, why a policy fired, why a downgrade happened</li></ol><p>Decision logs should be structured and bound to <code>trace_id</code>. A practical minimal schema:</p><ul><li>trace_id &#x2F; session_id &#x2F; tenant_id &#x2F; task_type</li><li>planner decision summary (redacted)</li><li>tool selection rationale (rule hit &#x2F; model judgement &#x2F; human override)</li><li>guardrail hits (rule_id, severity, action)</li><li>version stamps: prompt_version &#x2F; policy_version &#x2F; tool_schema_version</li></ul><p>This turns postmortems from â€œopinionsâ€ into â€œfactsâ€.</p><p>Two guardrails that matter in real organisations:</p><ul><li><strong>Redact at collection time</strong> when possible. If you rely on â€œquery-time maskingâ€, someone will eventually run the wrong query.  </li><li><strong>Scope access by role</strong>. Ops engineers may need timings and error codes; security reviewers may need policy hits; only a small group should access replay artefacts.</li></ul><h1><span id="6-a-one-week-mvp-make-the-black-box-transparent">6. A One-Week MVP: Make the Black Box Transparent</span><a href="#6-a-one-week-mvp-make-the-black-box-transparent" class="header-anchor">#</a></h1><p>If you are starting from zero, ship an MVP before building an â€œagent platformâ€. A one-week MVP can achieve:</p><ol><li>every run has a trace_id with a span tree  </li><li>model&#x2F;tool&#x2F;retrieval spans support basic aggregation (â€œslowestâ€, â€œmost expensiveâ€, â€œmost failuresâ€)  </li><li>critical paths are replayable (prompt version + retrieved references + tool calls)</li></ol><p>Acceptance checklist:</p><ul><li><input disabled type="checkbox"> <code>agent.run</code> records tenant_id, task_type, final status (success&#x2F;failed&#x2F;downgraded&#x2F;handoff)</li><li><input disabled type="checkbox"> every <code>tool.call</code> has tool.name, latency, status_code, retry.count (payloads redacted)</li><li><input disabled type="checkbox"> every <code>model.infer</code> has model.name, tokens in&#x2F;out, latency, cost (if available)</li><li><input disabled type="checkbox"> <code>retrieval.search</code> includes index_version, top_k, hit count, filtered count (auth)</li><li><input disabled type="checkbox"> guardrail hits are traceable: rule_id, action, severity</li></ul><p>Common pitfalls to avoid in the first week:</p><ul><li>You generate a <code>trace_id</code> but lose it at the first async boundary (queue, background worker, tool runner).</li><li>You log raw prompts and user payloads â€œtemporarilyâ€, and they stay forever in the log lake.</li><li>Your metrics explode in cardinality because you tag everything with user_id or raw query text.</li><li>You can see tool failures but not the <em>tool schema version</em>, so you cannot correlate breakage with schema changes.</li></ul><h1><span id="7-what-s-next">7. Whatâ€™s Next</span><a href="#7-what-s-next" class="header-anchor">#</a></h1><p>This post introduced a practical inventory plus a unified Trace&#x2F;Metrics&#x2F;Logs model, with one goal: <strong>turn agent runs into explainable pipelines</strong>.</p><p>In Part 2, I will make this concrete: how to instrument an agent workflow with an OpenTelemetry mindset, build dashboards and alerts without creating a â€œplatform taxâ€, and implement safe replay patterns.</p><h1><span id="references">References</span><a href="#references" class="header-anchor">#</a></h1><ul><li>OpenTelemetry docs: <a href="https://opentelemetry.io/docs/">https://opentelemetry.io/docs/</a>  </li><li>OWASP Top 10 for LLM Applications: <a href="https://owasp.org/www-project-top-10-for-large-language-model-applications/">https://owasp.org/www-project-top-10-for-large-language-model-applications/</a>  </li><li>NIST AI Risk Management Framework: <a href="https://www.nist.gov/itl/ai-risk-management-framework">https://www.nist.gov/itl/ai-risk-management-framework</a>  </li><li>Kubernetes docs (background on production observability patterns): <a href="https://kubernetes.io/docs/">https://kubernetes.io/docs/</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;table-of-contents&quot;&gt;Table of Contents&lt;/span&gt;&lt;a href=&quot;#table-of-contents&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-</summary>
      
    
    
    
    
    <category term="#Observability" scheme="https://imchenway.com/tags/Observability/"/>
    
    <category term="#SRE" scheme="https://imchenway.com/tags/SRE/"/>
    
    <category term="#Tracing" scheme="https://imchenway.com/tags/Tracing/"/>
    
    <category term="#OpenTelemetry" scheme="https://imchenway.com/tags/OpenTelemetry/"/>
    
    <category term="#AIInfrastructure" scheme="https://imchenway.com/tags/AIInfrastructure/"/>
    
  </entry>
  
  <entry>
    <title>Agent å¯è§‚æµ‹æ€§ï¼ˆAgentOpsï¼‰â‘ ï¼šæŠŠ Prompt / Tool / Memory å˜æˆå¯è¿½è¸ªçš„ Trace</title>
    <link href="https://imchenway.com/zh-CN/2026-01-agentops-observability-1/"/>
    <id>https://imchenway.com/zh-CN/2026-01-agentops-observability-1/</id>
    <published>2026-01-20T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#1-xi-lie-dao-du-wei-shi-me-agent-xu-yao-ke-guan-ce-xing">1. ç³»åˆ—å¯¼è¯»ï¼šä¸ºä»€ä¹ˆ Agent éœ€è¦â€œå¯è§‚æµ‹æ€§â€</a></li><li><a href="#2-guan-ce-dui-xiang-qing-dan-agent-xi-tong-dao-di-yao-kan-shi-me">2. è§‚æµ‹å¯¹è±¡æ¸…å•ï¼šAgent ç³»ç»Ÿåˆ°åº•è¦çœ‹ä»€ä¹ˆ</a></li><li><a href="#3-trace-mo-xing-ba-yi-ci-agent-ren-wu-chai-cheng-span-shu">3. Trace æ¨¡å‹ï¼šæŠŠä¸€æ¬¡ Agent ä»»åŠ¡æ‹†æˆ Span æ ‘</a><ul><li><a href="#3-1-jian-yi-de-span-shu-xing-shi-li">3.1 å»ºè®®çš„ Span å±æ€§ï¼ˆç¤ºä¾‹ï¼‰</a></li><li><a href="#3-2-zhui-zong-shi-me-bu-zhui-zong-shi-me">3.2 è¿½è¸ªä»€ä¹ˆï¼Œä¸è¿½è¸ªä»€ä¹ˆ</a></li></ul></li><li><a href="#4-zhi-biao-metrics-ba-slo-cheng-ben-zhi-liang-lian-dao-tong-yi-zhang-biao">4. æŒ‡æ ‡ï¼ˆMetricsï¼‰ï¼šæŠŠ SLOã€æˆæœ¬ã€è´¨é‡è”åˆ°åŒä¸€å¼ è¡¨</a></li><li><a href="#5-ri-zhi-yu-shen-ji-logs-ke-hui-fang-ke-zhui-ze-ke-tuo-min">5. æ—¥å¿—ä¸å®¡è®¡ï¼ˆLogsï¼‰ï¼šå¯å›æ”¾ã€å¯è¿½è´£ã€å¯è„±æ•</a></li><li><a href="#6-zui-xiao-luo-di-fang-an-mvp-yi-zhou-nei-ba-hei-xiang-da-kai">6. æœ€å°è½åœ°æ–¹æ¡ˆï¼ˆMVPï¼‰ï¼šä¸€å‘¨å†…æŠŠé»‘ç®±æ‰“å¼€</a></li><li><a href="#7-jie-yu-xia-yi-pian-hui-xie-shi-me">7. ç»“è¯­ï¼šä¸‹ä¸€ç¯‡ä¼šå†™ä»€ä¹ˆ</a></li><li><a href="#can-kao-zi-liao">å‚è€ƒèµ„æ–™</a></li></ul><!-- tocstop --></div><h1><span id="1-xi-lie-dao-du-wei-shi-me-agent-xu-yao-ke-guan-ce-xing">1. ç³»åˆ—å¯¼è¯»ï¼šä¸ºä»€ä¹ˆ Agent éœ€è¦â€œå¯è§‚æµ‹æ€§â€</span><a href="#1-xi-lie-dao-du-wei-shi-me-agent-xu-yao-ke-guan-ce-xing" class="header-anchor">#</a></h1><p>å½“ä½ æŠŠä¸€ä¸ªåº”ç”¨ä»â€œå•ä½“æœåŠ¡â€æ¼”è¿›åˆ°â€œåˆ†å¸ƒå¼ç³»ç»Ÿâ€ï¼Œæœ€å¤§çš„å˜åŒ–å¾€å¾€ä¸æ˜¯ä»£ç é‡ï¼Œè€Œæ˜¯<strong>ç³»ç»Ÿå˜æˆäº†é»‘ç®±</strong>ï¼šä¸€æ¬¡è¯·æ±‚è·¨è¶Šå¤šä¸ªæœåŠ¡ã€å¤šä¸ªé˜Ÿåˆ—ã€å¤šä¸ªæ•°æ®åº“ï¼Œé ç›´è§‰æ’æŸ¥å¾ˆå¿«å¤±æ•ˆï¼Œäºæ˜¯ä½ éœ€è¦æ—¥å¿—ã€æŒ‡æ ‡ã€è¿½è¸ªï¼Œæ¥å›ç­”ä¸‰ä¸ªæœ€æœ´ç´ çš„é—®é¢˜ï¼š</p><ul><li><strong>å‘ç”Ÿäº†ä»€ä¹ˆ</strong>ï¼ˆWhatï¼‰ï¼šè¿™æ¬¡è¯·æ±‚åˆ°åº•èµ°äº†å“ªäº›æ­¥éª¤ï¼Ÿ  </li><li><strong>ä¸ºä»€ä¹ˆå‘ç”Ÿ</strong>ï¼ˆWhyï¼‰ï¼šæ˜¯æ¨¡å‹ã€æ£€ç´¢ã€å·¥å…·è°ƒç”¨ã€è¿˜æ˜¯ä¸Šä¸‹æ–‡æ‹¼è£…å‡ºäº†é—®é¢˜ï¼Ÿ  </li><li><strong>è¯¥æ€ä¹ˆä¿®</strong>ï¼ˆHowï¼‰ï¼šä¿®å¤åæ˜¯å¦å›å½’ï¼Ÿæˆæœ¬ä¸å»¶è¿Ÿæ˜¯å¦ä»å—æ§ï¼Ÿ</li></ul><p>Agentï¼ˆç¼–æ’ + å·¥å…·è°ƒç”¨ + è®°å¿† + æ£€ç´¢ + æ¨¡å‹æ¨ç†ï¼‰æŠŠé»‘ç®±è¿›ä¸€æ­¥æ”¾å¤§ï¼šåŒæ ·æ˜¯â€œç”Ÿæˆä¸€æ®µå›å¤â€ï¼ŒèƒŒåå¯èƒ½å‘ç”Ÿäº†å¤šè½®è§„åˆ’ã€æ£€ç´¢ã€è°ƒç”¨ã€é‡è¯•ã€å›é€€ã€é™çº§ã€‚æ²¡æœ‰å¯è§‚æµ‹æ€§ï¼Œä½ ä¼šåœ¨ä»¥ä¸‹åœºæ™¯åå¤è¸©å‘ï¼š</p><ul><li>çº¿ä¸Šå‡ºç°â€œå¶å‘æ€§èƒ¡è¯´&#x2F;é”™è°ƒç”¨&#x2F;æ­»å¾ªç¯é‡è¯•â€ï¼Œä½†ä½ åªèƒ½çœ‹åˆ°æœ€ç»ˆè¾“å‡ºï¼Œæ— æ³•å®šä½ä¸­é—´å†³ç­–é“¾è·¯ï¼›</li><li>æˆæœ¬çªç„¶é£™å‡ï¼ˆtokenã€æ£€ç´¢ã€å¤–éƒ¨ API è°ƒç”¨ï¼‰ï¼Œä½†ä½ ä¸çŸ¥é“æ˜¯å“ªç±»ä»»åŠ¡ã€å“ªæ¡è·¯å¾„ã€å“ªä¸ªå·¥å…·å¯¼è‡´ï¼›</li><li>ä½ æ”¹äº† Promptã€è·¯ç”±ç­–ç•¥æˆ– Guardrailï¼Œæ„Ÿè§‰â€œåº”è¯¥æ›´å¥½â€ï¼Œå´ç¼ºå°‘å¯é‡åŒ–çš„å›å½’éªŒè¯å’Œé£é™©é—¸é—¨ã€‚</li></ul><p>å› æ­¤ï¼ŒAgentOps çš„ç¬¬ä¸€æ€§åŸç†æ˜¯ï¼š<strong>æŠŠä¸€æ¬¡ Agent ä»»åŠ¡è¿˜åŸæˆâ€œå¯è¿½è¸ªçš„æµæ°´çº¿â€</strong>ï¼Œè®©æ¯ä¸€æ¬¡ Promptã€æ¯ä¸€æ¬¡æ£€ç´¢ã€æ¯ä¸€æ¬¡å·¥å…·è°ƒç”¨ã€æ¯ä¸€æ¬¡æ¨¡å‹æ¨ç†ï¼Œéƒ½èƒ½åƒåˆ†å¸ƒå¼é“¾è·¯ä¸€æ ·è¢«è§‚æµ‹ã€èšåˆã€å‘Šè­¦ã€å¤ç›˜ã€‚</p><p>æœ¬ç³»åˆ—è®¡åˆ’ä¸‰ç¯‡ï¼š</p><ol><li><strong>åŸºç¡€ç¯‡ï¼ˆæœ¬æ–‡ï¼‰</strong>ï¼šè§‚æµ‹å¯¹è±¡æ¸…å• + Trace&#x2F;Metric&#x2F;Log çš„ç»Ÿä¸€æ¨¡å‹  </li><li><strong>è½åœ°ç¯‡</strong>ï¼šæœ€å°å¯è¡Œæ–¹æ¡ˆï¼ˆMVPï¼‰æ€ä¹ˆåŸ‹ç‚¹ã€æ€ä¹ˆå»ºçœ‹æ¿ã€æ€ä¹ˆåšå›æ”¾  </li><li><strong>å¤ç›˜ç¯‡</strong>ï¼šæŠŠå¯è§‚æµ‹æ€§æ¥å…¥ SLO&#x2F;é”™è¯¯é¢„ç®—&#x2F;å®‰å…¨å®¡è®¡ï¼Œå½¢æˆç»„ç»‡çº§é—­ç¯</li></ol><h1><span id="2-guan-ce-dui-xiang-qing-dan-agent-xi-tong-dao-di-yao-kan-shi-me">2. è§‚æµ‹å¯¹è±¡æ¸…å•ï¼šAgent ç³»ç»Ÿåˆ°åº•è¦çœ‹ä»€ä¹ˆ</span><a href="#2-guan-ce-dui-xiang-qing-dan-agent-xi-tong-dao-di-yao-kan-shi-me" class="header-anchor">#</a></h1><p>ä¼ ç»ŸæœåŠ¡æœ€å¸¸è§çš„è§‚æµ‹å¯¹è±¡æ˜¯ï¼šHTTP è¯·æ±‚ã€æ•°æ®åº“æŸ¥è¯¢ã€ç¼“å­˜å‘½ä¸­ã€é˜Ÿåˆ—ç§¯å‹ã€‚Agent ç³»ç»Ÿéœ€è¦æŠŠâ€œæ¨ç†ç›¸å…³â€çš„å¯¹è±¡æ˜¾å¼å»ºæ¨¡ï¼Œå¦åˆ™ä½ ä¼šæ°¸è¿œåœç•™åœ¨â€œçœ‹ç»“æœçŒœè¿‡ç¨‹â€çš„çŠ¶æ€ã€‚</p><p>å»ºè®®æŠŠ Agent ä»»åŠ¡æ‹†æˆ 6 ç±»è§‚æµ‹å¯¹è±¡ï¼ˆä»ç”¨æˆ·è§†è§’åˆ°å¹³å°è§†è§’é€å±‚å±•å¼€ï¼‰ï¼š</p><ol><li><p><strong>å…¥å£è¯·æ±‚ï¼ˆTask &#x2F; Sessionï¼‰</strong></p><ul><li>è°åœ¨ä»€ä¹ˆæ—¶å€™å‘èµ·ï¼Ÿï¼ˆuser&#x2F;tenant&#x2F;channelï¼‰</li><li>ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆintent &#x2F; task_typeï¼‰</li><li>è¾“å‡ºè´¨é‡å¦‚ä½•ï¼Ÿï¼ˆç”¨æˆ·åé¦ˆ&#x2F;ç‚¹èµ&#x2F;äººå·¥éªŒæ”¶ç»“æœï¼‰</li></ul></li><li><p><strong>ä¸Šä¸‹æ–‡æ„å»ºï¼ˆContext Assemblyï¼‰</strong></p><ul><li>Prompt æ¨¡æ¿ç‰ˆæœ¬ã€å˜é‡å¡«å……ç»“æœã€è£å‰ª&#x2F;å‹ç¼©ç­–ç•¥æ˜¯å¦è§¦å‘</li><li>å®‰å…¨å‡€åŒ–ï¼ˆPII è„±æ•ã€æ³¨å…¥è¿‡æ»¤ï¼‰æ˜¯å¦è§¦å‘</li></ul></li><li><p><strong>æ£€ç´¢ä¸çŸ¥è¯†ï¼ˆRetrieval &#x2F; RAGï¼‰</strong></p><ul><li>query ç”Ÿæˆã€å‘é‡æ£€ç´¢&#x2F;å…³é”®è¯æ£€ç´¢ã€é‡æ’ï¼ˆrerankï¼‰</li><li>å‘½ä¸­æ–‡æ¡£åˆ—è¡¨ã€åˆ†æ•°åˆ†å¸ƒã€æƒé™è¿‡æ»¤æ˜¯å¦ç”Ÿæ•ˆ</li><li>æ–°é²œåº¦ä¸ä¸€è‡´æ€§ï¼šç´¢å¼•ç‰ˆæœ¬ã€æ•°æ®æ›´æ–°æ—¶é—´</li></ul></li><li><p><strong>å·¥å…·è°ƒç”¨ï¼ˆTools &#x2F; Actionsï¼‰</strong></p><ul><li>è°ƒäº†å“ªä¸ªå·¥å…·ï¼Ÿå‚æ•°æ˜¯ä»€ä¹ˆï¼ˆéœ€è„±æ•ï¼‰ï¼Ÿè°ƒç”¨è€—æ—¶&#x2F;å¤±è´¥ç‡&#x2F;é‡è¯•æ¬¡æ•°</li><li>å¤–éƒ¨ä¾èµ–ï¼ˆæ”¯ä»˜ã€CRMã€å·¥å•ç­‰ï¼‰è¿”å›çš„é”™è¯¯ç±»å‹ä¸é¢‘ç‡</li></ul></li><li><p><strong>æ¨¡å‹æ¨ç†ï¼ˆModel Inferenceï¼‰</strong></p><ul><li>ä½¿ç”¨çš„æ¨¡å‹&#x2F;ç‰ˆæœ¬ã€è¾“å…¥&#x2F;è¾“å‡º tokenã€å»¶è¿Ÿã€æ‹’ç­”&#x2F;å®‰å…¨æ‹¦æˆª</li><li>é‡‡æ ·å‚æ•°ï¼ˆtemperature ç­‰ï¼‰æˆ–è·¯ç”±ç­–ç•¥ï¼ˆä¸ºä»€ä¹ˆé€‰è¿™ä¸ªæ¨¡å‹ï¼‰</li></ul></li><li><p><strong>ç­–ç•¥ä¸æŠ¤æ ï¼ˆPolicy &#x2F; Guardrailsï¼‰</strong></p><ul><li>æ˜¯å¦è§¦å‘ï¼šå†…å®¹å®‰å…¨ã€å·¥å…·æƒé™ã€é¢„ç®—é˜ˆå€¼ã€é™çº§è·¯å¾„</li><li>è§¦å‘ååšäº†ä»€ä¹ˆåŠ¨ä½œï¼šæ”¹å†™ Promptã€é‡è¯•ã€åˆ‡å°æ¨¡å‹ã€è½¬äººå·¥</li></ul></li></ol><p>æŠŠè¿™ 6 ç±»å¯¹è±¡å®Œæ•´ä¸²èµ·æ¥ï¼Œä½ æ‰èƒ½çœŸæ­£å›ç­”ï¼šâ€œä¸€æ¬¡ä»»åŠ¡çš„æˆæœ¬ã€å»¶è¿Ÿã€è´¨é‡ã€é£é™©ï¼Œåˆ†åˆ«ç”±å“ªä¸ªç¯èŠ‚è´¡çŒ®â€ã€‚</p><h1><span id="3-trace-mo-xing-ba-yi-ci-agent-ren-wu-chai-cheng-span-shu">3. Trace æ¨¡å‹ï¼šæŠŠä¸€æ¬¡ Agent ä»»åŠ¡æ‹†æˆ Span æ ‘</span><a href="#3-trace-mo-xing-ba-yi-ci-agent-ren-wu-chai-cheng-span-shu" class="header-anchor">#</a></h1><p>æœ€å®ç”¨çš„åšæ³•æ˜¯æŠŠ Agent ä»»åŠ¡è§†ä½œä¸€æ¬¡åˆ†å¸ƒå¼è°ƒç”¨é“¾ï¼š<strong>ä¸€ä¸ª root span + å¤šä¸ªå­ span</strong>ã€‚ä½ ä¸éœ€è¦è¿½æ±‚ä¸€å¼€å§‹å°±â€œå®Œå…¨æ ‡å‡†åŒ–â€ï¼Œä½†è¦ä¿è¯ä¸‰ä»¶äº‹ï¼š</p><ol><li><strong>èƒ½ä¸²èµ·æ¥</strong>ï¼šåŒä¸€æ¬¡ä»»åŠ¡çš„æ‰€æœ‰æ­¥éª¤å¯å…³è”ï¼ˆtrace_id + session_idï¼‰  </li><li><strong>èƒ½èšåˆ</strong>ï¼šå…³é”®å­—æ®µå¯ç”¨äºåˆ†ç»„ç»Ÿè®¡ï¼ˆæ¨¡å‹åã€å·¥å…·åã€tenantã€task_typeï¼‰  </li><li><strong>èƒ½å›æ”¾</strong>ï¼šå¿…è¦ä¸Šä¸‹æ–‡å¯åœ¨è„±æ•åé‡å»ºï¼ˆPrompt ç‰ˆæœ¬ã€æ£€ç´¢ç»“æœå¼•ç”¨ã€å·¥å…·è°ƒç”¨æ‘˜è¦ï¼‰</li></ol><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå…¸å‹çš„ Trace ç»“æ„ï¼ˆçº¯æ–‡æœ¬ç¤ºæ„ï¼‰ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">agent.run (root)</span><br><span class="line">â”œâ”€â”€ prompt.render</span><br><span class="line">â”œâ”€â”€ guardrail.input_sanitize</span><br><span class="line">â”œâ”€â”€ retrieval.query_generate</span><br><span class="line">â”œâ”€â”€ retrieval.search</span><br><span class="line">â”œâ”€â”€ retrieval.rerank</span><br><span class="line">â”œâ”€â”€ model.infer (planner)</span><br><span class="line">â”œâ”€â”€ tool.call (jira.createTicket)</span><br><span class="line">â”œâ”€â”€ tool.call (payments.refund)</span><br><span class="line">â”œâ”€â”€ model.infer (final)</span><br><span class="line">â””â”€â”€ guardrail.output_filter</span><br></pre></td></tr></table></figure><h2><span id="3-1-jian-yi-de-span-shu-xing-shi-li">3.1 å»ºè®®çš„ Span å±æ€§ï¼ˆç¤ºä¾‹ï¼‰</span><a href="#3-1-jian-yi-de-span-shu-xing-shi-li" class="header-anchor">#</a></h2><p>ä¸ºäº†åç»­èƒ½ç»Ÿè®¡â€œè°æœ€æ…¢ã€è°æœ€è´µã€è°æœ€ä¸ç¨³å®šâ€ï¼Œæ¯ç±» span è‡³å°‘è¦æœ‰ä¸€ç»„å¯èšåˆå­—æ®µã€‚ç¤ºä¾‹ï¼ˆä»…ç¤ºæ„ï¼Œå­—æ®µåå¯æŒ‰ä½ å›¢é˜Ÿè§„èŒƒè°ƒæ•´ï¼‰ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;trace_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;â€¦&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;session_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;â€¦&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tenant_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;acme&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;task_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;support_ticket&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;span.kind&quot;</span><span class="punctuation">:</span> <span class="string">&quot;INTERNAL&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;component&quot;</span><span class="punctuation">:</span> <span class="string">&quot;agent&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;step&quot;</span><span class="punctuation">:</span> <span class="string">&quot;model.infer&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;model.name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;â€¦&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;model.version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;â€¦&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tokens.input&quot;</span><span class="punctuation">:</span> <span class="number">1234</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tokens.output&quot;</span><span class="punctuation">:</span> <span class="number">456</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;cost.usd&quot;</span><span class="punctuation">:</span> <span class="number">0.0123</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;latency.ms&quot;</span><span class="punctuation">:</span> <span class="number">850</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;retry.count&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;policy.downgraded&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å…³é”®ç‚¹ï¼š<strong>æŠŠâ€œæˆæœ¬ä¸è´¨é‡â€ä¹Ÿå½“ä½œä¸€ç­‰å…¬æ°‘</strong>ã€‚Agent ä¸æ˜¯çº¯è®¡ç®—æœåŠ¡ï¼Œå®ƒæ˜¯â€œè´¨é‡&#x2F;æˆæœ¬&#x2F;é£é™©â€çš„æƒè¡¡æœºå™¨ï¼›åªçœ‹å»¶è¿Ÿä¼šè¯¯å¯¼ä½ ã€‚</p><h2><span id="3-2-zhui-zong-shi-me-bu-zhui-zong-shi-me">3.2 è¿½è¸ªä»€ä¹ˆï¼Œä¸è¿½è¸ªä»€ä¹ˆ</span><a href="#3-2-zhui-zong-shi-me-bu-zhui-zong-shi-me" class="header-anchor">#</a></h2><p>å¯è§‚æµ‹æ€§ä¸æ˜¯â€œæŠŠä¸€åˆ‡éƒ½è®°å½•ä¸‹æ¥â€ã€‚å»ºè®®ç»™å‡ºæ˜ç¡®çš„åˆ†çº§ç­–ç•¥ï¼š</p><ul><li>å¿…è¿½è¸ªï¼šspan æ—¶é—´çº¿ã€æ¨¡å‹&#x2F;å·¥å…·&#x2F;æ£€ç´¢çš„èšåˆå­—æ®µã€é”™è¯¯ç ä¸é‡è¯•  </li><li>å¯é‡‡æ ·ï¼šPrompt æ¸²æŸ“ç»“æœã€æ£€ç´¢å‘½ä¸­æ–‡æ¡£ç‰‡æ®µã€å·¥å…·å…¥å‚&#x2F;å‡ºå‚æ‘˜è¦  </li><li>ç¦æ­¢è½ç›˜ï¼šåŸå§‹ PIIã€å¯†é’¥ã€å®Œæ•´ä¸šåŠ¡æ•°æ®ã€æœªç»æˆæƒçš„ç”¨æˆ·è¾“å…¥åŸæ–‡ï¼ˆæˆ–éœ€ä¸¥æ ¼è„±æ•&#x2F;åŠ å¯†&#x2F;è®¿é—®æ§åˆ¶ï¼‰</li></ul><p>è¿™ç±»ç­–ç•¥å»ºè®®ä¸å®‰å…¨å›¢é˜Ÿå¯¹é½ï¼Œå¹¶ç»“åˆé£é™©æ¡†æ¶æ‰§è¡Œï¼ˆå¯å‚è€ƒ NIST AI RMF ä¸ OWASP LLM Top 10 çš„æ²»ç†æ€è·¯ï¼‰ã€‚</p><h1><span id="4-zhi-biao-metrics-ba-slo-cheng-ben-zhi-liang-lian-dao-tong-yi-zhang-biao">4. æŒ‡æ ‡ï¼ˆMetricsï¼‰ï¼šæŠŠ SLOã€æˆæœ¬ã€è´¨é‡è”åˆ°åŒä¸€å¼ è¡¨</span><a href="#4-zhi-biao-metrics-ba-slo-cheng-ben-zhi-liang-lian-dao-tong-yi-zhang-biao" class="header-anchor">#</a></h1><p>è¿½è¸ªè§£å†³â€œå•æ¬¡è¯·æ±‚çš„å› æœé“¾â€ï¼ŒæŒ‡æ ‡è§£å†³â€œæ•´ä½“è¶‹åŠ¿ä¸å‘Šè­¦â€ã€‚å¯¹ Agent ç³»ç»Ÿæ¥è¯´ï¼Œå»ºè®®è‡³å°‘è½åœ°å››ç»„æ ¸å¿ƒæŒ‡æ ‡ï¼š</p><ol><li><p><strong>å»¶è¿Ÿä¸å¯é æ€§</strong></p><ul><li>ç«¯åˆ°ç«¯å»¶è¿Ÿ P50&#x2F;P95&#x2F;P99</li><li>ä»»åŠ¡æˆåŠŸç‡ï¼ˆå«â€œè¾“å‡ºåˆæ ¼â€ä¸â€œåŠ¨ä½œæ‰§è¡ŒæˆåŠŸâ€çš„åŒºåˆ†ï¼‰</li><li>å·¥å…·è°ƒç”¨å¤±è´¥ç‡&#x2F;é‡è¯•ç‡</li></ul></li><li><p><strong>æˆæœ¬ä¸èµ„æº</strong></p><ul><li>token è¾“å…¥&#x2F;è¾“å‡ºåˆ†å¸ƒã€å•ä½ä»»åŠ¡æˆæœ¬</li><li>æ£€ç´¢æˆæœ¬ï¼ˆå‘é‡æ£€ç´¢ QPSã€é‡æ’å¼€é”€ï¼‰ã€å¤–éƒ¨ API æˆæœ¬</li><li>ç¼“å­˜å‘½ä¸­ç‡ä¸èŠ‚çœé‡</li></ul></li><li><p><strong>è´¨é‡ï¼ˆå¯ä»¥ä»â€œå¼±ç›‘ç£â€å¼€å§‹ï¼‰</strong></p><ul><li>ç”¨æˆ·åé¦ˆï¼ˆğŸ‘&#x2F;ğŸ‘ï¼‰ã€äººå·¥æŠ½æ£€é€šè¿‡ç‡</li><li>äº‹å®æ€§é”™è¯¯ç‡ï¼ˆåŸºäºæŠ½æ ·å®¡æ ¸æˆ– Evalsï¼‰</li><li>å¼•ç”¨è¦†ç›–ç‡ï¼ˆæœ‰å¤šå°‘å›ç­”å¸¦å¼•ç”¨&#x2F;è¯æ®é“¾ï¼‰</li></ul></li><li><p><strong>é£é™©ä¸æŠ¤æ </strong></p><ul><li>å®‰å…¨æ‹¦æˆªç‡ï¼ˆè¾“å…¥&#x2F;è¾“å‡ºï¼‰</li><li>è¶Šæƒå·¥å…·è°ƒç”¨æ‹¦æˆªæ¬¡æ•°</li><li>è§¦å‘é™çº§&#x2F;è½¬äººå·¥çš„æ¯”ä¾‹ä¸æ¢å¤æ—¶é—´</li></ul></li></ol><p>æŠŠè¿™äº›æŒ‡æ ‡å’Œ trace çš„ç»´åº¦å­—æ®µæ‰“é€šï¼Œä½ å°±èƒ½å›ç­”ï¼šâ€œæŸç§Ÿæˆ·çš„æˆæœ¬ä¸Šå‡ï¼Œæ˜¯å› ä¸ºå·¥å…·å¤±è´¥é‡è¯•ï¼Œè¿˜æ˜¯å› ä¸º RAG å‘½ä¸­å˜å·®å¯¼è‡´å¤šè½®æ¨ç†ï¼Ÿâ€</p><h1><span id="5-ri-zhi-yu-shen-ji-logs-ke-hui-fang-ke-zhui-ze-ke-tuo-min">5. æ—¥å¿—ä¸å®¡è®¡ï¼ˆLogsï¼‰ï¼šå¯å›æ”¾ã€å¯è¿½è´£ã€å¯è„±æ•</span><a href="#5-ri-zhi-yu-shen-ji-logs-ke-hui-fang-ke-zhui-ze-ke-tuo-min" class="header-anchor">#</a></h1><p>Agent ç³»ç»Ÿçš„æ—¥å¿—æœ€å¥½åˆ†æˆä¸¤å±‚ï¼š</p><ol><li><strong>è¿è¡Œæ—¥å¿—ï¼ˆè¿ç»´è§†è§’ï¼‰</strong>ï¼šé”™è¯¯æ ˆã€è¶…æ—¶ã€ä¾èµ–æ•…éšœã€é‡è¯•ã€é…é¢è§¦å‘  </li><li><strong>å†³ç­–æ—¥å¿—ï¼ˆäº§å“&#x2F;æ²»ç†è§†è§’ï¼‰</strong>ï¼šä¸ºä»€ä¹ˆé€‰è¿™ä¸ªå·¥å…·&#x2F;æ¨¡å‹ï¼Ÿä¸ºä»€ä¹ˆæ‹’ç­”&#x2F;é™çº§ï¼Ÿä¸ºä»€ä¹ˆè§¦å‘æŸæ¡ç­–ç•¥ï¼Ÿ</li></ol><p>å¼ºçƒˆå»ºè®®ç»™â€œå†³ç­–æ—¥å¿—â€ä¸€ä¸ªç»“æ„åŒ–æ ¼å¼ï¼Œå¹¶ä¸ trace_id ç»‘å®šã€‚ä¸€ä¸ªå¯è½åœ°çš„æœ€å°å­—æ®µé›†åˆï¼š</p><ul><li>trace_id &#x2F; session_id &#x2F; tenant_id &#x2F; task_type</li><li>planner è¾“å‡ºæ‘˜è¦ï¼ˆè„±æ•åï¼‰</li><li>å·¥å…·é€‰æ‹©ç†ç”±ï¼ˆè§„åˆ™å‘½ä¸­ &#x2F; æ¨¡å‹åˆ¤æ–­ &#x2F; äººå·¥è¾“å…¥ï¼‰</li><li>Guardrail å‘½ä¸­é¡¹ï¼ˆå“ªæ¡è§„åˆ™ã€è¯æ®æ˜¯ä»€ä¹ˆã€é‡‡å–äº†ä»€ä¹ˆåŠ¨ä½œï¼‰</li><li>é‡è¦ç‰ˆæœ¬å·ï¼šprompt_version &#x2F; policy_version &#x2F; tool_schema_version</li></ul><p>æœ‰äº†è¿™äº›å­—æ®µï¼Œä½ çš„å¤ç›˜ä¼šä»â€œè®¨è®ºè§‚ç‚¹â€å˜æˆâ€œå¯¹é½äº‹å®â€ã€‚</p><h1><span id="6-zui-xiao-luo-di-fang-an-mvp-yi-zhou-nei-ba-hei-xiang-da-kai">6. æœ€å°è½åœ°æ–¹æ¡ˆï¼ˆMVPï¼‰ï¼šä¸€å‘¨å†…æŠŠé»‘ç®±æ‰“å¼€</span><a href="#6-zui-xiao-luo-di-fang-an-mvp-yi-zhou-nei-ba-hei-xiang-da-kai" class="header-anchor">#</a></h1><p>å¦‚æœä½ è¦ä» 0 åˆ° 1 è½åœ°ï¼Œå»ºè®®å…ˆåš MVPï¼Œè€Œä¸æ˜¯ä¸€å£æ°”å»ºâ€œå…¨åŠŸèƒ½ Agent å¹³å°â€ã€‚ä¸€å‘¨å†…å¯ä»¥å®Œæˆçš„ MVP ç›®æ ‡æ˜¯ï¼š</p><ol><li><strong>æ¯æ¬¡ä»»åŠ¡éƒ½æœ‰ trace_id</strong>ï¼Œå¹¶èƒ½çœ‹åˆ°åŸºæœ¬çš„ span æ ‘  </li><li><strong>æ¨¡å‹&#x2F;å·¥å…·&#x2F;æ£€ç´¢ä¸‰ç±» span å¯èšåˆç»Ÿè®¡</strong>ï¼ˆè°æœ€æ…¢ã€è°æœ€è´µã€è°æœ€å¸¸å¤±è´¥ï¼‰  </li><li><strong>èƒ½å›æ”¾å…³é”®è·¯å¾„</strong>ï¼ˆè‡³å°‘èƒ½å¤ç°â€œç”¨äº†å“ªäº› Prompt ç‰ˆæœ¬ + å‘½ä¸­äº†å“ªäº›æ–‡æ¡£ + è°ƒäº†å“ªäº›å·¥å…·â€ï¼‰</li></ol><p>Checklistï¼ˆåƒæµ‹è¯•ä¸€æ ·å¯éªŒæ”¶ï¼‰ï¼š</p><ul><li><input disabled type="checkbox"> æ¯æ¬¡ agent.run éƒ½è®°å½•ï¼štenant_idã€task_typeã€æœ€ç»ˆçŠ¶æ€ï¼ˆsuccess&#x2F;failed&#x2F;downgraded&#x2F;handoffï¼‰</li><li><input disabled type="checkbox"> æ¯ä¸ª tool.call éƒ½æœ‰ï¼štool.nameã€latencyã€status_codeã€retry.countï¼ˆå…¥å‚&#x2F;å‡ºå‚æŒ‰ç­–ç•¥è„±æ•ï¼‰</li><li><input disabled type="checkbox"> æ¯ä¸ª model.infer éƒ½æœ‰ï¼šmodel.nameã€tokens.input&#x2F;outputã€latencyã€costï¼ˆè‹¥å¯å¾—ï¼‰</li><li><input disabled type="checkbox"> retrieval.search æœ‰ï¼šindex_versionã€top_kã€å‘½ä¸­æ•°é‡ã€è¿‡æ»¤æ•°é‡ï¼ˆæƒé™ï¼‰</li><li><input disabled type="checkbox"> guardrail å‘½ä¸­å¯è¿½è¸ªï¼šrule_idã€actionã€severity</li></ul><h1><span id="7-jie-yu-xia-yi-pian-hui-xie-shi-me">7. ç»“è¯­ï¼šä¸‹ä¸€ç¯‡ä¼šå†™ä»€ä¹ˆ</span><a href="#7-jie-yu-xia-yi-pian-hui-xie-shi-me" class="header-anchor">#</a></h1><p>æœ¬æ–‡æŠŠ Agent å¯è§‚æµ‹æ€§æ‹†æˆäº†â€œå¯¹è±¡æ¸…å• + Trace&#x2F;Metric&#x2F;Log çš„ç»Ÿä¸€æ¨¡å‹â€ï¼Œæ ¸å¿ƒç›®æ ‡åªæœ‰ä¸€ä¸ªï¼š<strong>è®© Agent ä»»åŠ¡ä»é»‘ç®±å˜æˆå¯è§£é‡Šçš„æµæ°´çº¿</strong>ã€‚</p><p>ä¸‹ä¸€ç¯‡ï¼ˆè½åœ°ç¯‡ï¼‰æˆ‘ä¼šæŠŠè¿™å¥—æ¨¡å‹è¿›ä¸€æ­¥å…·ä½“åŒ–ï¼šå¦‚ä½•åœ¨ä¸å¼•å…¥è¿‡å¤šå¹³å°å¤æ‚åº¦çš„å‰æä¸‹ï¼Œç”¨ OpenTelemetry çš„æ€è·¯æŠŠåŸ‹ç‚¹ã€çœ‹æ¿ã€å‘Šè­¦ã€å›æ”¾è·‘èµ·æ¥ï¼Œå¹¶ç»™å‡ºä¸€å¥—â€œä» 0 åˆ°å¯ç”¨â€çš„å·¥ç¨‹æ­¥éª¤ä¸å¸¸è§å‘æ¸…å•ã€‚</p><h1><span id="can-kao-zi-liao">å‚è€ƒèµ„æ–™</span><a href="#can-kao-zi-liao" class="header-anchor">#</a></h1><ul><li>OpenTelemetry å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://opentelemetry.io/docs/">https://opentelemetry.io/docs/</a>  </li><li>OWASP Top 10 for LLM Applicationsï¼š<a href="https://owasp.org/www-project-top-10-for-large-language-model-applications/">https://owasp.org/www-project-top-10-for-large-language-model-applications/</a>  </li><li>NIST AI Risk Management Frameworkï¼š<a href="https://www.nist.gov/itl/ai-risk-management-framework">https://www.nist.gov/itl/ai-risk-management-framework</a>  </li><li>Kubernetes æ–‡æ¡£ï¼ˆç”¨äºç†è§£åˆ†å¸ƒå¼é“¾è·¯ä¸å¯è§‚æµ‹å®è·µèƒŒæ™¯ï¼‰ï¼š<a href="https://kubernetes.io/docs/">https://kubernetes.io/docs/</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    <category term="Architecture" scheme="https://imchenway.com/categories/Architecture/"/>
    
    
    <category term="#Observability" scheme="https://imchenway.com/tags/Observability/"/>
    
    <category term="#SRE" scheme="https://imchenway.com/tags/SRE/"/>
    
    <category term="#Tracing" scheme="https://imchenway.com/tags/Tracing/"/>
    
    <category term="#OpenTelemetry" scheme="https://imchenway.com/tags/OpenTelemetry/"/>
    
    <category term="#AIInfrastructure" scheme="https://imchenway.com/tags/AIInfrastructure/"/>
    
  </entry>
  
  <entry>
    <title>MCP: Connecting Agents to Tools and Dataâ€”Safely</title>
    <link href="https://imchenway.com/en/mcp-agent-interface/"/>
    <id>https://imchenway.com/en/mcp-agent-interface/</id>
    <published>2026-01-18T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="table-of-contents">Table of Contents</span><a href="#table-of-contents" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#introduction">Introduction</a></li><li><a href="#1-mcp-in-one-sentence">1. MCP in one sentence</a></li><li><a href="#2-why-mcp-exists-three-recurring-failure-modes">2. Why MCP exists: three recurring failure modes</a><ul><li><a href="#2-1-integration-duplication-across-model-platforms">2.1 Integration duplication across model platforms</a></li><li><a href="#2-2-governance-scattered-across-clients">2.2 Governance scattered across clients</a></li><li><a href="#2-3-tool-evolution-breaks-clients">2.3 Tool evolution breaks clients</a></li></ul></li><li><a href="#3-the-mental-model-client-server-and-three-capability-types">3. The mental model: client, server, and three capability types</a></li><li><a href="#4-a-typical-call-flow-and-why-the-boundary-matters">4. A typical call flow (and why the boundary matters)</a></li><li><a href="#5-security-and-governance-treat-mcp-as-a-tool-gateway">5. Security and governance: treat MCP as a tool gateway</a><ul><li><a href="#5-1-prefer-small-explicit-tools-over-wan-neng-gong-ju">5.1 Prefer small, explicit tools over â€œä¸‡èƒ½å·¥å…·â€</a></li><li><a href="#5-2-keep-credentials-on-the-server-side-enforce-least-privilege">5.2 Keep credentials on the server side, enforce least privilege</a></li><li><a href="#5-3-validate-inputs-bound-outputs-and-budget-the-blast-radius">5.3 Validate inputs, bound outputs, and budget the blast radius</a></li><li><a href="#5-4-auditability-and-observability">5.4 Auditability and observability</a></li></ul></li><li><a href="#6-a-rollout-playbook-from-read-to-write">6. A rollout playbook: from read to write</a></li><li><a href="#7-when-mcp-is-not-the-right-tool">7. When MCP is not the right tool</a></li><li><a href="#conclusion">Conclusion</a></li><li><a href="#references">References</a></li></ul><!-- tocstop --></div><h1><span id="introduction">Introduction</span><a href="#introduction" class="header-anchor">#</a></h1><p>AI assistants are no longer â€œjust writing codeâ€. The useful ones can fetch metrics, pull logs, open tickets, draft pull requests, and even propose rollout plans. Once an agent can <em>act</em>, the ceiling is no longer your modelâ€™s intelligenceâ€”it is whether the agent can <strong>reliably and safely connect to your tools and data</strong>.</p><p>In practice, that â€œtool layerâ€ is where teams get stuck:</p><ul><li>Every model platform speaks a slightly different dialect of tool calling (schemas, streaming results, error shapes), which multiplies integration work.</li><li>Governance is scattered across clients, making it hard to enforce least privilege, auditing, redaction, and budgets consistently.</li><li>â€œConvenientâ€ integrations (like exposing a raw shell) turn into security debt the moment a prompt injection tries to escalate.</li></ul><p>Model Context Protocol (MCP) reframes this layer as a protocol and a contract. MCP lets an AI client (agent&#x2F;IDE&#x2F;CLI) discover and call capabilities in a consistent way, while the MCP serverâ€”running inside <em>your</em> boundaryâ€”owns authentication, policy, and audit trails [1]. If you have seen Context7 used to bring documentation context into workflows, that is an example of an MCP server in the wild [2].</p><p>This post focuses on the engineering questions that matter:</p><ol><li>What problems does MCP actually solve, and when is it worth adopting?</li><li>What does a typical MCP call flow look like, and where are the boundaries?</li><li>How do you roll it out with control, auditability, and rollback paths?</li></ol><h1><span id="1-mcp-in-one-sentence">1. MCP in one sentence</span><a href="#1-mcp-in-one-sentence" class="header-anchor">#</a></h1><p>MCP is a <strong>standard protocol between AI clients and external tools&#x2F;data</strong>, designed to decouple â€œagent decisionsâ€ from â€œtool executionâ€ so multiple clients can reuse the same tool surface while governance stays centralised on the server side [1].</p><p>A useful analogy is â€œUSBâ€‘C for tool accessâ€:</p><ul><li>clients only need to speak one interface (discover â†’ call â†’ receive structured results),</li><li>servers wrap internal systems into safe, explicit capabilities,</li><li>organisations can enforce consistent guardrails (permissions, audit logs, redaction, budgets) at a single choke point.</li></ul><h1><span id="2-why-mcp-exists-three-recurring-failure-modes">2. Why MCP exists: three recurring failure modes</span><a href="#2-why-mcp-exists-three-recurring-failure-modes" class="header-anchor">#</a></h1><h2><span id="2-1-integration-duplication-across-model-platforms">2.1 Integration duplication across model platforms</span><a href="#2-1-integration-duplication-across-model-platforms" class="header-anchor">#</a></h2><p>Tool calling exists everywhere todayâ€”function calling, â€œtoolsâ€, pluginsâ€”but each ecosystem has its own framing. If your team supports multiple surfaces (IDE + CLI + web assistant + batch agents), you either accept duplicated glue code or you standardise.</p><p>MCP standardises the tool interface: write one MCP server, reuse it across MCPâ€‘capable clients.</p><h2><span id="2-2-governance-scattered-across-clients">2.2 Governance scattered across clients</span><a href="#2-2-governance-scattered-across-clients" class="header-anchor">#</a></h2><p>Once tool calls are sprinkled across clients, it becomes painful to answer basic questions:</p><ul><li>Who is allowed to use which tools? Do you have least privilege?</li><li>Who called what, when, with which inputs? Are outputs redacted?</li><li>What are your timeouts, retries, idempotency rules, and blastâ€‘radius limits?</li></ul><p>With MCP, these guardrails fit naturally on the server side, where execution happens.</p><h2><span id="2-3-tool-evolution-breaks-clients">2.3 Tool evolution breaks clients</span><a href="#2-3-tool-evolution-breaks-clients" class="header-anchor">#</a></h2><p>Tools evolve: schemas change, upstream APIs deprecate, permissions tighten. When clients integrate directly, every change ripples outward. MCP acts like a contract layer: versioning and compatibility strategies can live in the MCP server instead of forcing every client to keep up.</p><h1><span id="3-the-mental-model-client-server-and-three-capability-types">3. The mental model: client, server, and three capability types</span><a href="#3-the-mental-model-client-server-and-three-capability-types" class="header-anchor">#</a></h1><p>You do not need to memorise specsâ€”this table is enough for dayâ€‘toâ€‘day design [1]:</p><table><thead><tr><th>Concept</th><th>Practical meaning</th><th>Examples</th></tr></thead><tbody><tr><td>MCP Client</td><td>the caller side</td><td>IDE extension, CLI agent, desktop assistant</td></tr><tr><td>MCP Server</td><td>the governed execution side</td><td>docs search, ticketing, monitoring, repo tools</td></tr><tr><td>Tools</td><td>executable actions with arguments</td><td><code>search_docs(query)</code>, <code>create_ticket(title, body)</code></td></tr><tr><td>Resources</td><td>readable objects (like files&#x2F;docs)</td><td><code>runbook://incident/123</code>, <code>repo://.../README</code></td></tr><tr><td>Prompts</td><td>reusable task templates</td><td>incident triage template, change review checklist</td></tr></tbody></table><p>An underrated detail is that not everything must be a â€œfunctionâ€. For knowledge integration, Resources + Prompts often produce a cleaner contract than a single overloaded tool.</p><h1><span id="4-a-typical-call-flow-and-why-the-boundary-matters">4. A typical call flow (and why the boundary matters)</span><a href="#4-a-typical-call-flow-and-why-the-boundary-matters" class="header-anchor">#</a></h1><p>Here is a simplified sequence:</p><pre class="mermaid">sequenceDiagram  autonumber  participant U as User  participant C as MCP Client (Agent)  participant S as MCP Server (Tool layer)  participant B as Business system / API  U->>C: Diagnose this alert and propose next steps  C->>S: list_tools / list_resources  S-->>C: Available tools/resources (with schemas)  C->>S: call_tool(get_alert_detail, {id})  S->>B: Read alert details using scoped credentials  B-->>S: Structured data / error codes  S-->>C: Redacted + bounded result  C-->>U: Answer with evidence + suggested actions</pre><p>The important takeaway: the MCP server is where â€œexecutionâ€ and â€œgovernanceâ€ converge. Clients decide <em>what to do</em>; servers decide <em>what is allowed</em> and <em>how it is done safely</em>.</p><h1><span id="5-security-and-governance-treat-mcp-as-a-tool-gateway">5. Security and governance: treat MCP as a tool gateway</span><a href="#5-security-and-governance-treat-mcp-as-a-tool-gateway" class="header-anchor">#</a></h1><p>If you treat MCP as â€œjust another RPCâ€, you will recreate the same safety problems. Treat it as a tool gateway and the design becomes clearer.</p><h2><span id="5-1-prefer-small-explicit-tools-over-wan-neng-gong-ju">5.1 Prefer small, explicit tools over â€œä¸‡èƒ½å·¥å…·â€</span><a href="#5-1-prefer-small-explicit-tools-over-wan-neng-gong-ju" class="header-anchor">#</a></h2><p>A pragmatic rule: <strong>many small tools beat one universal tool</strong>.</p><p>Good patterns:</p><ul><li>wrap highâ€‘risk actions into explicit tools (e.g., <code>rollout_restart(namespace, deployment)</code>), instead of passing through raw <code>kubectl</code>;</li><li>use a twoâ€‘step flow for writes: <code>plan_change()</code> â†’ human approval â†’ <code>apply_change()</code>;</li><li>enforce hard limits: timeouts, max payload size, pagination ceilings, concurrency caps.</li></ul><p>Risky patterns:</p><ul><li>exposing a shell or DBA privileges;</li><li>returning secrets, tokens, or full raw logs to the client.</li></ul><h2><span id="5-2-keep-credentials-on-the-server-side-enforce-least-privilege">5.2 Keep credentials on the server side, enforce least privilege</span><a href="#5-2-keep-credentials-on-the-server-side-enforce-least-privilege" class="header-anchor">#</a></h2><p>Do not place longâ€‘lived privileged credentials into model context. Safer defaults:</p><ul><li>MCP server uses scoped service accounts to call downstream systems,</li><li>each tool has its own permission boundary (read&#x2F;write split, environment split),</li><li>sensitive actions require explicit approval or shortâ€‘lived authorisation.</li></ul><p>MCP does not magically solve auth, but it gives you a single layer to implement it consistently.</p><h2><span id="5-3-validate-inputs-bound-outputs-and-budget-the-blast-radius">5.3 Validate inputs, bound outputs, and budget the blast radius</span><a href="#5-3-validate-inputs-bound-outputs-and-budget-the-blast-radius" class="header-anchor">#</a></h2><p>Rollouts succeed when three controls ship together:</p><ol><li><strong>Input validation</strong>: schema checks, allowlists, string length caps, enum bounds.  </li><li><strong>Output redaction and minimisation</strong>: return only what the answer needs; mask PII&#x2F;secrets; prefer summaries + references.  </li><li><strong>Budgets and throttles</strong>: perâ€‘tool QPS&#x2F;concurrency&#x2F;timeout; caching for expensive tools; backoff to avoid cascading failures.</li></ol><h2><span id="5-4-auditability-and-observability">5.4 Auditability and observability</span><a href="#5-4-auditability-and-observability" class="header-anchor">#</a></h2><p>At minimum you should be able to trace:</p><ul><li>which tool calls fed an answer,</li><li>error&#x2F;timeout trends per tool,</li><li>cost and downstream load hotspots.</li></ul><p>Treat tool calls like external dependencies and align logs&#x2F;metrics&#x2F;traces with your observability stack. OpenTelemetry provides a useful baseline for unified instrumentation [4].</p><p>Here is a lightweight goâ€‘live checklist:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">âœ… MCP Tool Goâ€‘Live Checklist (minimum)</span><br><span class="line">- Tool surface is explicit (no shell passthrough, no universal tool)</span><br><span class="line">- Argument schemas are enforced (type/range/allowlist/length)</span><br><span class="line">- Writes follow plan/apply with human approval when needed</span><br><span class="line">- Least privilege per tool (read/write split, environment isolation)</span><br><span class="line">- Audit logs exist (who/when/what tool/result summary/error code)</span><br><span class="line">- Timeouts, concurrency caps, and backoff strategies are set</span><br><span class="line">- Responses are redacted and bounded in size</span><br></pre></td></tr></table></figure><h1><span id="6-a-rollout-playbook-from-read-to-write">6. A rollout playbook: from read to write</span><a href="#6-a-rollout-playbook-from-read-to-write" class="header-anchor">#</a></h1><p>A safe adoption path is incremental:</p><ol><li><strong>Readâ€‘only first</strong>: docs, runbooks, FAQs, metrics queries.  </li><li><strong>Lowâ€‘risk writes</strong>: draft tickets, draft PR descriptions, knowledge base drafts.  </li><li><strong>Highâ€‘risk actions</strong>: config changes, restarts, rollbacksâ€”default to approvals and stricter policies.</li></ol><p>This approach forces you to build the governance foundation early, before an agent gains the ability to press production buttons.</p><p>Two additional practices make rollouts smoother:</p><ul><li><strong>Treat tools like APIs</strong>: keep tool names stable, version schemas deliberately, and offer deprecation windows. Even small schema changes can silently degrade agent behaviour if they are not backwards compatible.</li><li><strong>Measure tool health</strong>: track perâ€‘tool success rate, timeout rate, and median&#x2F;P95 latency. â€œAgent qualityâ€ often improves more from reliable tool surfaces than from prompt tweaks, because the model can only reason over the evidence it receives.<br>If you already operate SLOs for dependencies, apply the same discipline here: the tool gateway is now part of your critical path.</li></ul><h1><span id="7-when-mcp-is-not-the-right-tool">7. When MCP is not the right tool</span><a href="#7-when-mcp-is-not-the-right-tool" class="header-anchor">#</a></h1><p>MCP is not free. You might skip it when:</p><ul><li>you have a single client and a handful of stable toolsâ€”native platform tool calling may be simpler [3];</li><li>you are extremely latencyâ€‘sensitive and want a bespoke protocol&#x2F;caching strategy;</li><li>your organisation is not ready to enforce governance yet (it is fine to start small, but design for future guardrails).</li></ul><h1><span id="conclusion">Conclusion</span><a href="#conclusion" class="header-anchor">#</a></h1><p>MCP matters because it pulls tool access out of proprietary model features and into a governed engineering layer. As soon as agents can touch systems, data, and actions, the most valuable investment is usually not more prompt tricksâ€”it is the contract: controlled, auditable, and evolvable.</p><p>Start with one readâ€‘only scenario. Wrap a highâ€‘leverage internal capability (runbooks or metrics queries) into an MCP server, ship audit logs and bounds, and expand only after the team agrees on safety boundaries.</p><h1><span id="references">References</span><a href="#references" class="header-anchor">#</a></h1><ul><li>[1] Model Context Protocol (MCP) official docs: <a href="https://modelcontextprotocol.io/">https://modelcontextprotocol.io/</a></li><li>[2] Context7 (an MCP server for documentation context): <a href="https://github.com/upstash/context7">https://github.com/upstash/context7</a></li><li>[3] OpenAI developer docs (Tools &#x2F; Function calling guide): <a href="https://platform.openai.com/docs/guides/function-calling">https://platform.openai.com/docs/guides/function-calling</a></li><li>[4] OpenTelemetry docs: <a href="https://opentelemetry.io/docs/">https://opentelemetry.io/docs/</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;table-of-contents&quot;&gt;Table of Contents&lt;/span&gt;&lt;a href=&quot;#table-of-contents&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-</summary>
      
    
    
    
    
    <category term="#Security" scheme="https://imchenway.com/tags/Security/"/>
    
    <category term="#AI" scheme="https://imchenway.com/tags/AI/"/>
    
    <category term="#Tools" scheme="https://imchenway.com/tags/Tools/"/>
    
    <category term="#Agents" scheme="https://imchenway.com/tags/Agents/"/>
    
    <category term="#MCP" scheme="https://imchenway.com/tags/MCP/"/>
    
  </entry>
  
  <entry>
    <title>MCPï¼šè®© AI ä»£ç†å®‰å…¨æ¥å…¥å·¥å…·ä¸æ•°æ®çš„æ ‡å‡†æ¥å£</title>
    <link href="https://imchenway.com/zh-CN/2026-01-mcp-agent-interface/"/>
    <id>https://imchenway.com/zh-CN/2026-01-mcp-agent-interface/</id>
    <published>2026-01-18T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.620Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#yin-yan">å¼•è¨€</a></li><li><a href="#1-mcp-shi-shi-me-ba-gong-ju-jie-ru-cong-shi-xian-xi-jie-bian-cheng-xie-yi">1. MCP æ˜¯ä»€ä¹ˆï¼šæŠŠâ€œå·¥å…·æ¥å…¥â€ä»å®ç°ç»†èŠ‚å˜æˆåè®®</a></li><li><a href="#2-wei-shi-me-xu-yao-mcp-san-lei-fan-fu-cai-keng-de-wen-ti">2. ä¸ºä»€ä¹ˆéœ€è¦ MCPï¼šä¸‰ç±»åå¤è¸©å‘çš„é—®é¢˜</a><ul><li><a href="#2-1-chong-fu-ji-cheng-mei-ge-mo-xing-yi-tao-han-shu-diao-yong-fang-yan">2.1 é‡å¤é›†æˆï¼šæ¯ä¸ªæ¨¡å‹ä¸€å¥—â€œå‡½æ•°è°ƒç”¨â€æ–¹è¨€</a></li><li><a href="#2-2-nan-zhi-li-quan-xian-shen-ji-tuo-min-fen-san-zai-diao-yong-lian-li">2.2 éš¾æ²»ç†ï¼šæƒé™ã€å®¡è®¡ã€è„±æ•åˆ†æ•£åœ¨è°ƒç”¨é“¾é‡Œ</a></li><li><a href="#2-3-nan-yan-jin-gong-ju-bian-geng-hui-fan-xiang-tuo-kua-ke-hu-duan">2.3 éš¾æ¼”è¿›ï¼šå·¥å…·å˜æ›´ä¼šåå‘æ‹–å®å®¢æˆ·ç«¯</a></li></ul></li><li><a href="#3-mcp-de-he-xin-gai-nian-client-server-yi-ji-san-lei-neng-li">3. MCP çš„æ ¸å¿ƒæ¦‚å¿µï¼šClient &#x2F; Server ä»¥åŠä¸‰ç±»èƒ½åŠ›</a></li><li><a href="#4-yi-ci-gong-ju-diao-yong-de-lian-lu-cong-yong-hu-wen-ti-dao-jie-gou-hua-jie-guo">4. ä¸€æ¬¡å·¥å…·è°ƒç”¨çš„é“¾è·¯ï¼šä»ç”¨æˆ·é—®é¢˜åˆ°ç»“æ„åŒ–ç»“æœ</a></li><li><a href="#5-an-quan-yu-zhi-li-rang-gong-ju-diao-yong-ke-kong-ke-shen-ji-ke-hui-gun">5. å®‰å…¨ä¸æ²»ç†ï¼šè®©å·¥å…·è°ƒç”¨â€œå¯æ§ã€å¯å®¡è®¡ã€å¯å›æ»šâ€</a><ul><li><a href="#5-1-gong-ju-she-ji-xian-zuo-neng-li-shou-lian-zai-tan-kai-fang">5.1 å·¥å…·è®¾è®¡ï¼šå…ˆåšèƒ½åŠ›æ”¶æ•›ï¼Œå†è°ˆå¼€æ”¾</a></li><li><a href="#5-2-zui-xiao-quan-xian-ba-jian-quan-fang-zai-server-ce-ba-ping-zheng-liu-zai-bian-jie-nei">5.2 æœ€å°æƒé™ï¼šæŠŠé‰´æƒæ”¾åœ¨ Server ä¾§ï¼ŒæŠŠå‡­è¯ç•™åœ¨è¾¹ç•Œå†…</a></li><li><a href="#5-3-shu-ru-shu-chu-zhi-li-schema-xiao-yan-tuo-min-yu-yu-suan-yao-yi-qi-shang">5.3 è¾“å…¥&#x2F;è¾“å‡ºæ²»ç†ï¼šSchema æ ¡éªŒã€è„±æ•ä¸é¢„ç®—è¦ä¸€èµ·ä¸Š</a></li><li><a href="#5-4-shen-ji-yu-ke-guan-ce-ba-tool-call-dang-cheng-wai-bu-yi-lai-diao-yong">5.4 å®¡è®¡ä¸å¯è§‚æµ‹ï¼šæŠŠ Tool Call å½“æˆå¤–éƒ¨ä¾èµ–è°ƒç”¨</a></li></ul></li><li><a href="#6-luo-di-lu-xian-tu-cong-du-dao-xie-de-jian-jin-shi-shi-dian">6. è½åœ°è·¯çº¿å›¾ï¼šä»â€œè¯»â€åˆ°â€œå†™â€çš„æ¸è¿›å¼è¯•ç‚¹</a></li><li><a href="#7-mcp-vs-qi-ta-fang-shi-shi-me-shi-hou-yong-shi-me-shi-hou-bu-yong">7. MCP vs å…¶ä»–æ–¹å¼ï¼šä»€ä¹ˆæ—¶å€™ç”¨ï¼Œä»€ä¹ˆæ—¶å€™ä¸ç”¨</a></li><li><a href="#jie-yu">ç»“è¯­</a></li><li><a href="#can-kao-zi-liao">å‚è€ƒèµ„æ–™</a></li></ul><!-- tocstop --></div><h1><span id="yin-yan">å¼•è¨€</span><a href="#yin-yan" class="header-anchor">#</a></h1><p>è¿‡å»ä¸€å¹´ï¼ŒAI åŠ©æ‰‹çš„èƒ½åŠ›ä»â€œå†™æ®µä»£ç &#x2F;æ”¹ä¸ªå‡½æ•°â€ï¼Œèµ°å‘â€œèƒ½è°ƒç”¨å·¥å…·æŠŠäº‹æƒ…åšå®Œâ€ï¼šæŸ¥æŒ‡æ ‡ã€æ‹‰æ—¥å¿—ã€æ”¹é…ç½®ã€ç”Ÿæˆ PRã€å†™å‘å¸ƒè¯´æ˜â€¦â€¦çœŸæ­£å†³å®šä½“éªŒä¸Šé™çš„ï¼Œä¸å†æ˜¯æ¨¡å‹ä¼šä¸ä¼šå†™ï¼Œè€Œæ˜¯å®ƒ<strong>èƒ½ä¸èƒ½ç¨³å®šã€å¯æ§åœ°æ¥å…¥ä½ çš„å·¥å…·ä¸æ•°æ®</strong>ã€‚</p><p>ä½†ç°å®é‡Œï¼Œâ€œå·¥å…·æ¥å…¥â€å¾€å¾€æ˜¯æœ€è„ã€æœ€å®¹æ˜“å¤±æ§çš„é‚£å±‚ï¼š</p><ul><li>ä½ æ¢ä¸€ä¸ªæ¨¡å‹&#x2F;å¹³å°ï¼Œå°±è¦é‡å†™ä¸€å¥—å·¥å…·åè®®ä¸é‰´æƒï¼›</li><li>ä½ æƒ³åšæƒé™ã€å®¡è®¡ã€è„±æ•ã€é™æµï¼Œå´å‘ç°è°ƒç”¨è·¯å¾„åˆ†æ•£åœ¨å„å¤„ï¼›</li><li>ä½ æŠŠå·¥å…·æš´éœ²å¾—å¤ªâ€œé€šç”¨â€ï¼ˆä¾‹å¦‚ç›´æ¥ç»™ Shellï¼‰ï¼Œä¸€æ—¦è¢«è¯±å¯¼è¶Šæƒå°±å¾ˆéš¾æ”¶åœºã€‚</li></ul><p>Model Context Protocolï¼ˆMCPï¼‰å°è¯•æŠŠè¿™å±‚ä»â€œèƒ¶æ°´ä»£ç â€å‡çº§ä¸ºâ€œåè®® + å¥‘çº¦â€ï¼šè®© AI å®¢æˆ·ç«¯ï¼ˆAgent&#x2F;IDE&#x2F;CLIï¼‰ç”¨ä¸€è‡´æ–¹å¼å‘ç°ä¸è°ƒç”¨å·¥å…·ï¼Œè®©å·¥å…·æä¾›æ–¹ï¼ˆMCP Serverï¼‰åœ¨ä½ çš„è¾¹ç•Œå†…æ‰¿æ¥é‰´æƒã€æ²»ç†ä¸å®¡è®¡ã€‚ä½ å¯èƒ½å·²ç»åœ¨ä¸€äº›å·¥å…·é‡Œè§è¿‡ MCP çš„å½±å­ï¼Œä¾‹å¦‚æŠŠæ–‡æ¡£ä¸Šä¸‹æ–‡æ¥å…¥åˆ°å·¥ä½œæµçš„ Context7ï¼ˆä¸€ä¸ª MCP Serverï¼‰[2]ã€‚</p><p>æœ¬æ–‡ä¸æ‰“ç®—èƒŒå®šä¹‰ï¼Œè€Œæ˜¯å›ç­”ä¸‰ä¸ªæ›´å®ç”¨çš„é—®é¢˜ï¼š</p><ol><li>MCP åˆ°åº•è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œé€‚åˆå“ªäº›å›¢é˜Ÿ&#x2F;åœºæ™¯ï¼Ÿ</li><li>ä¸€æ¬¡ MCP å·¥å…·è°ƒç”¨çš„é“¾è·¯é•¿ä»€ä¹ˆæ ·ï¼Œè¾¹ç•Œåœ¨å“ªé‡Œï¼Ÿ</li><li>å¦‚æœä½ è¦è½åœ°ï¼Œæ€ä¹ˆåšåˆ°â€œå¯æ§ã€å¯å®¡è®¡ã€å¯å›æ»šâ€ï¼Ÿ</li></ol><h1><span id="1-mcp-shi-shi-me-ba-gong-ju-jie-ru-cong-shi-xian-xi-jie-bian-cheng-xie-yi">1. MCP æ˜¯ä»€ä¹ˆï¼šæŠŠâ€œå·¥å…·æ¥å…¥â€ä»å®ç°ç»†èŠ‚å˜æˆåè®®</span><a href="#1-mcp-shi-shi-me-ba-gong-ju-jie-ru-cong-shi-xian-xi-jie-bian-cheng-xie-yi" class="header-anchor">#</a></h1><p>ä¸€å¥è¯ï¼š<strong>MCP æ˜¯ AI å®¢æˆ·ç«¯ä¸å¤–éƒ¨å·¥å…·&#x2F;æ•°æ®ä¹‹é—´çš„æ ‡å‡†é€šä¿¡åè®®</strong>ï¼Œæ ¸å¿ƒç›®çš„æ˜¯æŠŠâ€œæ¨¡å‹èƒ½åŠ›â€ä¸â€œå·¥å…·èƒ½åŠ›â€è§£è€¦ï¼Œè®©å¤šç§å®¢æˆ·ç«¯ç”¨ä¸€è‡´æ–¹å¼æ¥å…¥åŒä¸€æ‰¹å·¥å…·ï¼ŒåŒæ—¶æŠŠå®‰å…¨æ²»ç†é›†ä¸­åœ¨å·¥å…·ä¾§å®ç°[1]ã€‚</p><p>ä½ å¯ä»¥æŠŠå®ƒç±»æ¯”æˆâ€œå·¥å…·å±‚çš„ USB-Câ€ï¼š</p><ul><li>å®¢æˆ·ç«¯åªéœ€è¦ä¼šâ€œæ’å£åè®®â€ï¼ˆå‘ç°èƒ½åŠ›ã€è°ƒç”¨èƒ½åŠ›ã€æ‹¿ç»“æœï¼‰ï¼›</li><li>å·¥å…·ä¾§è´Ÿè´£æŠŠä¸šåŠ¡ç³»ç»Ÿ&#x2F;API&#x2F;æ•°æ®æºå°è£…ä¸ºå¯è°ƒç”¨çš„èƒ½åŠ›ï¼›</li><li>ç»„ç»‡ä¾§æ›´å®¹æ˜“åœ¨è¿™ä¸€å±‚åšç»Ÿä¸€æ²»ç†ï¼šæƒé™ã€å®¡è®¡ã€è„±æ•ã€é¢„ç®—ä¸éš”ç¦»ã€‚</li></ul><h1><span id="2-wei-shi-me-xu-yao-mcp-san-lei-fan-fu-cai-keng-de-wen-ti">2. ä¸ºä»€ä¹ˆéœ€è¦ MCPï¼šä¸‰ç±»åå¤è¸©å‘çš„é—®é¢˜</span><a href="#2-wei-shi-me-xu-yao-mcp-san-lei-fan-fu-cai-keng-de-wen-ti" class="header-anchor">#</a></h1><h2><span id="2-1-chong-fu-ji-cheng-mei-ge-mo-xing-yi-tao-han-shu-diao-yong-fang-yan">2.1 é‡å¤é›†æˆï¼šæ¯ä¸ªæ¨¡å‹ä¸€å¥—â€œå‡½æ•°è°ƒç”¨â€æ–¹è¨€</span><a href="#2-1-chong-fu-ji-cheng-mei-ge-mo-xing-yi-tao-han-shu-diao-yong-fang-yan" class="header-anchor">#</a></h2><p>ä¸åŒå¹³å°çš„å·¥å…·è°ƒç”¨ï¼ˆfunction calling &#x2F; tools &#x2F; pluginsï¼‰éƒ½æœ‰è‡ªå·±çš„ç»†èŠ‚ï¼šå‚æ•° schemaã€æ¶ˆæ¯æ ¼å¼ã€æµå¼è¿”å›ã€é”™è¯¯ç»“æ„â€¦â€¦å½“ä½ éœ€è¦åŒæ—¶æœåŠ¡â€œIDE + CLI + Web åŠ©æ‰‹ + æ‰¹å¤„ç†ä»£ç†â€æ—¶ï¼Œé›†æˆæˆæœ¬ä¼šæŒ‰å®¢æˆ·ç«¯æ•°çº¿æ€§å¢é•¿ã€‚</p><p>MCP çš„ä»·å€¼æ˜¯æŠŠâ€œå·¥å…·åè®®â€æŠ½å‡ºæ¥ï¼šä½ å†™ä¸€æ¬¡ MCP Serverï¼Œå°±èƒ½è¢«å¤šä¸ª MCP Client å¤ç”¨ï¼Œé¿å…æ¯ä¸ªå¹³å°å„å†™ä¸€å¥—ã€‚</p><h2><span id="2-2-nan-zhi-li-quan-xian-shen-ji-tuo-min-fen-san-zai-diao-yong-lian-li">2.2 éš¾æ²»ç†ï¼šæƒé™ã€å®¡è®¡ã€è„±æ•åˆ†æ•£åœ¨è°ƒç”¨é“¾é‡Œ</span><a href="#2-2-nan-zhi-li-quan-xian-shen-ji-tuo-min-fen-san-zai-diao-yong-lian-li" class="header-anchor">#</a></h2><p>å¦‚æœå·¥å…·è°ƒç”¨é€»è¾‘æ•£è½åœ¨ä¸åŒå®¢æˆ·ç«¯é‡Œï¼Œä½ å¾ˆéš¾ç»Ÿä¸€å›ç­”è¿™äº›é—®é¢˜ï¼š</p><ul><li>å“ªäº›å·¥å…·å¯¹å“ªäº›äººå¼€æ”¾ï¼Ÿæœ‰æ²¡æœ‰æœ€å°æƒé™ï¼Ÿ</li><li>è°åœ¨ä»€ä¹ˆæ—¶å€™è°ƒç”¨äº†ä»€ä¹ˆå·¥å…·ï¼Ÿè¾“å…¥&#x2F;è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿæœ‰æ²¡æœ‰è„±æ•ï¼Ÿ</li><li>å¤±è´¥é‡è¯•&#x2F;è¶…æ—¶&#x2F;å¹‚ç­‰æ€ä¹ˆåšï¼Ÿå¯¹ç³»ç»Ÿæœ‰æ²¡æœ‰å‹åŠ›æ”¾å¤§ï¼Ÿ</li></ul><p>æŠŠå·¥å…·å°è£…åˆ° MCP Server åï¼Œè¿™äº›èƒ½åŠ›æ›´é€‚åˆåœ¨â€œå·¥å…·ä¾§â€è½åœ°ï¼šé›†ä¸­æ²»ç†ã€é›†ä¸­å®¡è®¡ã€‚</p><h2><span id="2-3-nan-yan-jin-gong-ju-bian-geng-hui-fan-xiang-tuo-kua-ke-hu-duan">2.3 éš¾æ¼”è¿›ï¼šå·¥å…·å˜æ›´ä¼šåå‘æ‹–å®å®¢æˆ·ç«¯</span><a href="#2-3-nan-yan-jin-gong-ju-bian-geng-hui-fan-xiang-tuo-kua-ke-hu-duan" class="header-anchor">#</a></h2><p>å·¥å…·çš„ schemaã€è¿”å›ç»“æ„ã€æƒé™ç­–ç•¥ä¸€æ—¦å˜åŒ–ï¼Œå¦‚æœå®¢æˆ·ç«¯ç›´è¿ï¼Œå¾ˆå®¹æ˜“å‡ºç°â€œå®¢æˆ·ç«¯å‡çº§è·Ÿä¸ä¸Šã€çº¿ä¸Šèƒ½åŠ›ç¢ç‰‡åŒ–â€ã€‚MCP æ›´åƒä¸€ä¸ªå¥‘çº¦å±‚ï¼šå·¥å…·ä¾§å¯ä»¥ç”¨ç‰ˆæœ¬åŒ–ã€å…¼å®¹ç­–ç•¥ã€ç°åº¦å‘å¸ƒå»æ‰¿æ¥æ¼”è¿›å‹åŠ›ã€‚</p><h1><span id="3-mcp-de-he-xin-gai-nian-client-x2f-server-yi-ji-san-lei-neng-li">3. MCP çš„æ ¸å¿ƒæ¦‚å¿µï¼šClient &#x2F; Server ä»¥åŠä¸‰ç±»èƒ½åŠ›</span><a href="#3-mcp-de-he-xin-gai-nian-client-x2f-server-yi-ji-san-lei-neng-li" class="header-anchor">#</a></h1><p>ä»è½åœ°è§’åº¦ï¼Œä¸å¿…çº ç»“æœ¯è¯­ï¼ŒæŠ“ä½è¿™å¼ â€œå¿ƒæ™ºæ¨¡å‹è¡¨â€å°±å¤Ÿäº†[1]ï¼š</p><table><thead><tr><th>æ¦‚å¿µ</th><th>ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸º</th><th>å…¸å‹ä¾‹å­</th></tr></thead><tbody><tr><td>MCP Client</td><td>å‘èµ·â€œå‘ç°&#x2F;è°ƒç”¨â€çš„ä¸€ç«¯</td><td>IDE æ’ä»¶ã€CLI Agentã€æ¡Œé¢åŠ©æ‰‹</td></tr><tr><td>MCP Server</td><td>æŠŠèƒ½åŠ›å°è£…æˆåè®®çš„ä¸€ç«¯</td><td>æ–‡æ¡£æ£€ç´¢ã€å·¥å•ç³»ç»Ÿã€ç›‘æ§å¹³å°ã€ä»£ç ä»“åº“å·¥å…·</td></tr><tr><td>Tools</td><td><strong>å¯æ‰§è¡ŒåŠ¨ä½œ</strong>ï¼ˆæœ‰è¾“å…¥å‚æ•°ï¼‰</td><td><code>search_docs(query)</code>ã€<code>create_ticket(title, body)</code></td></tr><tr><td>Resources</td><td><strong>å¯è¯»å–èµ„æº</strong>ï¼ˆåƒæ–‡ä»¶&#x2F;æ–‡æ¡£&#x2F;å¯¹è±¡ï¼‰</td><td><code>runbook://incident/123</code>ã€<code>repo://.../README</code></td></tr><tr><td>Prompts</td><td>å¯å¤ç”¨çš„æç¤ºæ¨¡æ¿&#x2F;ä»»åŠ¡é…æ–¹</td><td>â€œå‘Šè­¦æ’éšœæ¨¡æ¿â€â€œå˜æ›´è¯„å®¡æ¸…å•â€</td></tr></tbody></table><p>ä½ ä¼šå‘ç°ï¼šMCP ä¸å¼ºè¿«ä½ æŠŠä¸€åˆ‡éƒ½åšæˆâ€œå‡½æ•°â€ã€‚å¯¹äºå¾ˆå¤šçŸ¥è¯†ç±»æ¥å…¥ï¼ŒResources + Prompts å¾€å¾€æ›´è‡ªç„¶ï¼šæŠŠâ€œå¯è¯»ææ–™â€å’Œâ€œå¦‚ä½•ç”¨ææ–™â€éƒ½æ ‡å‡†åŒ–ã€‚</p><h1><span id="4-yi-ci-gong-ju-diao-yong-de-lian-lu-cong-yong-hu-wen-ti-dao-jie-gou-hua-jie-guo">4. ä¸€æ¬¡å·¥å…·è°ƒç”¨çš„é“¾è·¯ï¼šä»ç”¨æˆ·é—®é¢˜åˆ°ç»“æ„åŒ–ç»“æœ</span><a href="#4-yi-ci-gong-ju-diao-yong-de-lian-lu-cong-yong-hu-wen-ti-dao-jie-gou-hua-jie-guo" class="header-anchor">#</a></h1><p>ä¸‹é¢æ˜¯ä¸€æ¡æœ€å…¸å‹çš„é“¾è·¯ï¼ˆä¸ºä¾¿äºç†è§£åšäº†ç®€åŒ–ï¼‰ï¼š</p><pre class="mermaid">sequenceDiagram  autonumber  participant U as ç”¨æˆ·  participant C as MCP Clientï¼ˆAgentï¼‰  participant S as MCP Serverï¼ˆå·¥å…·ä¾§ï¼‰  participant B as ä¸šåŠ¡ç³»ç»Ÿ/API  U->>C: ç»™æˆ‘å®šä½è¿™æ¬¡å‘Šè­¦çš„æ ¹å› ï¼Œå¹¶ç»™å‡ºå¤„ç†å»ºè®®  C->>S: list_tools / list_resources  S-->>C: è¿”å›å¯ç”¨å·¥å…·/èµ„æºï¼ˆå«å‚æ•° schemaï¼‰  C->>S: call_tool(get_alert_detail, {id})  S->>B: ä»¥å—é™å‡­è¯è¯»å–å‘Šè­¦è¯¦æƒ…  B-->>S: è¿”å›ç»“æ„åŒ–æ•°æ®/é”™è¯¯ç   S-->>C: è¿”å›ç»“æœï¼ˆå¯è„±æ•/è£å‰ªï¼‰  C-->>U: æ€»ç»“ç»“è®º + å¼•ç”¨è¯æ® + ä¸‹ä¸€æ­¥å»ºè®®</pre><p>è¿™å¼ å›¾é‡Œæœ€å…³é”®çš„è¾¹ç•Œæ˜¯ï¼š<strong>MCP Server æ˜¯â€œæ²»ç†ä¸æ‰§è¡Œâ€çš„è½ç‚¹</strong>ã€‚å®¢æˆ·ç«¯è´Ÿè´£â€œå†³ç­–â€ï¼ˆè¯¥è°ƒç”¨å“ªä¸ªå·¥å…·ã€å‚æ•°æ˜¯ä»€ä¹ˆã€å¦‚ä½•ç»„ç»‡ç­”æ¡ˆï¼‰ï¼Œè€ŒæœåŠ¡ç«¯è´Ÿè´£â€œçº¦æŸâ€ï¼ˆèƒ½ä¸èƒ½è°ƒã€è°ƒåˆ°å“ªé‡Œã€è¿”å›å¤šå°‘ã€æ€ä¹ˆè®°å½•ï¼‰ã€‚</p><h1><span id="5-an-quan-yu-zhi-li-rang-gong-ju-diao-yong-ke-kong-ke-shen-ji-ke-hui-gun">5. å®‰å…¨ä¸æ²»ç†ï¼šè®©å·¥å…·è°ƒç”¨â€œå¯æ§ã€å¯å®¡è®¡ã€å¯å›æ»šâ€</span><a href="#5-an-quan-yu-zhi-li-rang-gong-ju-diao-yong-ke-kong-ke-shen-ji-ke-hui-gun" class="header-anchor">#</a></h1><p>å¦‚æœä½ åªæŠŠ MCP å½“æˆâ€œåˆä¸€å±‚ RPCâ€ï¼Œæœ€åå¤§æ¦‚ç‡ä¼šè¸©å›è€å‘ã€‚æŠŠå®ƒå½“æˆâ€œå·¥å…·èƒ½åŠ›çš„ API Gatewayâ€ï¼Œæ‰æ›´ç¬¦åˆå®ƒåœ¨ç»„ç»‡é‡Œçš„ä½ç½®ã€‚</p><h2><span id="5-1-gong-ju-she-ji-xian-zuo-neng-li-shou-lian-zai-tan-kai-fang">5.1 å·¥å…·è®¾è®¡ï¼šå…ˆåšèƒ½åŠ›æ”¶æ•›ï¼Œå†è°ˆå¼€æ”¾</span><a href="#5-1-gong-ju-she-ji-xian-zuo-neng-li-shou-lian-zai-tan-kai-fang" class="header-anchor">#</a></h2><p>ä¸€ä¸ªç»éªŒæ³•åˆ™ï¼š<strong>å®å¯å¤šåšå‡ ä¸ªå°å·¥å…·ï¼Œä¹Ÿä¸è¦æš´éœ²ä¸€ä¸ªâ€œä¸‡èƒ½å·¥å…·â€</strong>ã€‚</p><p>æ¨èï¼š</p><ul><li>æŠŠé«˜é£é™©åŠ¨ä½œåšæˆâ€œæ„å›¾æ˜ç¡®â€çš„å·¥å…·ï¼Œä¾‹å¦‚ <code>rollout_restart(namespace, deployment)</code>ï¼Œä¸è¦ç»™ <code>kubectl</code> åŸæ ·é€ä¼ ï¼›</li><li>å¯¹å†™æ“ä½œåšâ€œäºŒæ®µå¼â€ï¼šå…ˆ <code>plan_change()</code> ç”Ÿæˆå˜æ›´è®¡åˆ’ï¼Œå†ç”±äººç¡®è®¤å <code>apply_change()</code>ï¼›</li><li>å¯¹å¤–éƒ¨ç³»ç»Ÿè°ƒç”¨è®¾ç½®â€œç¡¬ä¸Šé™â€ï¼šè¶…æ—¶ã€æœ€å¤§è¿”å›å¤§å°ã€åˆ†é¡µä¸Šé™ã€å¹¶å‘ä¸Šé™ã€‚</li></ul><p>ä¸æ¨èï¼š</p><ul><li>ç›´æ¥æš´éœ² Shell&#x2F;æ•°æ®åº“ç®¡ç†å‘˜æƒé™ï¼›</li><li>æŠŠæ•æ„Ÿæ•°æ®ï¼ˆä»¤ç‰Œã€å¯†é’¥ã€å®Œæ•´æ—¥å¿—ï¼‰åŸæ ·è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li></ul><h2><span id="5-2-zui-xiao-quan-xian-ba-jian-quan-fang-zai-server-ce-ba-ping-zheng-liu-zai-bian-jie-nei">5.2 æœ€å°æƒé™ï¼šæŠŠé‰´æƒæ”¾åœ¨ Server ä¾§ï¼ŒæŠŠå‡­è¯ç•™åœ¨è¾¹ç•Œå†…</span><a href="#5-2-zui-xiao-quan-xian-ba-jian-quan-fang-zai-server-ce-ba-ping-zheng-liu-zai-bian-jie-nei" class="header-anchor">#</a></h2><p>æ— è®ºä½ ç”¨å“ªç§å®¢æˆ·ç«¯ï¼Œ<strong>ä¸è¦æŠŠé•¿æœŸæœ‰æ•ˆçš„é«˜æƒé™å‡­è¯äº¤ç»™æ¨¡å‹ä¸Šä¸‹æ–‡</strong>ã€‚æ›´ç¨³å¦¥çš„åšæ³•æ˜¯ï¼š</p><ul><li>MCP Server ä½¿ç”¨å—é™çš„æœåŠ¡è´¦å·è®¿é—®ä¸šåŠ¡ç³»ç»Ÿï¼›</li><li>æ¯ä¸ªå·¥å…·ç”¨ç‹¬ç«‹çš„æƒé™åŸŸï¼ˆè¯»å†™åˆ†ç¦»ã€ç¯å¢ƒåˆ†ç¦»ï¼‰ï¼›</li><li>ä¸ºæ•æ„Ÿæ“ä½œå¼•å…¥â€œäººç±»ç¡®è®¤â€æˆ–çŸ­æœŸæˆæƒï¼ˆä¾‹å¦‚ä¸€æ¬¡æ€§å®¡æ‰¹ tokenï¼‰ã€‚</li></ul><p>è¿™å¹¶ä¸ä¾èµ– MCP ç‹¬æœ‰èƒ½åŠ›ï¼Œè€Œæ˜¯â€œæŠŠå‡­è¯ä¸ç­–ç•¥ç•™åœ¨æœåŠ¡ç«¯â€çš„å·¥ç¨‹å…±è¯†ã€‚MCP çš„ä¼˜åŠ¿åœ¨äºï¼šä½ å¯ä»¥æŠŠè¿™å¥—ç­–ç•¥é›†ä¸­æ”¾åœ¨ Server å±‚ï¼Œè€Œä¸æ˜¯æ•£è½åœ¨æ¯ä¸ªå®¢æˆ·ç«¯é‡Œã€‚</p><h2><span id="5-3-shu-ru-x2f-shu-chu-zhi-li-schema-xiao-yan-tuo-min-yu-yu-suan-yao-yi-qi-shang">5.3 è¾“å…¥&#x2F;è¾“å‡ºæ²»ç†ï¼šSchema æ ¡éªŒã€è„±æ•ä¸é¢„ç®—è¦ä¸€èµ·ä¸Š</span><a href="#5-3-shu-ru-x2f-shu-chu-zhi-li-schema-xiao-yan-tuo-min-yu-yu-suan-yao-yi-qi-shang" class="header-anchor">#</a></h2><p>è½åœ°æ—¶å»ºè®®æŠŠä»¥ä¸‹ä¸‰ä»¶äº‹å½“æˆä¸€ä¸ªæ•´ä½“ï¼š</p><ol><li><strong>è¾“å…¥æ ¡éªŒ</strong>ï¼šæŒ‰ schema æ ¡éªŒç±»å‹&#x2F;èŒƒå›´ï¼›å¯¹å­—ç¬¦ä¸²åšé•¿åº¦é™åˆ¶ï¼›å¯¹æšä¸¾åš allowlistã€‚  </li><li><strong>è¾“å‡ºè£å‰ªä¸è„±æ•</strong>ï¼šåªè¿”å›å›ç­”æ‰€éœ€å­—æ®µï¼›å¯¹è´¦å·ã€IPã€Tokenã€é‚®ç®±ç­‰åšæ©ç ï¼›å¿…è¦æ—¶è¿”å›â€œæ‘˜è¦ + å¼•ç”¨æŒ‡é’ˆâ€ã€‚  </li><li><strong>é¢„ç®—ä¸é™æµ</strong>ï¼šä¸ºæ¯ä¸ªå·¥å…·è®¾ QPS&#x2F;å¹¶å‘&#x2F;è¶…æ—¶ï¼›å¯¹ expensive å·¥å…·åšç¼“å­˜ï¼›å¯¹å¤±è´¥åšæŒ‡æ•°é€€é¿ï¼Œé¿å…æŠŠä¸‹æ¸¸æ‰“ç©¿ã€‚</li></ol><p>å¯ä»¥æŠŠå®ƒå½“æˆâ€œæŠŠ LLM å˜æˆè°ƒç”¨æ–¹ä¹‹åï¼Œä½ å¿…é¡»è¡¥é½çš„å®¢æˆ·ç«¯æ²»ç†èƒ½åŠ›â€ã€‚</p><h2><span id="5-4-shen-ji-yu-ke-guan-ce-ba-tool-call-dang-cheng-wai-bu-yi-lai-diao-yong">5.4 å®¡è®¡ä¸å¯è§‚æµ‹ï¼šæŠŠ Tool Call å½“æˆå¤–éƒ¨ä¾èµ–è°ƒç”¨</span><a href="#5-4-shen-ji-yu-ke-guan-ce-ba-tool-call-dang-cheng-wai-bu-yi-lai-diao-yong" class="header-anchor">#</a></h2><p>ä¸Šçº¿åä½ è‡³å°‘éœ€è¦èƒ½å›ç­”ï¼š</p><ul><li>è¿™æ¬¡å›ç­”å¼•ç”¨äº†å“ªäº›å·¥å…·ç»“æœï¼Ÿå¯¹åº”å“ªä¸€æ¬¡è°ƒç”¨ï¼Ÿ</li><li>æŸä¸ªå·¥å…·çš„å¤±è´¥ç‡&#x2F;è¶…æ—¶æ˜¯å¦åœ¨ä¸Šå‡ï¼Ÿå¯¹ç”¨æˆ·ä½“éªŒå½±å“å¤šå¤§ï¼Ÿ</li><li>æˆæœ¬ï¼ˆè¯·æ±‚é‡&#x2F;ä¸‹æ¸¸å¼€é”€ï¼‰ä¸»è¦èŠ±åœ¨å“ªäº›å·¥å…·ä¸Šï¼Ÿ</li></ul><p>å®è·µä¸Šï¼Œå»ºè®®æŠŠå·¥å…·è°ƒç”¨æ—¥å¿—ç»“æ„åŒ–ï¼Œå¹¶ä¸é“¾è·¯è¿½è¸ªä½“ç³»å¯¹é½ï¼ˆä¾‹å¦‚åŸºäº OpenTelemetry çš„æŒ‡æ ‡&#x2F;è¿½è¸ªè§„èŒƒï¼‰[4]ï¼Œä¸ºåç»­å¤ç›˜ä¸é£æ§ç•™è¯æ®ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä»½å¯ä»¥ç›´æ¥è´´è¿›ä¸Šçº¿è¯„å®¡çš„æœ€å°æ¸…å•ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">âœ… MCP å·¥å…·ä¸Šçº¿å‰ Checklistï¼ˆæœ€å°é›†ï¼‰</span><br><span class="line">- å·¥å…·æ¸…å•æ˜¯å¦æ”¶æ•›ï¼ˆæ— ä¸‡èƒ½å·¥å…· / æ—  Shell ç›´é€šï¼‰</span><br><span class="line">- å‚æ•° schema æ˜¯å¦å¯æ ¡éªŒï¼ˆç±»å‹/èŒƒå›´/allowlist/é•¿åº¦ï¼‰</span><br><span class="line">- å†™æ“ä½œæ˜¯å¦äºŒæ®µå¼ï¼ˆplan/applyï¼‰+ äººå·¥ç¡®è®¤ï¼ˆå¦‚é€‚ç”¨ï¼‰</span><br><span class="line">- æ¯ä¸ªå·¥å…·æ˜¯å¦æœ€å°æƒé™ï¼ˆè¯»å†™åˆ†ç¦» / ç¯å¢ƒéš”ç¦»ï¼‰</span><br><span class="line">- æ˜¯å¦å…·å¤‡å®¡è®¡æ—¥å¿—ï¼ˆè°/ä½•æ—¶/è°ƒäº†ä»€ä¹ˆ/ç»“æœæ‘˜è¦/é”™è¯¯ç ï¼‰</span><br><span class="line">- æ˜¯å¦å…·å¤‡è¶…æ—¶ã€å¹¶å‘ä¸Šé™ä¸é€€é¿é‡è¯•ç­–ç•¥</span><br><span class="line">- è¿”å›ç»“æœæ˜¯å¦è„±æ• + é™åˆ¶æœ€å¤§è¿”å›å¤§å°</span><br></pre></td></tr></table></figure><h1><span id="6-luo-di-lu-xian-tu-cong-du-dao-xie-de-jian-jin-shi-shi-dian">6. è½åœ°è·¯çº¿å›¾ï¼šä»â€œè¯»â€åˆ°â€œå†™â€çš„æ¸è¿›å¼è¯•ç‚¹</span><a href="#6-luo-di-lu-xian-tu-cong-du-dao-xie-de-jian-jin-shi-shi-dian" class="header-anchor">#</a></h1><p>å¦‚æœä½ å‡†å¤‡åœ¨å›¢é˜Ÿé‡Œå¼•å…¥ MCPï¼Œä¸€ä¸ªæ›´ç¨³çš„è·¯å¾„æ˜¯â€œå…ˆè¯»åå†™ã€å…ˆä½é£é™©åé«˜é£é™©â€ï¼š</p><ol><li><strong>åªè¯»è¯•ç‚¹ï¼ˆæœ€å¿«é—­ç¯ï¼‰</strong>ï¼šæ–‡æ¡£æ£€ç´¢ã€Runbookã€FAQã€æŒ‡æ ‡æŸ¥è¯¢ã€‚  </li><li><strong>ä½é£é™©å†™å…¥</strong>ï¼šåˆ›å»ºå·¥å•è‰ç¨¿ã€ç”Ÿæˆ PR æè¿°&#x2F;å‘å¸ƒè¯´æ˜ã€æ›´æ–°çŸ¥è¯†åº“è‰ç¨¿ï¼ˆä¸ç›´æ¥ä¸Šçº¿ï¼‰ã€‚  </li><li><strong>é«˜é£é™©åŠ¨ä½œï¼ˆå¿…é¡»ä¸Šæ²»ç†ï¼‰</strong>ï¼šæ”¹é…ç½®ã€é‡å¯æœåŠ¡ã€å›æ»šå‘å¸ƒâ€”â€”é»˜è®¤éœ€è¦å®¡æ‰¹æˆ–äººå·¥ç¡®è®¤ã€‚</li></ol><p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼šä½ å…ˆæŠŠâ€œåè®®ã€å®¡è®¡ã€è„±æ•ã€é™æµâ€è¿™äº›åœ°åŸºæ‰“ç‰¢ï¼Œå†é€æ­¥æ‰©å¤§å·¥å…·åŠå¾„ï¼Œè€Œä¸æ˜¯ä¸€å¼€å§‹å°±è®©ä»£ç†æ¡ç€ç”Ÿäº§å˜æ›´æŒ‰é’®ã€‚</p><h1><span id="7-mcp-vs-qi-ta-fang-shi-shi-me-shi-hou-yong-shi-me-shi-hou-bu-yong">7. MCP vs å…¶ä»–æ–¹å¼ï¼šä»€ä¹ˆæ—¶å€™ç”¨ï¼Œä»€ä¹ˆæ—¶å€™ä¸ç”¨</span><a href="#7-mcp-vs-qi-ta-fang-shi-shi-me-shi-hou-yong-shi-me-shi-hou-bu-yong" class="header-anchor">#</a></h1><p>MCP å¹¶ä¸æ˜¯å¯¹æ‰€æœ‰å›¢é˜Ÿéƒ½åˆ’ç®—ï¼Œä½ å¯ä»¥æŒ‰ä¸‹é¢çš„åˆ¤æ–­ï¼š</p><p>é€‚åˆ MCP çš„æƒ…å†µï¼š</p><ul><li>ä½ æœ‰å¤šä¸ª AI å®¢æˆ·ç«¯ï¼ˆCLI&#x2F;IDE&#x2F;Web&#x2F;æœºå™¨äººï¼‰éœ€è¦å…±ç”¨åŒä¸€æ‰¹å·¥å…·ï¼›</li><li>ä½ åœ¨æ„ç»Ÿä¸€æ²»ç†ï¼ˆæƒé™ã€å®¡è®¡ã€è„±æ•ã€é¢„ç®—ã€éš”ç¦»ï¼‰ï¼›</li><li>ä½ å¸Œæœ›å·¥å…·èƒ½åŠ›å¯æ¼”è¿›ã€å¯ç‰ˆæœ¬åŒ–ï¼Œè€Œä¸æ˜¯ç»‘æ­»åœ¨æŸä¸ªæ¨¡å‹å¹³å°ã€‚</li></ul><p>ä¸ä¸€å®šè¦ MCP çš„æƒ…å†µï¼š</p><ul><li>åªæœ‰å•ä¸€å®¢æˆ·ç«¯ã€å·¥å…·å¾ˆå°‘ä¸”å˜åŒ–ä¸å¤§ï¼šç›´æ¥ç”¨å¹³å°è‡ªå¸¦çš„å·¥å…·è°ƒç”¨ä¹Ÿè®¸æ›´çœäº‹[3]ï¼›</li><li>æè‡´ä½å»¶è¿Ÿæˆ–é«˜åååœºæ™¯ï¼šä½ å¯èƒ½æ›´æ„¿æ„å®šåˆ¶åè®®ä¸ç¼“å­˜ç­–ç•¥ï¼›</li><li>ç»„ç»‡æš‚æ—¶æ²¡æœ‰æ²»ç†è¯‰æ±‚ï¼šå…ˆæŠŠé—®é¢˜è·‘é€šä¹Ÿæ²¡é”™ï¼Œä½†è¦ç»™æœªæ¥â€œè¡¥æ²»ç†â€ç•™æ¥å£ã€‚</li></ul><h1><span id="jie-yu">ç»“è¯­</span><a href="#jie-yu" class="header-anchor">#</a></h1><p>MCP çš„æ„ä¹‰ä¸åœ¨äºâ€œåˆå¤šäº†ä¸€ä¸ªåè®®â€ï¼Œè€Œåœ¨äºå®ƒæŠŠå·¥å…·æ¥å…¥ä»â€œæŸä¸ªæ¨¡å‹çš„ç§æœ‰èƒ½åŠ›â€æ‹‰å›åˆ°â€œå·¥ç¨‹å›¢é˜Ÿå¯æ²»ç†çš„å…¬å…±åŸºç¡€è®¾æ–½â€ã€‚å½“ä½ çš„ AI ä»£ç†å¼€å§‹çœŸæ­£è§¦è¾¾ç³»ç»Ÿã€æ•°æ®ä¸åŠ¨ä½œæ—¶ï¼Œæœ€å€¼å¾—æŠ•å…¥çš„å¾€å¾€ä¸æ˜¯æç¤ºè¯èŠ±æ´»ï¼Œè€Œæ˜¯è¿™å±‚å¥‘çº¦ï¼šå¯æ§ã€å¯å®¡è®¡ã€å¯æ¼”è¿›ã€‚</p><p>å»ºè®®ä»ä¸€ä¸ªåªè¯»åœºæ™¯å¼€å§‹ï¼šæŠŠä½ æœ€å¸¸ç”¨çš„ Runbook&#x2F;æŒ‡æ ‡æŸ¥è¯¢å°è£…æˆ MCP Serverï¼Œå…ˆæŠŠæ²»ç†é—­ç¯åšå‡ºæ¥ï¼›å½“å›¢é˜Ÿå¯¹â€œå·¥å…·è°ƒç”¨çš„è¾¹ç•Œâ€è¾¾æˆå…±è¯†åï¼Œå†é€æ­¥æŠŠèƒ½åŠ›æ‰©å±•åˆ°å†™å…¥ä¸è‡ªåŠ¨åŒ–æ‰§è¡Œã€‚</p><h1><span id="can-kao-zi-liao">å‚è€ƒèµ„æ–™</span><a href="#can-kao-zi-liao" class="header-anchor">#</a></h1><ul><li>[1] Model Context Protocolï¼ˆMCPï¼‰å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://modelcontextprotocol.io/">https://modelcontextprotocol.io/</a></li><li>[2] Context7ï¼ˆMCP Serverï¼Œæä¾›æ–‡æ¡£ä¸Šä¸‹æ–‡ï¼‰ï¼š<a href="https://github.com/upstash/context7">https://github.com/upstash/context7</a></li><li>[3] OpenAI å¼€å‘è€…æ–‡æ¡£ï¼ˆTools &#x2F; Function calling æŒ‡å—ï¼‰ï¼š<a href="https://platform.openai.com/docs/guides/function-calling">https://platform.openai.com/docs/guides/function-calling</a></li><li>[4] OpenTelemetry å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://opentelemetry.io/docs/">https://opentelemetry.io/docs/</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    
    <category term="#Security" scheme="https://imchenway.com/tags/Security/"/>
    
    <category term="#AI" scheme="https://imchenway.com/tags/AI/"/>
    
    <category term="#Tools" scheme="https://imchenway.com/tags/Tools/"/>
    
    <category term="#Agents" scheme="https://imchenway.com/tags/Agents/"/>
    
    <category term="#MCP" scheme="https://imchenway.com/tags/MCP/"/>
    
  </entry>
  
  <entry>
    <title>Bootstrapping Indie Products with GPT Agents</title>
    <link href="https://imchenway.com/en/indie-gpt-agent-playbook/"/>
    <id>https://imchenway.com/en/indie-gpt-agent-playbook/</id>
    <published>2025-10-09T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="table-of-contents">Table of Contents</span><a href="#table-of-contents" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#introduction">Introduction</a></li><li><a href="#1-instrumented-discovery-agents-that-surface-real-demand">1. Instrumented Discovery: Agents That Surface Real Demand</a><ul><li><a href="#1-1-shape-the-prompts-around-hypotheses">1.1 Shape the prompts around hypotheses</a></li><li><a href="#1-2-multi-agent-research-pods">1.2 Multi-agent research pods</a></li><li><a href="#1-3-deliverables-and-review-gates">1.3 Deliverables and review gates</a></li></ul></li><li><a href="#2-from-mvp-to-minimum-lovable-product">2. From MVP to Minimum Lovable Product</a><ul><li><a href="#2-1-two-track-prototyping">2.1 Two-track prototyping</a></li><li><a href="#2-2-raising-the-quality-bar">2.2 Raising the quality bar</a></li></ul></li><li><a href="#3-growth-loops-powered-by-agents">3. Growth Loops Powered by Agents</a><ul><li><a href="#3-1-close-the-analytics-loop">3.1 Close the analytics loop</a></li><li><a href="#3-2-automate-outreach-without-losing-tone">3.2 Automate outreach without losing tone</a></li></ul></li><li><a href="#4-guardrails-compliance-cost-and-pricing">4. Guardrails: Compliance, Cost, and Pricing</a><ul><li><a href="#4-1-data-boundaries">4.1 Data boundaries</a></li><li><a href="#4-2-model-economics">4.2 Model economics</a></li><li><a href="#4-3-pricing-proof-points">4.3 Pricing proof points</a></li></ul></li><li><a href="#conclusion">Conclusion</a></li><li><a href="#references">References</a></li></ul><!-- tocstop --></div><h1><span id="introduction">Introduction</span><a href="#introduction" class="header-anchor">#</a></h1><ul><li>Agent stacks are no longer experimental: LangGraph already underpins long-running, stateful agents at teams such as Replit and Elastic, proving that independent builders can lean on the same orchestration primitives[1].</li><li>Cloud providers are exposing managed agent runtimesâ€”Amazon Bedrock Agents blend API execution, knowledge base retrieval, and policy enforcement so solo devs can inherit enterprise-grade controls without writing glue code[2].</li><li>With a disciplined playbook that spans discovery, prototyping, growth, and governance, GPT-driven agents shrink validation cycles from weeks to days.</li></ul><h1><span id="1-instrumented-discovery-agents-that-surface-real-demand">1. Instrumented Discovery: Agents That Surface Real Demand</span><a href="#1-instrumented-discovery-agents-that-surface-real-demand" class="header-anchor">#</a></h1><h2><span id="1-1-shape-the-prompts-around-hypotheses">1.1 Shape the prompts around hypotheses</span><a href="#1-1-shape-the-prompts-around-hypotheses" class="header-anchor">#</a></h2><ul><li>Document each bet as a triad of â€œproblem hypothesis, audience segment, evidence of success,â€ then hand that brief to a lead agent that orchestrates forum scrapes, GitHub issue mining, and social listening.</li><li>Use LangGraph to model the workflow as stateful nodesâ€”collect, dedupe, score sentiment, summarizeâ€”so you can reuse tools per channel while keeping long-running memory and checkpoints for daily refreshes[1].</li></ul><h2><span id="1-2-multi-agent-research-pods">1.2 Multi-agent research pods</span><a href="#1-2-multi-agent-research-pods" class="header-anchor">#</a></h2><ul><li>CrewAIâ€™s â€œCrews + Flowsâ€ pattern lets you assign reconnaissance, clustering, and critique roles to dedicated agents; each role carries its own prompts and guardrails, which keeps the final report explainable[3].</li><li>Wrap the whole pod inside an Amazon Bedrock Agent: it can call public APIs, tap a managed knowledge base, and log every action for audit, sparing you from writing brittle orchestration scripts[2].</li></ul><h2><span id="1-3-deliverables-and-review-gates">1.3 Deliverables and review gates</span><a href="#1-3-deliverables-and-review-gates" class="header-anchor">#</a></h2><ul><li>Insight briefs that list recurring pain points, competing solutions, and underserved long-tail opportunities.</li><li>A scorecard per hypothesis that rates signal strength, build effort, and clarity of monetizationâ€”giving you objective inputs for picking the first MVP.</li></ul><h1><span id="2-from-mvp-to-minimum-lovable-product">2. From MVP to Minimum Lovable Product</span><a href="#2-from-mvp-to-minimum-lovable-product" class="header-anchor">#</a></h1><h2><span id="2-1-two-track-prototyping">2.1 Two-track prototyping</span><a href="#2-1-two-track-prototyping" class="header-anchor">#</a></h2><ul><li>Code-first: start with LangGraphâ€™s ReAct agent templates for core flows, then plug CrewAI Flows into the graph to append smoke tests, deployment hooks, and documentation so that week-one releases stay reproducible[1][3].</li><li>Low-code: expose your Bedrock Agent as a REST endpoint and wire it into tools such as Retool or Bubble; Bedrock handles auth, encryption, and monitoring so you can iterate on UX instead of platform plumbing[2].</li></ul><h2><span id="2-2-raising-the-quality-bar">2.2 Raising the quality bar</span><a href="#2-2-raising-the-quality-bar" class="header-anchor">#</a></h2><ul><li>Feed production data through action groups so the agent can replay historic orders, chats, or support tickets and catch blind spots before real users do.</li><li>Keep humans in the loop by inserting approval tasks inside CrewAI; reviewers can add structured feedback that persists in prompts and memories, preventing silent regressions[3].</li></ul><h1><span id="3-growth-loops-powered-by-agents">3. Growth Loops Powered by Agents</span><a href="#3-growth-loops-powered-by-agents" class="header-anchor">#</a></h1><h2><span id="3-1-close-the-analytics-loop">3.1 Close the analytics loop</span><a href="#3-1-close-the-analytics-loop" class="header-anchor">#</a></h2><ul><li>A monitoring agent subscribes to instrumentation events, pushes them to your data lake, and hands a weekly growth digest to a strategy agent.</li><li>LangGraphâ€™s checkpointing keeps A&#x2F;B experiment branches as separate timelinesâ€”complete with prompts, tool invocations, and metricsâ€”so you can replay any run instead of guessing[1].</li></ul><h2><span id="3-2-automate-outreach-without-losing-tone">3.2 Automate outreach without losing tone</span><a href="#3-2-automate-outreach-without-losing-tone" class="header-anchor">#</a></h2><ul><li>CrewAI roles split content production, outbound campaigns, and support replies while sharing context, which keeps copy and policy aligned even as volume grows[3].</li><li>Pair that with Bedrockâ€™s knowledge base feature so every reply cross-checks the latest pricing, FAQ, or release notes before shipping to customers[2].</li></ul><h1><span id="4-guardrails-compliance-cost-and-pricing">4. Guardrails: Compliance, Cost, and Pricing</span><a href="#4-guardrails-compliance-cost-and-pricing" class="header-anchor">#</a></h1><h2><span id="4-1-data-boundaries">4.1 Data boundaries</span><a href="#4-1-data-boundaries" class="header-anchor">#</a></h2><ul><li>Managed Bedrock Agents encapsulate API calls, encryption, and permission policiesâ€”handy when indie products serve regulated customers[2].</li><li>For self-hosted LangGraph or CrewAI workflows, annotate each tool call with source, write scope, and fallback behavior, then version control prompts&#x2F;configurations to keep a forensic trail.</li></ul><h2><span id="4-2-model-economics">4.2 Model economics</span><a href="#4-2-model-economics" class="header-anchor">#</a></h2><ul><li>Maintain an inference budget catalog that maps tasks (research, prototyping, support) to model tiers, token ceilings, and cadence; LangGraph can read that budget at the node level to short-circuit runaway executions[1].</li><li>Add a â€œcost auditorâ€ agent in CrewAI that reconciles API invoices or GPU hours and recommends shifting long-form generation to lighter models while reserving premium models for critical summaries[3].</li></ul><h2><span id="4-3-pricing-proof-points">4.3 Pricing proof points</span><a href="#4-3-pricing-proof-points" class="header-anchor">#</a></h2><ul><li>Convert agent output into customer-facing proofâ€”hours of manual work avoided, lead time cuts, or support deflectionâ€”so negotiations focus on outcomes rather than features.</li><li>Translate those metrics into tiered plans: discovery and dashboards at the base tier, automated execution and private knowledge bases at higher ones.</li></ul><h1><span id="conclusion">Conclusion</span><a href="#conclusion" class="header-anchor">#</a></h1><ul><li>GPT-native agents let indie builders stitch together discovery, delivery, and growth with the rigor of much larger teams.</li><li>Combining LangGraphâ€™s stateful orchestration, CrewAIâ€™s role-aware collaboration, and Bedrockâ€™s managed runtime keeps autonomy high while controlling risk and spend.</li><li>Start narrowâ€”delegate research and reporting first, then graduate to automated deployment and operationsâ€”while reviewing agent performance every sprint.</li></ul><h1><span id="references">References</span><a href="#references" class="header-anchor">#</a></h1><ul><li>[1] LangChain AI, â€œLangGraph,â€ <a href="https://github.com/langchain-ai/langgraph">https://github.com/langchain-ai/langgraph</a></li><li>[2] Amazon Web Services, â€œAutomate tasks in your application using AI agents,â€ <a href="https://docs.aws.amazon.com/bedrock/latest/userguide/agents.html">https://docs.aws.amazon.com/bedrock/latest/userguide/agents.html</a></li><li>[3] CrewAI, â€œcrewAI: Open source Multi-AI Agent orchestration framework,â€ <a href="https://github.com/crewAIInc/crewAI">https://github.com/crewAIInc/crewAI</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;table-of-contents&quot;&gt;Table of Contents&lt;/span&gt;&lt;a href=&quot;#table-of-contents&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-</summary>
      
    
    
    
    
    <category term="#IndieDev" scheme="https://imchenway.com/tags/IndieDev/"/>
    
    <category term="#GPT" scheme="https://imchenway.com/tags/GPT/"/>
    
    <category term="#Agents" scheme="https://imchenway.com/tags/Agents/"/>
    
    <category term="#LowCode" scheme="https://imchenway.com/tags/LowCode/"/>
    
    <category term="#Growth" scheme="https://imchenway.com/tags/Growth/"/>
    
  </entry>
  
  <entry>
    <title>ç‹¬ç«‹å¼€å‘è€…çš„ GPT+Agent äº§å“éªŒè¯æˆ˜æœ¯</title>
    <link href="https://imchenway.com/zh-CN/2025-10-gpt-agent-indie/"/>
    <id>https://imchenway.com/zh-CN/2025-10-gpt-agent-indie/</id>
    <published>2025-10-09T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#yin-yan">å¼•è¨€</a></li><li><a href="#1-shi-chang-zao-yin-sao-miao-yong-agent-shou-ji-zheng-ju">1. å¸‚åœºå™ªéŸ³æ‰«æï¼šç”¨ Agent æ”¶é›†è¯æ®</a><ul><li><a href="#1-1-cong-wen-ti-jia-she-chu-fa-de-shu-ru-she-ji">1.1 ä»é—®é¢˜å‡è®¾å‡ºå‘çš„è¾“å…¥è®¾è®¡</a></li><li><a href="#1-2-duo-dai-li-xie-zuo-de-diao-yan-mo-ban">1.2 å¤šä»£ç†åä½œçš„è°ƒç ”æ¨¡æ¿</a></li><li><a href="#1-3-shu-chu-wu-yu-yan-shou">1.3 è¾“å‡ºç‰©ä¸éªŒæ”¶</a></li></ul></li><li><a href="#2-mvp-dao-mlp-zi-dong-hua-da-yang-yu-di-dai-ma-xian-jie">2. MVP åˆ° MLPï¼šè‡ªåŠ¨åŒ–æ‰“æ ·ä¸ä½ä»£ç è¡”æ¥</a><ul><li><a href="#2-1-kuai-su-da-yang-de-shuang-gui-ce-lue">2.1 å¿«é€Ÿæ‰“æ ·çš„åŒè½¨ç­–ç•¥</a></li><li><a href="#2-2-xiang-mlp-bi-jin-de-guan-jian-xiao-yan">2.2 å‘ MLP é€¼è¿‘çš„å…³é”®æ ¡éªŒ</a></li></ul></li><li><a href="#3-zeng-chang-hui-lu-agent-qu-dong-de-yun-ying-shi-yan">3. å¢é•¿å›è·¯ï¼šAgent é©±åŠ¨çš„è¿è¥å®éªŒ</a><ul><li><a href="#3-1-jian-li-duan-dao-duan-shu-ju-hui-lu">3.1 å»ºç«‹ç«¯åˆ°ç«¯æ•°æ®å›è·¯</a></li><li><a href="#3-2-zi-dong-hua-yun-ying-yu-wai-bu-sheng-tai">3.2 è‡ªåŠ¨åŒ–è¿è¥ä¸å¤–éƒ¨ç”Ÿæ€</a></li></ul></li><li><a href="#4-feng-xian-ying-dui-he-gui-cheng-ben-yu-ding-jie-bian-jie">4. é£é™©åº”å¯¹ï¼šåˆè§„ã€æˆæœ¬ä¸å®šä»·è¾¹ç•Œ</a><ul><li><a href="#4-1-shu-ju-yu-quan-xian">4.1 æ•°æ®ä¸æƒé™</a></li><li><a href="#4-2-mo-xing-yu-cheng-ben-guan-li">4.2 æ¨¡å‹ä¸æˆæœ¬ç®¡ç†</a></li><li><a href="#4-3-ding-jie-ce-lue-yu-jie-zhi-zheng-ming">4.3 å®šä»·ç­–ç•¥ä¸ä»·å€¼è¯æ˜</a></li></ul></li><li><a href="#5-jie-lun">5. ç»“è®º</a></li><li><a href="#can-kao-zi-liao">å‚è€ƒèµ„æ–™</a></li></ul><!-- tocstop --></div><h1><span id="yin-yan">å¼•è¨€</span><a href="#yin-yan" class="header-anchor">#</a></h1><ul><li>ç‹¬ç«‹å¼€å‘è€…æ­£åœ¨æŠŠå¤š Agent æµæ°´çº¿å½“ä½œâ€œéšå½¢å›¢é˜Ÿâ€ï¼ŒLangGraph ç­‰æ¡†æ¶å·²ç»è¢« Replitã€Elastic ç­‰ç”Ÿäº§å›¢é˜Ÿé‡‡ç”¨ï¼Œç”¨äºæ‰˜ç®¡æœ‰çŠ¶æ€ä»£ç†å’Œè‡ªå®šä¹‰ç¼–æ’[1]ã€‚</li><li>ä¼ä¸šçº§äº‘å‚å•†ä¹Ÿåœ¨ä¸‹æ”¾åŒç±»èƒ½åŠ›ï¼šAmazon Bedrock Agents åŸç”Ÿæ”¯æŒ API è°ƒç”¨ã€çŸ¥è¯†åº“è¡¥å……ä¸æƒé™æ²»ç†ï¼Œè®©ä¸ªäººå¼€å‘è€…ä¹Ÿèƒ½å¤ç”¨æˆç†Ÿçš„å·¥ä½œæµæ§åˆ¶é¢[2]ã€‚</li><li>åœ¨èµ„æºã€æ—¶é—´éƒ½æœ‰é™çš„æƒ…å†µä¸‹ï¼Œåˆç†æ‹†åˆ†â€œè°ƒç ”â†’æ‰“æ ·â†’éªŒè¯â†’åˆè§„â€çš„ Agent ç­–ç•¥ï¼Œèƒ½å¤ŸæŠŠäº§å“éªŒè¯å‘¨æœŸä»æ•°å‘¨å‹ç¼©åˆ°æ•°æ—¥ã€‚</li></ul><h1><span id="1-shi-chang-zao-yin-sao-miao-yong-agent-shou-ji-zheng-ju">1. å¸‚åœºå™ªéŸ³æ‰«æï¼šç”¨ Agent æ”¶é›†è¯æ®</span><a href="#1-shi-chang-zao-yin-sao-miao-yong-agent-shou-ji-zheng-ju" class="header-anchor">#</a></h1><h2><span id="1-1-cong-wen-ti-jia-she-chu-fa-de-shu-ru-she-ji">1.1 ä»é—®é¢˜å‡è®¾å‡ºå‘çš„è¾“å…¥è®¾è®¡</span><a href="#1-1-cong-wen-ti-jia-she-chu-fa-de-shu-ru-she-ji" class="header-anchor">#</a></h2><ul><li>å…ˆå†™å‡ºâ€œé—®é¢˜å‡è®¾ Ã— ç›®æ ‡äººç¾¤ Ã— æˆåŠŸä¿¡å·â€ä¸‰å…ƒç»„ï¼Œå†è®©ä¸» Agent ç»„åˆæœç´¢æ¸ é“ï¼ˆç¤¾åŒºçƒ­è¯ã€GitHub issueã€ç¤¾åª’ï¼‰ä¸æŒ‡æ ‡ï¼ˆè®¨è®ºé¢‘æ¬¡ã€è´Ÿé¢æƒ…ç»ªæ¯”ï¼‰ã€‚</li><li>ä½¿ç”¨ LangGraph çš„çŠ¶æ€å›¾æŠŠâ€œæŠ“å– â†’ å»é‡ â†’ æƒ…æ„Ÿåˆ¤åˆ« â†’ ç»“è®ºæ±‡æ€»â€æ‹†æˆèŠ‚ç‚¹ï¼Œå¯é’ˆå¯¹ä¸åŒæ¸ é“å¤ç”¨å·¥å…·é“¾ï¼›è¯¥æ¡†æ¶æ”¯æŒé•¿æ—¶é—´è¿è¡Œä¸æ£€æŸ¥ç‚¹ï¼Œé€‚åˆæ¯å¤©è°ƒåº¦æ‰«æ[1]ã€‚</li></ul><h2><span id="1-2-duo-dai-li-xie-zuo-de-diao-yan-mo-ban">1.2 å¤šä»£ç†åä½œçš„è°ƒç ”æ¨¡æ¿</span><a href="#1-2-duo-dai-li-xie-zuo-de-diao-yan-mo-ban" class="header-anchor">#</a></h2><ul><li>ä»¥ CrewAI çš„â€œCrews + Flowsâ€ç»“æ„ä¸ºè“æœ¬ï¼šä¾¦å¯Ÿä»£ç†è´Ÿè´£å¤–éƒ¨æ•°æ®æŠ“å–ï¼Œåˆ†æä»£ç†è´Ÿè´£èšç±»ä¸æ‰“åˆ†ï¼Œæ ¡å¯¹ä»£ç†æ ¹æ®ç»éªŒåº“åšæœ€ç»ˆç‚¹è¯„ï¼›CrewAI æ”¯æŒè‡ªå®šä¹‰è§’è‰²ä¸å†…éƒ¨æç¤ºè¯ï¼Œä¿è¯ç»“æœå¯è§£é‡Š[3]ã€‚</li><li>å°† Amazon Bedrock Agent ä½œä¸ºæ‰§è¡Œå£³ï¼šå®ƒå¯ä»¥åœ¨æµç¨‹ä¸­è‡ªåŠ¨è°ƒç”¨å¤–éƒ¨ APIï¼ˆå¦‚ Product Huntã€Redditï¼‰å¹¶å†™å…¥çŸ¥è¯†åº“ï¼Œçœå»æ‰‹å·¥ glue code[2]ã€‚</li></ul><h2><span id="1-3-shu-chu-wu-yu-yan-shou">1.3 è¾“å‡ºç‰©ä¸éªŒæ”¶</span><a href="#1-3-shu-chu-wu-yu-yan-shou" class="header-anchor">#</a></h2><ul><li>çº²è¦æŠ¥å‘Šï¼šåˆ—å‡ºé«˜é¢‘ç—›ç‚¹ã€æ½œåœ¨ç«å“å’Œè¢«å¿½è§†çš„é•¿å°¾éœ€æ±‚ã€‚</li><li>ä¿¡å·åˆ»åº¦ï¼šå¯¹æ¯ä¸ªå‡è®¾æ‰“â€œè¯æ®å¼ºåº¦â€â€œè§£å†³éš¾åº¦â€â€œå˜ç°è·¯å¾„æ¸…æ™°åº¦â€ä¸‰ç±»åˆ†å€¼ï¼Œè®©åç»­ MVP å†³ç­–æœ‰é‡åŒ–ä¾æ®ã€‚</li></ul><h1><span id="2-mvp-dao-mlp-zi-dong-hua-da-yang-yu-di-dai-ma-xian-jie">2. MVP åˆ° MLPï¼šè‡ªåŠ¨åŒ–æ‰“æ ·ä¸ä½ä»£ç è¡”æ¥</span><a href="#2-mvp-dao-mlp-zi-dong-hua-da-yang-yu-di-dai-ma-xian-jie" class="header-anchor">#</a></h1><h2><span id="2-1-kuai-su-da-yang-de-shuang-gui-ce-lue">2.1 å¿«é€Ÿæ‰“æ ·çš„åŒè½¨ç­–ç•¥</span><a href="#2-1-kuai-su-da-yang-de-shuang-gui-ce-lue" class="header-anchor">#</a></h2><ul><li>ä»£ç å‹ MVPï¼šåˆ©ç”¨ LangGraph çš„ React Agent æ¨¡æ¿ç¼–ç æ ¸å¿ƒæµç¨‹ï¼Œç»“åˆ CrewAI Flows æŠŠéƒ¨ç½²è„šæœ¬ã€å†’çƒŸæµ‹è¯•ã€æ–‡æ¡£ç”Ÿæˆçº³å…¥åŒä¸€å›¾ï¼Œä¿è¯é¦–æ¬¡ä¸Šçº¿å¯é‡å¤[1][3]ã€‚</li><li>ä½ä»£ç  MVPï¼šæŠŠ Amazon Bedrock Agent æš´éœ²æˆ REST æœåŠ¡ï¼Œæ¥å…¥ Retoolã€Bubble ç­‰ä½ä»£ç å‰ç«¯ï¼›Bedrock ä¼šç®¡ç†æƒé™ã€åŠ å¯†ä¸ç›‘æ§ï¼Œå‡å°‘è‡ªå»ºè¿ç»´è´Ÿæ‹…[2]ã€‚</li></ul><h2><span id="2-2-xiang-mlp-bi-jin-de-guan-jian-xiao-yan">2.2 å‘ MLP é€¼è¿‘çš„å…³é”®æ ¡éªŒ</span><a href="#2-2-xiang-mlp-bi-jin-de-guan-jian-xiao-yan" class="header-anchor">#</a></h2><ul><li>å¼•å…¥çœŸå®æ•°æ®ï¼šè®©ä»£ç†é€šè¿‡ Action Group è°ƒç”¨ä¸šåŠ¡ APIï¼Œè‡ªåŠ¨å›æ”¾å†å²è®¢å•æˆ–å¯¹è¯ï¼Œæ ¡éªŒç­–ç•¥èƒ½å¦è¦†ç›–å¼‚å¸¸è¾“å…¥ã€‚</li><li>ç”¨æˆ·åœ¨ç¯ï¼šä¸ºä½“éªŒä»£ç†é…ç½®â€œäººå·¥ç¡®è®¤â€å­ä»»åŠ¡ï¼Œé¿å…æ¨¡å‹ç›´æ¥å†™å…¥ç”Ÿäº§åº“ï¼›CrewAI æ”¯æŒæ··åˆäººå·¥æ­¥éª¤ï¼Œå¯ä»¥æŠŠäººå·¥åé¦ˆè¿½åŠ åˆ° Prompt è®°å¿†ä¸­[3]ã€‚</li></ul><h1><span id="3-zeng-chang-hui-lu-agent-qu-dong-de-yun-ying-shi-yan">3. å¢é•¿å›è·¯ï¼šAgent é©±åŠ¨çš„è¿è¥å®éªŒ</span><a href="#3-zeng-chang-hui-lu-agent-qu-dong-de-yun-ying-shi-yan" class="header-anchor">#</a></h1><h2><span id="3-1-jian-li-duan-dao-duan-shu-ju-hui-lu">3.1 å»ºç«‹ç«¯åˆ°ç«¯æ•°æ®å›è·¯</span><a href="#3-1-jian-li-duan-dao-duan-shu-ju-hui-lu" class="header-anchor">#</a></h2><ul><li>è®©ç›‘æµ‹ä»£ç†è®¢é˜…åŸ‹ç‚¹äº‹ä»¶ï¼Œè‡ªåŠ¨å½’æ¡£åˆ°æ•°æ®æ¹–ï¼›å†ç”±æ´å¯Ÿä»£ç†æ±‡æ€»è½¬åŒ–ç‡ã€ç•™å­˜ç‡å¹¶è¾“å‡ºæ¯å‘¨å¤ç›˜ã€‚</li><li>é€šè¿‡ LangGraph çš„æ£€æŸ¥ç‚¹æœºåˆ¶å¯¹ A&#x2F;B å®éªŒåˆ†æ”¯å»ºç«‹ç‹¬ç«‹çŠ¶æ€ï¼Œå›çœ‹ä»»ä½•ä¸€æ¬¡å®éªŒçš„ Promptã€å·¥å…·è°ƒç”¨ä¸ç»“æœï¼Œå‡å°‘â€œé»‘ç®±å†³ç­–â€[1]ã€‚</li></ul><h2><span id="3-2-zi-dong-hua-yun-ying-yu-wai-bu-sheng-tai">3.2 è‡ªåŠ¨åŒ–è¿è¥ä¸å¤–éƒ¨ç”Ÿæ€</span><a href="#3-2-zi-dong-hua-yun-ying-yu-wai-bu-sheng-tai" class="header-anchor">#</a></h2><ul><li>ä½¿ç”¨ CrewAI çš„å¤šè§’è‰²ç»“æ„æŠŠâ€œå†…å®¹ç”Ÿäº§ã€é‚®ä»¶è§¦è¾¾ã€å®¢æœå›å¤â€æ‹†æˆä¸åŒè§’è‰²ï¼Œå½¼æ­¤å…±äº«ä»»åŠ¡ä¸Šä¸‹æ–‡ï¼Œç»´æŒå£å¾„ä¸€è‡´[3]ã€‚</li><li>å€ŸåŠ© Amazon Bedrock çš„çŸ¥è¯†åº“èƒ½åŠ›ï¼ŒæŠŠç”¨æˆ· FAQã€å®šä»·ç­–ç•¥æ”¾å…¥å‘é‡åº“ï¼Œè®©è¿è¥ä»£ç†åœ¨å“åº”å‰è‡ªåŠ¨è¡¥å……æœ€æ–°ç­–ç•¥[2]ã€‚</li></ul><h1><span id="4-feng-xian-ying-dui-he-gui-cheng-ben-yu-ding-jie-bian-jie">4. é£é™©åº”å¯¹ï¼šåˆè§„ã€æˆæœ¬ä¸å®šä»·è¾¹ç•Œ</span><a href="#4-feng-xian-ying-dui-he-gui-cheng-ben-yu-ding-jie-bian-jie" class="header-anchor">#</a></h1><h2><span id="4-1-shu-ju-yu-quan-xian">4.1 æ•°æ®ä¸æƒé™</span><a href="#4-1-shu-ju-yu-quan-xian" class="header-anchor">#</a></h2><ul><li>Bedrock åœ¨æ‰˜ç®¡æ¨¡å¼ä¸‹é»˜è®¤æ¥ç®¡ API è°ƒç”¨ã€åŠ å¯†ä¸æƒé™æ§åˆ¶ï¼Œé€‚åˆéœ€è¦åˆè§„å®¡è®¡çš„ç‹¬ç«‹å¼€å‘è€…åˆä½œä¼ä¸šå®¢æˆ·[2]ã€‚</li><li>å¯¹äºæœ¬åœ°æ‰§è¡Œçš„ CrewAI&#x2F;LangGraph æµç¨‹ï¼Œè¦åœ¨æ¯ä¸ªå·¥å…·è°ƒç”¨å‰å†™æ˜ç™½â€œè¾“å…¥æ¥æºã€å†™å…¥èŒƒå›´ã€å¤±è´¥å…œåº•â€ï¼Œå¹¶ç”¨ Git è®°å½•æ‰€æœ‰ Prompt&#x2F;é…ç½®å˜æ›´ï¼Œç¡®ä¿å¯è¿½æº¯ã€‚</li></ul><h2><span id="4-2-mo-xing-yu-cheng-ben-guan-li">4.2 æ¨¡å‹ä¸æˆæœ¬ç®¡ç†</span><a href="#4-2-mo-xing-yu-cheng-ben-guan-li" class="header-anchor">#</a></h2><ul><li>è®¾å®šâ€œæ¨ç†é¢„ç®—è¡¨â€ï¼šå°†æ¯ç±»ä»»åŠ¡ï¼ˆè°ƒç ”ã€æ‰“æ ·ã€å®¢æœï¼‰å¯¹åº”çš„æ¨¡å‹ã€Token ä¸Šé™ã€é¢‘ç‡å†™æˆé…ç½®ï¼›LangGraph çš„çŠ¶æ€ç®¡ç†å¯ä»¥åœ¨èŠ‚ç‚¹å±‚é¢è¯»å–é¢„ç®—ï¼Œé˜²æ­¢è¶…æ”¯[1]ã€‚</li><li>åœ¨ CrewAI ä¸­å¼•å…¥æˆæœ¬ç›‘æ§ä»£ç†ï¼Œå®šæœŸæ‹‰å–è´¦å•æˆ–ç»Ÿè®¡æœ¬åœ° GPU æ—¶é•¿ï¼Œå¹¶è°ƒæ•´åˆ†å·¥ï¼Œæ¯”å¦‚æŠŠé•¿æ–‡ç”Ÿæˆäº¤ç»™å°æ¨¡å‹ï¼ŒæŠŠé«˜é£é™©æ€»ç»“ç•™ç»™æ——èˆ°æ¨¡å‹[3]ã€‚</li></ul><h2><span id="4-3-ding-jie-ce-lue-yu-jie-zhi-zheng-ming">4.3 å®šä»·ç­–ç•¥ä¸ä»·å€¼è¯æ˜</span><a href="#4-3-ding-jie-ce-lue-yu-jie-zhi-zheng-ming" class="header-anchor">#</a></h2><ul><li>å°† Agent ç”Ÿæˆçš„æŠ¥å‘Šå’Œå®éªŒç»“è®ºæ²‰æ·€æˆâ€œå®¢æˆ·å¯è§çš„ä»·å€¼è¯æ˜â€ï¼Œä¾‹å¦‚è¾“å‡ºè‡ªåŠ¨åŒ–èŠ‚çœäººåŠ›çš„æ—¶æ•°ã€ä¸Šçº¿å‘¨æœŸç¼©çŸ­çš„å¤©æ•°ã€‚</li><li>æŠŠè¿™äº›æŒ‡æ ‡æ˜ å°„åˆ°åˆ†å±‚å¥—é¤ï¼šåŸºç¡€ç‰ˆåªæä¾›è°ƒç ”ä¸çœ‹æ¿ï¼Œé«˜é˜¶ç‰ˆå¢åŠ è‡ªåŠ¨åŒ–æ‰§è¡Œã€ç§æœ‰çŸ¥è¯†åº“æˆ–è‡ªæ‰˜ç®¡é€‰é¡¹ã€‚</li></ul><h1><span id="5-jie-lun">5. ç»“è®º</span><a href="#5-jie-lun" class="header-anchor">#</a></h1><ul><li>GPT+Agent ä½“ç³»å¯ä»¥è®©ç‹¬ç«‹å¼€å‘è€…åœ¨è°ƒç ”ã€æ‰“æ ·ã€å¢é•¿ã€åˆè§„å››ä¸ªç¯èŠ‚å½¢æˆé—­ç¯ï¼Œå…³é”®æ˜¯é€‰æ‹©å¯ç»„åˆçš„ç¼–æ’æ¡†æ¶ä¸æ‰˜ç®¡æœåŠ¡ã€‚</li><li>é€šè¿‡ LangGraph çš„æœ‰çŠ¶æ€ç¼–æ’ã€CrewAI çš„å¤šè§’è‰²åä½œï¼Œä»¥åŠ Amazon Bedrock çš„æ‰˜ç®¡æ‰§è¡Œé¢ï¼Œå¯ä»¥åœ¨ä¿è¯å®‰å…¨ä¸æˆæœ¬å¯æ§çš„å‰æä¸‹ï¼ŒæŠŠéªŒè¯å‘¨æœŸå‹ç¼©åˆ°æŒ‰å‘¨è¿­ä»£ã€‚</li><li>å»ºè®®ä»æœ€å°èŒƒå›´è¯•ç‚¹ï¼šå…ˆæŠŠå¸‚åœºæ‰«æä¸å®éªŒæŠ¥å‘Šäº¤ç»™ä»£ç†ï¼Œå†é€æ­¥æ‰©å±•åˆ°è‡ªåŠ¨éƒ¨ç½²ä¸è¿è¥è‡ªåŠ¨åŒ–ï¼ŒæŒç»­å¤ç›˜æ¨¡å‹è¡¨ç°ã€‚</li></ul><h1><span id="can-kao-zi-liao">å‚è€ƒèµ„æ–™</span><a href="#can-kao-zi-liao" class="header-anchor">#</a></h1><ul><li>[1] LangChain AIï¼Œã€ŠLangGraphã€‹ï¼Œ<a href="https://github.com/langchain-ai/langgraph">https://github.com/langchain-ai/langgraph</a></li><li>[2] Amazon Web Servicesï¼Œã€ŠAutomate tasks in your application using AI agentsã€‹ï¼Œ<a href="https://docs.aws.amazon.com/bedrock/latest/userguide/agents.html">https://docs.aws.amazon.com/bedrock/latest/userguide/agents.html</a></li><li>[3] CrewAIï¼Œã€ŠcrewAIï¼šOpen source Multi-AI Agent orchestration frameworkã€‹ï¼Œ<a href="https://github.com/crewAIInc/crewAI">https://github.com/crewAIInc/crewAI</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    
    <category term="#IndieDev" scheme="https://imchenway.com/tags/IndieDev/"/>
    
    <category term="#GPT" scheme="https://imchenway.com/tags/GPT/"/>
    
    <category term="#Agents" scheme="https://imchenway.com/tags/Agents/"/>
    
    <category term="#LowCode" scheme="https://imchenway.com/tags/LowCode/"/>
    
    <category term="#Growth" scheme="https://imchenway.com/tags/Growth/"/>
    
  </entry>
  
  <entry>
    <title>Optimizing LLM Inference Microservices for Performance and Cost</title>
    <link href="https://imchenway.com/en/llm-inference-microservices/"/>
    <id>https://imchenway.com/en/llm-inference-microservices/</id>
    <published>2025-10-05T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="table-of-contents">Table of Contents</span><a href="#table-of-contents" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#introduction">Introduction</a></li><li><a href="#1-architectural-baselines-to-choose-from">1. Architectural Baselines to Choose From</a><ul><li><a href="#1-1-dedicated-inference-services">1.1 Dedicated Inference Services</a></li><li><a href="#1-2-managed-and-serverless-inference">1.2 Managed and Serverless Inference</a></li><li><a href="#1-3-edge-and-hybrid-inference">1.3 Edge and Hybrid Inference</a></li></ul></li><li><a href="#2-metrics-that-keep-the-service-honest">2. Metrics That Keep the Service Honest</a></li><li><a href="#3-keeping-the-bill-under-control">3. Keeping the Bill Under Control</a></li><li><a href="#4-field-notes-from-real-deployments">4. Field Notes from Real Deployments</a><ul><li><a href="#4-1-microsoft-bing-scales-with-triton">4.1 Microsoft Bing Scales with Triton</a></li><li><a href="#4-2-retail-customer-care-survives-peak-hours-with-serverless">4.2 Retail Customer Care Survives Peak Hours with Serverless</a></li><li><a href="#4-3-saas-analytics-guards-against-model-drift">4.3 SaaS Analytics Guards Against Model Drift</a></li></ul></li><li><a href="#5-implementation-checklist">5. Implementation Checklist</a></li><li><a href="#conclusion">Conclusion</a></li><li><a href="#references">References</a></li></ul><!-- tocstop --></div><h1><span id="introduction">Introduction</span><a href="#introduction" class="header-anchor">#</a></h1><p>Generative AI workloads are pushing inference from a single API call into a full-fledged microservice stack that must balance latency, throughput, and budget. Whether you run on a self-managed GPU fleet or a managed platform, success now depends on a mature architecture, a disciplined metrics program, and relentless cost hygiene. This article distills the patterns we see across recent projects and public case studies to help teams design, observe, and optimize LLM inference services.</p><h1><span id="1-architectural-baselines-to-choose-from">1. Architectural Baselines to Choose From</span><a href="#1-architectural-baselines-to-choose-from" class="header-anchor">#</a></h1><h2><span id="1-1-dedicated-inference-services">1.1 Dedicated Inference Services</span><a href="#1-1-dedicated-inference-services" class="header-anchor">#</a></h2><ul><li>Deploy on your own GPU or Kubernetes clusters with Triton Inference Server, TensorRT, or custom schedulers to control every layer of the stack.</li><li>Best for teams that require tight latency targets, custom batching policies, or specialized hardware layouts; you can fine-tune dynamic batching, replica placement, and caching.</li><li>The trade-off is operational overhead: driver management, image pipelines, model rollouts, and incident response all sit on your plate.</li></ul><h2><span id="1-2-managed-and-serverless-inference">1.2 Managed and Serverless Inference</span><a href="#1-2-managed-and-serverless-inference" class="header-anchor">#</a></h2><ul><li>Cloud platforms such as Amazon SageMaker Serverless Inference or Vertex AI Predictions abstract away cluster management and bill per request[2].</li><li>Ideal for early-stage exploration or bursty traffic patterns; scale-out happens automatically and idle capacity does not generate GPU charges.</li><li>Watch for cold-start latency and platform limits on model size or custom runtimes; heavyweight models may still require dedicated endpoints.</li></ul><h2><span id="1-3-edge-and-hybrid-inference">1.3 Edge and Hybrid Inference</span><a href="#1-3-edge-and-hybrid-inference" class="header-anchor">#</a></h2><ul><li>Latency-sensitive or regulated workloads often push distilled or task-specific models to edge locations or private clouds while keeping heavy models in a central region.</li><li>Typical pattern: the edge tier handles the first pass or generates a coarse draft, delegating complex completions back to the core cluster.</li><li>Demands mature multi-region routing, cache coherency, and weight distribution practices so that versions and metrics stay aligned.</li></ul><h1><span id="2-metrics-that-keep-the-service-honest">2. Metrics That Keep the Service Honest</span><a href="#2-metrics-that-keep-the-service-honest" class="header-anchor">#</a></h1><ul><li><strong>Latency percentiles (P50&#x2F;P95&#x2F;P99)</strong> capture the long-tail behavior that dominates user experience; baseline them per model size and prompt length.</li><li><strong>Throughput and concurrency</strong> measured via QPS, tokens per second, or requests per GPU reveal whether batching and tensor parallelism are paying off.</li><li><strong>GPU utilization and memory pressure</strong> indicate when to enable Triton multi-model concurrency or carve GPUs with MIG to break single-model monopolies[1].</li><li><strong>Cache hit ratios</strong> for prompt, KV, or vector caches determine whether long-context requests are reusing state effectively; investigate eviction patterns when latency spikes.</li><li><strong>Health signals</strong> such as timeouts, GPU OOMs, or model load failures should feed alerting and automated remediation; Vertex AIâ€™s model monitoring can surface data drift that correlates with these incidents[3].</li></ul><h1><span id="3-keeping-the-bill-under-control">3. Keeping the Bill Under Control</span><a href="#3-keeping-the-bill-under-control" class="header-anchor">#</a></h1><ul><li><strong>Dynamic batching and tensor parallel strategies</strong> offered by Triton and Hugging Face TGI consolidate requests, driving up tokens-per-second without new hardware[1][4].</li><li><strong>Elastic scaling policies</strong>: self-managed clusters can trigger HPA or Cluster Autoscaler on GPU metrics, while serverless platforms let you preconfigure concurrency caps and scaling thresholds to survive surges[2].</li><li><strong>Tiered compute pools</strong> route heavy prompts or multimodal requests to A100&#x2F;H100 classes and keep lighter conversations on L40S or CPU-optimized pools, guided by routing tags.</li><li><strong>On-demand plus spot mixing</strong>: assign non-critical workloads to spot&#x2F;preemptible instances with automatic retries, reserving on-demand capacity for SLA-critical paths.</li><li><strong>Comprehensive cost observability</strong>: consolidate GPU hours, model invocation metrics, egress, and cache storage into cost centers per model, tenant, or product to drive continuous optimization.</li></ul><h1><span id="4-field-notes-from-real-deployments">4. Field Notes from Real Deployments</span><a href="#4-field-notes-from-real-deployments" class="header-anchor">#</a></h1><h2><span id="4-1-microsoft-bing-scales-with-triton">4.1 Microsoft Bing Scales with Triton</span><a href="#4-1-microsoft-bing-scales-with-triton" class="header-anchor">#</a></h2><ul><li>The Bing team adopted Triton Inference Server for Transformer workloads, using dynamic batching and concurrent model execution to double GPU utilization while holding latency flat[1].</li><li>Key lessons: decouple weight loading, keep hot models resident, and rely on Tritonâ€™s model management APIs to stage less frequently used variants.</li></ul><h2><span id="4-2-retail-customer-care-survives-peak-hours-with-serverless">4.2 Retail Customer Care Survives Peak Hours with Serverless</span><a href="#4-2-retail-customer-care-survives-peak-hours-with-serverless" class="header-anchor">#</a></h2><ul><li>A major retailer migrated its customer-support assistant to SageMaker Serverless so traffic spikes during shopping festivals could burst automatically.</li><li>Warm-up requests reduced cold starts, and the team relied on cost dashboards to compare GPU-hour spend before and after migration, observing ~35% peak-hour savings with near-zero idle cost[2].</li></ul><h2><span id="4-3-saas-analytics-guards-against-model-drift">4.3 SaaS Analytics Guards Against Model Drift</span><a href="#4-3-saas-analytics-guards-against-model-drift" class="header-anchor">#</a></h2><ul><li>An analytics vendor runs primary models on Vertex AI managed inference and enables model monitoring to flag input distribution shifts, triggering retraining pipelines when drift exceeds thresholds[3].</li><li>Error logs enriched with tenant IDs and prompt length made it easier to isolate problematic clients and roll out throttling or guardrails.</li></ul><h1><span id="5-implementation-checklist">5. Implementation Checklist</span><a href="#5-implementation-checklist" class="header-anchor">#</a></h1><ol><li><strong>Establish observability first</strong>: instrument metrics, logs, and traces before the first production rollout to avoid blind spots.</li><li><strong>Segment models and hardware pools</strong>: map lightweight chat, heavy generation, and multimodal jobs to dedicated queues and hardware tiers.</li><li><strong>Rehearse capacity plans</strong>: schedule synthetic load tests to verify scaling rules, failure recovery, and GPU acquisition SLAs.</li><li><strong>Review cost versus value</strong>: pair inference spend with business KPIs per model or tenant to validate optimization decisions.</li><li><strong>Track framework releases</strong>: follow Triton, TGI, and managed-service updates to adopt batching, scheduling, and monitoring improvements quickly.</li></ol><h1><span id="conclusion">Conclusion</span><a href="#conclusion" class="header-anchor">#</a></h1><p>LLM inference is no longer a black-box APIâ€”it is a production system whose stability and unit economics determine how far AI capabilities can reach the business. By carefully selecting the right deployment model, operational metrics, and cost levers, teams can iteratively harden their inference microservices and create headroom for future models or multimodal workloads.</p><h1><span id="references">References</span><a href="#references" class="header-anchor">#</a></h1><ul><li>[1] NVIDIA Developer Blog, â€œAccelerating Microsoft Bing with Triton Inference Server,â€ <a href="https://developer.nvidia.com/blog/accelerating-microsoft-bing-with-triton-inference-server/">https://developer.nvidia.com/blog/accelerating-microsoft-bing-with-triton-inference-server/</a></li><li>[2] AWS Documentation, â€œAmazon SageMaker Serverless Inference,â€ <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/serverless-endpoints.html">https://docs.aws.amazon.com/sagemaker/latest/dg/serverless-endpoints.html</a></li><li>[3] Google Cloud Documentation, â€œVertex AI Model Monitoring overview,â€ <a href="https://cloud.google.com/vertex-ai/docs/model-monitoring/overview">https://cloud.google.com/vertex-ai/docs/model-monitoring/overview</a></li><li>[4] Hugging Face Documentation, â€œText Generation Inference documentation,â€ <a href="https://huggingface.co/docs/text-generation-inference/index">https://huggingface.co/docs/text-generation-inference/index</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;table-of-contents&quot;&gt;Table of Contents&lt;/span&gt;&lt;a href=&quot;#table-of-contents&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-</summary>
      
    
    
    
    
    <category term="#Observability" scheme="https://imchenway.com/tags/Observability/"/>
    
    <category term="#Performance" scheme="https://imchenway.com/tags/Performance/"/>
    
    <category term="#LLMInference" scheme="https://imchenway.com/tags/LLMInference/"/>
    
    <category term="#CostOptimization" scheme="https://imchenway.com/tags/CostOptimization/"/>
    
    <category term="#EdgeComputing" scheme="https://imchenway.com/tags/EdgeComputing/"/>
    
  </entry>
  
  <entry>
    <title>LLM æ¨ç†å¾®æœåŠ¡çš„æ€§èƒ½ä¼˜åŒ–ä¸æˆæœ¬æ§åˆ¶</title>
    <link href="https://imchenway.com/zh-CN/2025-10-llm-inference-microservices/"/>
    <id>https://imchenway.com/zh-CN/2025-10-llm-inference-microservices/</id>
    <published>2025-10-05T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#yin-yan">å¼•è¨€</a></li><li><a href="#1-tui-li-fu-wu-jia-gou-fan-shi-dui-bi">1. æ¨ç†æœåŠ¡æ¶æ„èŒƒå¼å¯¹æ¯”</a><ul><li><a href="#1-1-zhuan-yong-tui-li-fu-wu-dedicated-inference-service">1.1 ä¸“ç”¨æ¨ç†æœåŠ¡ï¼ˆDedicated Inference Serviceï¼‰</a></li><li><a href="#1-2-tuo-guan-serverless-tui-li-managed-serverless-inference">1.2 æ‰˜ç®¡&#x2F;Serverless æ¨ç†ï¼ˆManaged &amp; Serverless Inferenceï¼‰</a></li><li><a href="#1-3-bian-yuan-yu-hun-he-tui-li-edge-hybrid-inference">1.3 è¾¹ç¼˜ä¸æ··åˆæ¨ç†ï¼ˆEdge &amp; Hybrid Inferenceï¼‰</a></li></ul></li><li><a href="#2-guan-jian-zhi-biao-ti-xi-cong-yan-chi-dao-jian-kang-du">2. å…³é”®æŒ‡æ ‡ä½“ç³»ï¼šä»å»¶è¿Ÿåˆ°å¥åº·åº¦</a></li><li><a href="#3-cheng-ben-zhi-li-ce-lue">3. æˆæœ¬æ²»ç†ç­–ç•¥</a></li><li><a href="#4-an-li-yu-pai-zhang-jing-yan">4. æ¡ˆä¾‹ä¸æ’éšœç»éªŒ</a><ul><li><a href="#4-1-microsoft-bing-shi-yong-triton-ti-sheng-duo-mo-xing-bing-fa">4.1 Microsoft Bingï¼šä½¿ç”¨ Triton æå‡å¤šæ¨¡å‹å¹¶å‘</a></li><li><a href="#4-2-dian-shang-ke-fu-ji-qi-ren-serverless-huan-jie-liu-liang-jian-feng">4.2 ç”µå•†å®¢æœæœºå™¨äººï¼šServerless ç¼“è§£æµé‡å°–å³°</a></li><li><a href="#4-3-saas-shu-ju-fen-xi-ping-tai-mo-xing-piao-yi-yu-zhi-liang-shou-hu">4.3 SaaS æ•°æ®åˆ†æå¹³å°ï¼šæ¨¡å‹æ¼‚ç§»ä¸è´¨é‡å®ˆæŠ¤</a></li></ul></li><li><a href="#5-shi-shi-qing-dan-yu-jian-yi">5. å®æ–½æ¸…å•ä¸å»ºè®®</a></li><li><a href="#jie-lun">ç»“è®º</a></li><li><a href="#can-kao-zi-liao">å‚è€ƒèµ„æ–™</a></li></ul><!-- tocstop --></div><h1><span id="yin-yan">å¼•è¨€</span><a href="#yin-yan" class="header-anchor">#</a></h1><p>ç”Ÿæˆå¼ AI çš„ä¸šåŠ¡å‹åŠ›ï¼Œæ­£åœ¨æŠŠâ€œæ¨ç†æœåŠ¡â€ä»å•ä¸€ API æ¼”å˜ä¸ºå…·å¤‡è‡ªæ²»æ‰©ç¼©å®¹ã€å¯è§‚æµ‹ä¸æˆæœ¬æ²»ç†èƒ½åŠ›çš„å¾®æœåŠ¡ä½“ç³»ã€‚æ— è®ºæ˜¯äº‘ç«¯çš„å¤§æ¨¡å‹å¹³å°ï¼Œè¿˜æ˜¯è‡ªå»º GPU é›†ç¾¤ï¼Œå›¢é˜Ÿéƒ½å¿…é¡»åœ¨é«˜ååã€ä½å»¶è¿Ÿä¸é¢„ç®—çº¦æŸä¹‹é—´å–å¾—å¹³è¡¡ã€‚æœ¬æ–‡ç»“åˆè¿‘æœŸé¡¹ç›®ç»éªŒä¸ä¸šç•Œå…¬å¼€èµ„æ–™ï¼Œæ¢³ç† LLM æ¨ç†å¾®æœåŠ¡çš„å…¸å‹æ¶æ„æ¨¡å¼ã€å…³é”®æŒ‡æ ‡ä¸æˆæœ¬æ²»ç†æ‰‹æ®µï¼Œå¹¶é€šè¿‡çœŸå®æ¡ˆä¾‹æ€»ç»“æ’éšœæ€è·¯ã€‚</p><h1><span id="1-tui-li-fu-wu-jia-gou-fan-shi-dui-bi">1. æ¨ç†æœåŠ¡æ¶æ„èŒƒå¼å¯¹æ¯”</span><a href="#1-tui-li-fu-wu-jia-gou-fan-shi-dui-bi" class="header-anchor">#</a></h1><h2><span id="1-1-zhuan-yong-tui-li-fu-wu-dedicated-inference-service">1.1 ä¸“ç”¨æ¨ç†æœåŠ¡ï¼ˆDedicated Inference Serviceï¼‰</span><a href="#1-1-zhuan-yong-tui-li-fu-wu-dedicated-inference-service" class="header-anchor">#</a></h2><ul><li>ç›´æ¥è¿è¡Œåœ¨è‡ªå»º GPU é›†ç¾¤æˆ– Kubernetes é›†ç¾¤ä¸Šï¼Œåˆ©ç”¨ Triton Inference Serverã€TensorRT æˆ–è‡ªç ”è°ƒåº¦æœåŠ¡åšæ‰¹é‡æ¨ç†ã€‚</li><li>é€‚åˆéœ€è¦å®Œå…¨æŒæ§æ¨¡å‹ç‰ˆæœ¬ã€ç¡¬ä»¶æ‹“æ‰‘ä¸é“¾è·¯å»¶è¿Ÿçš„å›¢é˜Ÿï¼Œå¯æ·±åº¦å®šåˆ¶åŠ¨æ€æ‰¹å¤„ç†ã€æ¨¡å‹å‰¯æœ¬ä¸ç¼“å­˜ç­–ç•¥ã€‚</li><li>ç¼ºç‚¹æ˜¯è¿ç»´è´Ÿæ‹…å¤§ï¼šç¡¬ä»¶è°ƒåº¦ã€é©±åŠ¨å…¼å®¹ã€é•œåƒå‘å¸ƒç­‰å·¥ä½œéƒ½ç”±å›¢é˜Ÿè´Ÿè´£ã€‚</li></ul><h2><span id="1-2-tuo-guan-x2f-serverless-tui-li-managed-amp-serverless-inference">1.2 æ‰˜ç®¡&#x2F;Serverless æ¨ç†ï¼ˆManaged &amp; Serverless Inferenceï¼‰</span><a href="#1-2-tuo-guan-x2f-serverless-tui-li-managed-amp-serverless-inference" class="header-anchor">#</a></h2><ul><li>é€šè¿‡äº‘æœåŠ¡ï¼ˆå¦‚ SageMaker Serverless Inferenceã€Vertex AI Predictionsï¼‰äº¤æ‰˜ç®¡ç†ï¼ŒæŒ‰å®é™…è¯·æ±‚é‡è®¡è´¹ï¼Œå…å»é›†ç¾¤ç»´æŠ¤æˆæœ¬[2]ã€‚</li><li>å¯¹æ—©æœŸæ¢ç´¢æˆ–æµé‡æ³¢åŠ¨è¾ƒå¤§çš„ä¸šåŠ¡å‹å¥½ï¼Œå°–å³°æ—¶å¯å¿«é€Ÿæ‹‰èµ·å®¹é‡ï¼Œä½è°·æ—¶ä¸éœ€è¦ä¸ºé—²ç½® GPU ä»˜è´¹ã€‚</li><li>éœ€è¦å…³æ³¨å†·å¯åŠ¨åŠæœ€å¤§å¹¶å‘é™åˆ¶ï¼›å¤æ‚æ¨¡å‹å¯èƒ½å—é™äºå¹³å°æä¾›çš„ GPU è§„æ ¼æˆ–è¿è¡Œæ—¶æ‰©å±•èƒ½åŠ›ã€‚</li></ul><h2><span id="1-3-bian-yuan-yu-hun-he-tui-li-edge-amp-hybrid-inference">1.3 è¾¹ç¼˜ä¸æ··åˆæ¨ç†ï¼ˆEdge &amp; Hybrid Inferenceï¼‰</span><a href="#1-3-bian-yuan-yu-hun-he-tui-li-edge-amp-hybrid-inference" class="header-anchor">#</a></h2><ul><li>å¯¹å®æ—¶æ€§è¦æ±‚æé«˜æˆ–å—æ•°æ®é©»ç•™é™åˆ¶çš„åœºæ™¯ï¼Œä¼šæŠŠè½»é‡æ¨¡å‹ä¸‹æ²‰åˆ°è¾¹ç¼˜èŠ‚ç‚¹æˆ–ç§æœ‰äº‘ï¼Œä¸ä¸­å¿ƒåŒ–æ¨ç†æœåŠ¡ååŒã€‚</li><li>å¸¸è§åšæ³•æ˜¯è¾¹ç¼˜èŠ‚ç‚¹è´Ÿè´£é¦–è½®åˆ¤å®šæˆ–ç”Ÿæˆè‰ç¨¿ï¼Œå¤æ‚è¯·æ±‚å†å›è½åˆ°ä¸­å¿ƒèŠ‚ç‚¹è¿›ä¸€æ­¥ refineã€‚</li><li>è¿™ç±»æ¶æ„éœ€è¦æ›´ç²¾ç»†çš„å¤šæ´»è°ƒåº¦ä¸è·¨é›†ç¾¤ç¼“å­˜ç­–ç•¥ï¼Œç¡®ä¿ä¸åŒåŒºåŸŸçš„æ¨¡å‹æƒé‡ä¸æŒ‡æ ‡ä¿æŒä¸€è‡´ã€‚</li></ul><h1><span id="2-guan-jian-zhi-biao-ti-xi-cong-yan-chi-dao-jian-kang-du">2. å…³é”®æŒ‡æ ‡ä½“ç³»ï¼šä»å»¶è¿Ÿåˆ°å¥åº·åº¦</span><a href="#2-guan-jian-zhi-biao-ti-xi-cong-yan-chi-dao-jian-kang-du" class="header-anchor">#</a></h1><ul><li><strong>å»¶è¿Ÿåˆ†ä½æ•°ï¼ˆP50&#x2F;P95&#x2F;P99ï¼‰</strong>ï¼šæ¨ç†å»¶è¿Ÿé€šå¸¸å‘ˆé•¿å°¾åˆ†å¸ƒï¼Œéœ€è¦æŒ‰åˆ†ä½æ•°ç›‘æ§ï¼Œå¹¶ç»“åˆä¸Šä¸‹æ–‡é•¿åº¦ä¸æ¨¡å‹å¤§å°å»ºç«‹åŸºçº¿ã€‚</li><li><strong>ååä¸å¹¶å‘</strong>ï¼šLLM è¯·æ±‚å¤šä¸ºä¸²è¡Œï¼Œå¯ç”¨ QPSã€tokens&#x2F;s æˆ–æ¯ GPU å¹¶å‘æ•°è¡¡é‡ï¼Œé…åˆåŠ¨æ€æ‰¹å¤„ç†æå‡èµ„æºåˆ©ç”¨ç‡ã€‚</li><li><strong>GPU åˆ©ç”¨ç‡ä¸å†…å­˜å æ¯”</strong>ï¼šåˆ©ç”¨ Triton çš„å¤šæ¨¡å‹å¹¶å‘æˆ– CUDA Multi-Instance GPUï¼ˆMIGï¼‰åˆ‡åˆ†ï¼Œå¯ç¼“è§£å•æ¨¡å‹ç‹¬å çš„é—®é¢˜[1]ã€‚</li><li><strong>ç¼“å­˜å‘½ä¸­ç‡</strong>ï¼šPromptã€KV ç¼“å­˜å’Œæ£€ç´¢å‘é‡ç¼“å­˜ç›´æ¥å½±å“å°¾å»¶è¿Ÿï¼Œåº”å•ç‹¬è§‚å¯Ÿå‘½ä¸­ç‡ä¸å¤±æ•ˆåŸå› ã€‚</li><li><strong>å¥åº·åº¦ä¿¡å·</strong>ï¼šç»“åˆè¯·æ±‚è¶…æ—¶ã€GPU OOMã€æ¨¡å‹åŠ è½½å¤±è´¥ç­‰äº‹ä»¶ï¼Œçº³å…¥å‘Šè­¦ä¸è‡ªåŠ¨åŒ–æ¢å¤æµç¨‹ï¼›äº‘ä¸Šæ‰˜ç®¡æœåŠ¡å¯å€ŸåŠ© Vertex AI çš„æ¨¡å‹æ¼‚ç§»ç›‘æ§æ•æ‰è´¨é‡åç§»[3]ã€‚</li></ul><h1><span id="3-cheng-ben-zhi-li-ce-lue">3. æˆæœ¬æ²»ç†ç­–ç•¥</span><a href="#3-cheng-ben-zhi-li-ce-lue" class="header-anchor">#</a></h1><ul><li><strong>åŠ¨æ€æ‰¹å¤„ç†ä¸å¼ é‡å¹¶è¡Œç­–ç•¥</strong>ï¼šTritonã€Hugging Face TGI ç­‰æ¡†æ¶æ”¯æŒè¯·æ±‚åˆå¹¶ä¸è‡ªåŠ¨åˆ‡åˆ†ï¼Œæ˜¾è‘—æé«˜ tokens&#x2F;s è¾“å‡ºæ•ˆç‡[1][4]ã€‚</li><li><strong>å¼¹æ€§æ‰©ç¼©å®¹</strong>ï¼šè‡ªå»ºé›†ç¾¤å¯åŸºäº GPU æŒ‡æ ‡è§¦å‘ HPA&#x2F;Cluster Autoscalerï¼›åœ¨æ‰˜ç®¡æ¨¡å¼ä¸‹ï¼Œå¯åˆ©ç”¨ SageMaker Serverless çš„å¹¶å‘ä¸Šé™ä¸æŒ‡æ ‡é˜ˆå€¼é…ç½®å³°å€¼å“åº”[2]ã€‚</li><li><strong>åˆ†å±‚ç®—åŠ›æ± </strong>ï¼šå°†é•¿ä¸Šä¸‹æ–‡ã€å¤šæ¨¡æ€ç­‰â€œé‡â€è¯·æ±‚å¯¼å‘ A100&#x2F;H100ï¼Œé€šç”¨å¯¹è¯ä¸‹æ²‰åˆ° L40Sã€æ¨ç†ä¼˜åŒ– CPU ç­‰è¾ƒä½æˆæœ¬èµ„æºï¼Œç»“åˆä»»åŠ¡æ ‡ç­¾è·¯ç”±ã€‚</li><li><strong>æŒ‰éœ€ä¸é¢„ç•™ç­–ç•¥</strong>ï¼šç»“åˆ Spot&#x2F;Preemptible å®ä¾‹æ­å»ºéå…³é”®æ¨ç†æ± ï¼Œåœ¨æˆæœ¬å¯æ¥å—çš„åœºæ™¯å¯¹å¤±è´¥è¯·æ±‚åšè‡ªåŠ¨é‡è¯•ï¼›å…³é”®é“¾è·¯ä»é‡‡ç”¨æŒ‰éœ€æˆ–é¢„ç•™å®ä¾‹ä¿éšœ SLAã€‚</li><li><strong>å®Œæ•´çš„æˆæœ¬å¯è§‚æµ‹</strong>ï¼šæŠŠ GPU ä½¿ç”¨ã€æ¨¡å‹è°ƒç”¨ã€å¸¦å®½ã€ç¼“å­˜å­˜å‚¨ç­‰è´¹ç”¨ç»Ÿä¸€å…¥è´¦ï¼ŒæŒ‰æ¨¡å‹ã€ä¸šåŠ¡åŸŸæˆ–ç§Ÿæˆ·åˆ‡åˆ†æˆæœ¬ä¸­å¿ƒï¼Œå®ç°æŒç»­ä¼˜åŒ–ã€‚</li></ul><h1><span id="4-an-li-yu-pai-zhang-jing-yan">4. æ¡ˆä¾‹ä¸æ’éšœç»éªŒ</span><a href="#4-an-li-yu-pai-zhang-jing-yan" class="header-anchor">#</a></h1><h2><span id="4-1-microsoft-bing-shi-yong-triton-ti-sheng-duo-mo-xing-bing-fa">4.1 Microsoft Bingï¼šä½¿ç”¨ Triton æå‡å¤šæ¨¡å‹å¹¶å‘</span><a href="#4-1-microsoft-bing-shi-yong-triton-ti-sheng-duo-mo-xing-bing-fa" class="header-anchor">#</a></h2><ul><li>Bing å›¢é˜Ÿå°†æœç´¢åœºæ™¯ä¸‹çš„ Transformer æ¨¡å‹éƒ¨ç½²åœ¨ Triton ä¸Šï¼Œé€šè¿‡åŠ¨æ€æ‰¹å¤„ç†ä¸æ¨¡å‹å¹¶å‘ï¼ŒæŠŠ GPU åˆ©ç”¨ç‡æå‡ 2 å€ä»¥ä¸Šï¼ŒåŒæ—¶ç»´æŒä½å»¶è¿Ÿå“åº”[1]ã€‚</li><li>å…³é”®å®è·µï¼šæ‹†åˆ†æ¨¡å‹æƒé‡åŠ è½½æµç¨‹ã€åˆ©ç”¨ NVIDIA çš„å¤šæ¨¡å‹ç®¡ç†ç‰¹æ€§ï¼Œè®©çƒ­æ¨¡å‹å¸¸é©»ã€å†·æ¨¡å‹æŒ‰éœ€è£…è½½ã€‚</li></ul><h2><span id="4-2-dian-shang-ke-fu-ji-qi-ren-serverless-huan-jie-liu-liang-jian-feng">4.2 ç”µå•†å®¢æœæœºå™¨äººï¼šServerless ç¼“è§£æµé‡å°–å³°</span><a href="#4-2-dian-shang-ke-fu-ji-qi-ren-serverless-huan-jie-liu-liang-jian-feng" class="header-anchor">#</a></h2><ul><li>æŸå¤§å‹ç”µå•†çš„å®¢æœæœºå™¨äººåœ¨ä¿ƒé”€æœŸé—´å‡ºç°çªå‘æµé‡ï¼Œè¿ç§»åˆ° SageMaker Serverless åï¼Œå¯æŒ‰è¯·æ±‚å³°å€¼è‡ªåŠ¨æ‰©ç¼©ï¼Œå¹¶åˆ©ç”¨å¹¶å‘é…é¢ä¿éšœ SLAã€‚</li><li>åœ¨è¿ç§»è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡çƒ­èº«è¯·æ±‚å‡å°‘å†·å¯åŠ¨ï¼›å¹¶ä½¿ç”¨æˆæœ¬ä»ªè¡¨ç›˜å¯¹æ¯”å‰å GPU å°æ—¶è´¹ç”¨ï¼Œæœ€ç»ˆæŠŠå³°å€¼æˆæœ¬é™ä½çº¦ 35%ï¼Œéæ´»åŠ¨æœŸæˆæœ¬å‡ ä¹å½’é›¶[2]ã€‚</li></ul><h2><span id="4-3-saas-shu-ju-fen-xi-ping-tai-mo-xing-piao-yi-yu-zhi-liang-shou-hu">4.3 SaaS æ•°æ®åˆ†æå¹³å°ï¼šæ¨¡å‹æ¼‚ç§»ä¸è´¨é‡å®ˆæŠ¤</span><a href="#4-3-saas-shu-ju-fen-xi-ping-tai-mo-xing-piao-yi-yu-zhi-liang-shou-hu" class="header-anchor">#</a></h2><ul><li>å¹³å°æŠŠæ ¸å¿ƒæ¨¡å‹éƒ¨ç½²åœ¨ Vertex AI æ‰˜ç®¡æ¨ç†ä¸Šï¼Œå¹¶å¯ç”¨æ¨¡å‹ç›‘æ§å‘ç°è¾“å…¥åˆ†å¸ƒä¸æ ‡ç­¾æ¼‚ç§»ï¼Œè§¦å‘è‡ªåŠ¨å†è®­ç»ƒæµç¨‹[3]ã€‚</li><li>åŒæ—¶ç»“åˆå†…éƒ¨æ—¥å¿—ï¼ŒæŠŠå¤±è´¥è¯·æ±‚ä¸ä¸Šä¸‹æ–‡é•¿åº¦ã€ç§Ÿæˆ·ä¿¡æ¯å…³è”ï¼Œå¿«é€Ÿå®šä½é—®é¢˜ç§Ÿæˆ·å¹¶ä¸‹å‘ç†”æ–­ç­–ç•¥ã€‚</li></ul><h1><span id="5-shi-shi-qing-dan-yu-jian-yi">5. å®æ–½æ¸…å•ä¸å»ºè®®</span><a href="#5-shi-shi-qing-dan-yu-jian-yi" class="header-anchor">#</a></h1><ol><li><strong>å…ˆå®šä¹‰å¯è§‚æµ‹æ€§åŸºçº¿</strong>ï¼šåœ¨éƒ¨ç½²å‰å»ºç«‹æŒ‡æ ‡ã€æ—¥å¿—ã€Tracing æ–¹æ¡ˆï¼Œé¿å…ä¸Šçº¿åå†è¡¥ç›‘æ§ã€‚</li><li><strong>æŒ‰åœºæ™¯æ‹†åˆ†æ¨¡å‹ä¸ç¡¬ä»¶æ± </strong>ï¼šå°†è½»é‡å¯¹è¯ã€å¤æ‚ç”Ÿæˆã€å¤šæ¨¡æ€æ¨ç†åˆ†å±‚è·¯ç”±ï¼Œé™ä½ç¡¬ä»¶æµªè´¹ã€‚</li><li><strong>ç»´æŠ¤å®¹é‡æ¼”ç»ƒæœºåˆ¶</strong>ï¼šå®šæœŸç”¨å‹æµ‹è„šæœ¬éªŒè¯æ‰©ç¼©å®¹ç­–ç•¥ä¸å¼‚å¸¸æ¢å¤èƒ½åŠ›ï¼Œä¿è¯çªå‘æµé‡å¯æ§ã€‚</li><li><strong>ç»“åˆä¸šåŠ¡ä»·å€¼åšæˆæœ¬å¤ç›˜</strong>ï¼šæ¯ä¸ªæ¨¡å‹ã€ç§Ÿæˆ·å®šæœŸå¯¹æ¯”æ¨ç†æˆæœ¬ä¸ä¸šåŠ¡æ”¶ç›Šï¼Œç¡®ä¿ä¼˜åŒ–æ–¹å‘ä¸ä¸šåŠ¡ç›®æ ‡ä¸€è‡´ã€‚</li><li><strong>æŒç»­è·Ÿè¸ªæ¡†æ¶æ›´æ–°</strong>ï¼šå…³æ³¨ Tritonã€TGIã€äº‘æ‰˜ç®¡æœåŠ¡çš„ç‰ˆæœ¬è¿­ä»£ï¼ŒåŠæ—¶å¼•å…¥å¦‚åŠ¨æ€æ‰¹å¤„ç†ã€åˆ†ç‰‡è°ƒåº¦ç­‰æ–°èƒ½åŠ›ã€‚</li></ol><h1><span id="jie-lun">ç»“è®º</span><a href="#jie-lun" class="header-anchor">#</a></h1><p>LLM æ¨ç†å¾®æœåŠ¡çš„æˆç†Ÿåº¦ï¼Œå†³å®šäº†å¤§æ¨¡å‹èƒ½åŠ›èƒ½å¦ç¨³å®šåœ°è§¦è¾¾ä¸šåŠ¡åœºæ™¯ã€‚ä»æ¶æ„èŒƒå¼é€‰æ‹©ã€æŒ‡æ ‡ä½“ç³»è®¾è®¡åˆ°æˆæœ¬æ²»ç†ï¼Œéƒ½éœ€è¦è´¯ç©¿åœ¨å·¥ç¨‹å›¢é˜Ÿçš„æ—¥å¸¸è¿ç»´ä¸å¤ç›˜æµç¨‹ä¸­ã€‚é€šè¿‡åŠ¨æ€æ‰¹å¤„ç†ã€å¼¹æ€§æ‰©ç¼©å®¹ä¸å®Œå–„çš„å¯è§‚æµ‹æ€§ï¼Œå°†å¸®åŠ©å›¢é˜Ÿåœ¨ä¿è¯ä½“éªŒçš„åŒæ—¶æ§åˆ¶é¢„ç®—ï¼Œå¹¶ä¸ºæœªæ¥çš„æ¨¡å‹å‡çº§ä¸å¤šæ¨¡æ€æ‹“å±•å¤¯å®åŸºç¡€ã€‚</p><h1><span id="can-kao-zi-liao">å‚è€ƒèµ„æ–™</span><a href="#can-kao-zi-liao" class="header-anchor">#</a></h1><ul><li>[1] NVIDIA Developer Blogï¼Œã€ŠAccelerating Microsoft Bing with Triton Inference Serverã€‹ï¼Œ<a href="https://developer.nvidia.com/blog/accelerating-microsoft-bing-with-triton-inference-server/">https://developer.nvidia.com/blog/accelerating-microsoft-bing-with-triton-inference-server/</a></li><li>[2] AWS Docsï¼Œã€ŠAmazon SageMaker Serverless Inferenceã€‹ï¼Œ<a href="https://docs.aws.amazon.com/sagemaker/latest/dg/serverless-endpoints.html">https://docs.aws.amazon.com/sagemaker/latest/dg/serverless-endpoints.html</a></li><li>[3] Google Cloud Docsï¼Œã€ŠVertex AI Model Monitoring overviewã€‹ï¼Œ<a href="https://cloud.google.com/vertex-ai/docs/model-monitoring/overview">https://cloud.google.com/vertex-ai/docs/model-monitoring/overview</a></li><li>[4] Hugging Face Docsï¼Œã€ŠText Generation Inference documentationã€‹ï¼Œ<a href="https://huggingface.co/docs/text-generation-inference/index">https://huggingface.co/docs/text-generation-inference/index</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    
    <category term="#Observability" scheme="https://imchenway.com/tags/Observability/"/>
    
    <category term="#Performance" scheme="https://imchenway.com/tags/Performance/"/>
    
    <category term="#LLMInference" scheme="https://imchenway.com/tags/LLMInference/"/>
    
    <category term="#CostOptimization" scheme="https://imchenway.com/tags/CostOptimization/"/>
    
    <category term="#EdgeComputing" scheme="https://imchenway.com/tags/EdgeComputing/"/>
    
  </entry>
  
  <entry>
    <title>Performance Budgets and Adaptive Optimization in the Age of AI</title>
    <link href="https://imchenway.com/en/ai-performance-budgeting/"/>
    <id>https://imchenway.com/en/ai-performance-budgeting/</id>
    <published>2025-10-03T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="table-of-contents">Table of Contents</span><a href="#table-of-contents" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#1-why-performance-budgets-need-an-ai-update">1. Why Performance Budgets Need an AI Update</a></li><li><a href="#2-define-inference-envelopes-and-composite-budgets">2. Define Inference Envelopes and Composite Budgets</a></li><li><a href="#3-close-the-loop-with-unified-telemetry">3. Close the Loop with Unified Telemetry</a></li><li><a href="#4-automate-guardrails-and-keep-rollbacks-safe">4. Automate Guardrails and Keep Rollbacks Safe</a></li><li><a href="#conclusion-outlook">Conclusion &#x2F; Outlook</a></li></ul><!-- tocstop --></div><h1><span id="1-why-performance-budgets-need-an-ai-update">1. Why Performance Budgets Need an AI Update</span><a href="#1-why-performance-budgets-need-an-ai-update" class="header-anchor">#</a></h1><p>Production teams no longer optimise only for page load times or requests per second. Every AI-powered feature introduces a chain of inference calls, vector lookups, feature pipelines, and GPU scheduling decisions. Guidance from <a href="https://developers.cloudflare.com/workers-ai/">Cloudflare Workers AI</a> highlights why each model deserves its own guardrailsâ€”token ceilings, concurrency caps, and fallbacksâ€”so a single overloaded edge node will not cascade into downtime. The latest <a href="https://cloud.google.com/blog/products/devops-sre/dora-2023-accelerate-state-of-devops-report-now-available">DORA research from Google Cloud</a> echoes the organisational lesson: elite teams rely on metric-driven automation to stay fast and resilient.</p><h1><span id="2-define-inference-envelopes-and-composite-budgets">2. Define Inference Envelopes and Composite Budgets</span><a href="#2-define-inference-envelopes-and-composite-budgets" class="header-anchor">#</a></h1><p>Modern budgets should spell out â€œinference envelopesâ€. A retrieval-augmented generation (RAG) flow might target an end-to-end P95 latency of 1.5 seconds, a per-request ceiling of Â¥0.02, and a cache hit rate above 70%. Such targets combine provider pricing tables with historical telemetry, translating abstract GPU consumption into knobs that product owners understand. Once a service exhausts its envelope, the platform can throttle traffic, downgrade to a smaller model, or require users to opt into a paid high-precision mode.</p><p>Composability matters as soon as multiple models or tenants join the mix. A conversational assistant may orchestrate intent detection, knowledge retrieval, and long-form generationâ€”each stage carries its own mini-budget and rolls up into a global guardrail. Solo builders can run the same playbook: estimate incremental token burn before exposing a feature, and surface a â€œperformance modeâ€ toggle when the burn threatens the baseline experience.</p><h1><span id="3-close-the-loop-with-unified-telemetry">3. Close the Loop with Unified Telemetry</span><a href="#3-close-the-loop-with-unified-telemetry" class="header-anchor">#</a></h1><p>Budgets that cannot be observed will be ignored. Anchoring instrumentation on the <a href="https://opentelemetry.io/docs/">OpenTelemetry specification</a> keeps metrics, traces, and logs consistent across services. Real-time streams catch guardrail breachesâ€”P95 latency spikes, GPU utilisation nearing saturation, or cache misses exploding. Daily snapshots and usage histograms reveal slow drifts, while trace sampling stitches parameters and payloads together so engineers can replay the exact context of an expensive request.</p><p>One SaaS vendor wired its LLM gateway to company SLOs: whenever the primary model exceeded the latency guardrail, traffic automatically shifted to a distilled sibling model and a counter tracked downgrade duration. The team funnelled routing events and inference stats through OpenTelemetry Collector dashboards, exposing the â€œspike â†’ downgrade â†’ recoveryâ€ loop. Lower-level signals from eBPF probes or cloud GPU telemetry helped them confirm whether the bottleneck lived in the model, storage layer, or network.</p><h1><span id="4-automate-guardrails-and-keep-rollbacks-safe">4. Automate Guardrails and Keep Rollbacks Safe</span><a href="#4-automate-guardrails-and-keep-rollbacks-safe" class="header-anchor">#</a></h1><p>A budget earns its keep once it triggers action. Borrowing from the <a href="https://www.finops.org/framework/">FinOps Framework</a>, each guardrail should ship with policy-as-code: when costs approach the ceiling, enable aggressive response caching or fall back to quantised models; if latency climbs, spin up extra inference replicas or reroute requests to a nearer region. Multi-tenant products can mix these actions with anomaly detection to flag abusive traffic and to keep premium customers within higher bounds.</p><p>Automation still needs a parachute. Store thresholds and playbooks in Git, deliver them through GitOps, and archive every successful rollout so that a single command restores the last-known-good configuration. Feature-flag platforms add traceability by logging activation timestamps and correlating them with business metrics, proving whether an adaptive tweak generated measurable value.</p><h1><span id="conclusion-x2f-outlook">Conclusion &#x2F; Outlook</span><a href="#conclusion-x2f-outlook" class="header-anchor">#</a></h1><p>Performance budgeting in the age of AI is a social contract across product, platform, and operations. By combining composable metrics, unified telemetry, and automated guardrails, teams can delight users without losing control of cost or reliability. The next milestone is to tie inference budgets directly to business KPIs, closing the loop from infrastructure tuning to customer impact so every optimisation tells a value story.</p><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;table-of-contents&quot;&gt;Table of Contents&lt;/span&gt;&lt;a href=&quot;#table-of-contents&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-</summary>
      
    
    
    
    
    <category term="#Observability" scheme="https://imchenway.com/tags/Observability/"/>
    
    <category term="#Automation" scheme="https://imchenway.com/tags/Automation/"/>
    
    <category term="#PerformanceBudget" scheme="https://imchenway.com/tags/PerformanceBudget/"/>
    
    <category term="#AIInfrastructure" scheme="https://imchenway.com/tags/AIInfrastructure/"/>
    
    <category term="#FinOps" scheme="https://imchenway.com/tags/FinOps/"/>
    
  </entry>
  
  <entry>
    <title>AIæ—¶ä»£çš„æ€§èƒ½é¢„ç®—ä¸è‡ªé€‚åº”ä¼˜åŒ–ç­–ç•¥</title>
    <link href="https://imchenway.com/zh-CN/2025-10-ai-performance-budget/"/>
    <id>https://imchenway.com/zh-CN/2025-10-ai-performance-budget/</id>
    <published>2025-10-03T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#yin-yan">å¼•è¨€</a></li><li><a href="#chong-gou-xing-neng-yu-suan-cong-ye-mian-zhi-biao-dao-mo-xing-tui-li">é‡æ„æ€§èƒ½é¢„ç®—ï¼šä»é¡µé¢æŒ‡æ ‡åˆ°æ¨¡å‹æ¨ç†</a></li><li><a href="#jian-li-shu-ju-bi-huan-zhi-biao-zhui-zong-yu-yun-xing-hua-xiang">å»ºç«‹æ•°æ®é—­ç¯ï¼šæŒ‡æ ‡ã€è¿½è¸ªä¸è¿è¡Œç”»åƒ</a></li><li><a href="#zi-gua-ying-you-hua-yu-hui-gun-rang-xi-tong-hui-zi-ji-diao-jie">è‡ªé€‚åº”ä¼˜åŒ–ä¸å›æ»šï¼šè®©ç³»ç»Ÿä¼šè‡ªå·±è°ƒèŠ‚</a></li><li><a href="#jie-lun-zhan-wang">ç»“è®º &#x2F; å±•æœ›</a></li></ul><!-- tocstop --></div><h1><span id="yin-yan">å¼•è¨€</span><a href="#yin-yan" class="header-anchor">#</a></h1><p>ç”Ÿæˆå¼ AI æ­£åœ¨å¸­å·ç”¨æˆ·ç•Œé¢ã€å†…éƒ¨å·¥å…·ä¸ä¸šåŠ¡ä¸­å°ï¼Œæ¨ç†é“¾è·¯æˆä¸ºæ–°çš„æ€§èƒ½çƒ­ç‚¹ã€‚å•é ä¼ ç»Ÿçš„é¡µé¢åŠ è½½æ—¶é—´ (PLT) æˆ–è¯·æ±‚ååé‡ä¸è¶³ä»¥æè¿°çœŸå®ä½“éªŒï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡é•¿åº¦ã€å‘é‡æ£€ç´¢å‘½ä¸­ç‡ä¸ GPU åˆ©ç”¨ç‡éƒ½å¿…é¡»çº³å…¥é¢„ç®—è¾¹ç•Œã€‚<a href="https://developers.cloudflare.com/workers-ai/">Cloudflare Workers AI æ–‡æ¡£</a> å°±å»ºè®®ä¸ºæ¯ä¸ªæ¨¡å‹è®¾å®šæœ€å¤§ tokensã€å¹¶å‘é˜ˆå€¼ä¸å›é€€ç­–ç•¥ï¼Œé¿å…è¾¹ç¼˜éƒ¨ç½²å› èµ„æºäº‰æŠ¢è€Œçº§è”å¤±è´¥ã€‚åŒæ ·åœ°ï¼Œ<a href="https://cloud.google.com/blog/products/devops-sre/dora-2023-accelerate-state-of-devops-report-now-available">Google Cloud 2023 å¹´ DORA æŠ¥å‘Š</a> å¼ºè°ƒâ€œä»¥æŒ‡æ ‡é©±åŠ¨è‡ªåŠ¨åŒ–å†³ç­–â€çš„å›¢é˜Ÿåœ¨æ¢å¤èƒ½åŠ›å’Œäº¤ä»˜é€Ÿåº¦ä¸Šè¡¨ç°æ›´ä½³ï¼Œä¸ºæ€§èƒ½é¢„ç®—èµ°å‘è‡ªé€‚åº”æä¾›äº†ç»„ç»‡å±‚é¢çš„èƒŒæ™¯ã€‚</p><h1><span id="chong-gou-xing-neng-yu-suan-cong-ye-mian-zhi-biao-dao-mo-xing-tui-li">é‡æ„æ€§èƒ½é¢„ç®—ï¼šä»é¡µé¢æŒ‡æ ‡åˆ°æ¨¡å‹æ¨ç†</span><a href="#chong-gou-xing-neng-yu-suan-cong-ye-mian-zhi-biao-dao-mo-xing-tui-li" class="header-anchor">#</a></h1><p>æ€§èƒ½é¢„ç®—çš„ç¬¬ä¸€æ­¥æ˜¯æ‰©å±•ç»´åº¦ï¼Œå°†æ¨ç†æˆæœ¬ä¸ä¼ ç»ŸæŒ‡æ ‡ç»‘å®šï¼šä¾‹å¦‚ä¸ºæ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG) è®¾å®šç«¯åˆ°ç«¯ P95 å»¶è¿Ÿ â‰¤ 1.5 ç§’ã€å•æ¬¡æ¨ç†æˆæœ¬ â‰¤ Â¥0.02ã€ç¼“å­˜å‘½ä¸­ç‡ â‰¥ 70%ã€‚è¿™äº›æ•°å­—å¯ä»¥é€šè¿‡æ¨¡å‹æä¾›å•†çš„è´¹ç”¨ç»“æ„ä¸å†å²æ•°æ®æ¨å¯¼å‡ºæ¥ï¼Œç„¶ååµŒå…¥äº§å“è·¯çº¿å›¾ã€‚ä¸ºäº†é¿å…é¢„ç®—æµäºå½¢å¼ï¼Œéœ€è¦å°†ç®—åŠ›æŠ½è±¡æˆâ€œæ¨ç†é…é¢â€ï¼šä¸Šä¸‹æ–‡é•¿åº¦ã€æ‰¹é‡å¤§å°ã€é‡åŒ–ç­–ç•¥éƒ½æ˜ å°„ä¸ºå¯è°ƒæ•´çš„æ‹¨æ†ï¼Œä¸€æ—¦é…é¢è€—å°½ï¼Œç³»ç»Ÿè¦ä¹ˆé™çº§åˆ°è½»é‡æ¨¡å‹ï¼Œè¦ä¹ˆå¼€å¯é€Ÿç‡é™åˆ¶ã€‚</p><p>åœ¨å¤šæ¨¡å‹ååŒæˆ–å¤šç§Ÿæˆ·åœºæ™¯ï¼Œè¿˜éœ€è¦ç»„åˆé¢„ç®—ã€‚ä¾‹å¦‚æ™ºèƒ½å®¢æœå¯èƒ½ä¸²è”æ„å›¾è¯†åˆ«ã€çŸ¥è¯†æ£€ç´¢ä¸é•¿æ–‡æœ¬ç”Ÿæˆï¼Œå¯åˆ†åˆ«å®šä¹‰é¢„ç®—å¹¶æœ€åèšåˆæˆå…¨é“¾è·¯é—¨æ§›ã€‚å¯¹äºç‹¬ç«‹å¼€å‘è€…ï¼Œé¢„ç®—å¯ä»¥ä¸åŠŸèƒ½å¯è§æ€§æŒ‚é’©ï¼šä¸Šçº¿å‰å…ˆé¢„ä¼°æ–°å¢æ¨¡å—çš„æ¨ç†æ¶ˆè€—ï¼Œå†å†³å®šæ˜¯å¦åœ¨ UI ä¸­åŠ å…¥â€œé«˜ç²¾åº¦æ¨¡å¼â€åˆ‡æ¢ï¼Œä»¥ä¾¿åœ¨é¢„ç®—è¢«å‡»ç©¿æ—¶å‘ç”¨æˆ·è§£é‡Šå¹¶ç»™å‡ºæ›¿ä»£æ–¹æ¡ˆã€‚</p><h1><span id="jian-li-shu-ju-bi-huan-zhi-biao-zhui-zong-yu-yun-xing-hua-xiang">å»ºç«‹æ•°æ®é—­ç¯ï¼šæŒ‡æ ‡ã€è¿½è¸ªä¸è¿è¡Œç”»åƒ</span><a href="#jian-li-shu-ju-bi-huan-zhi-biao-zhui-zong-yu-yun-xing-hua-xiang" class="header-anchor">#</a></h1><p>æ²¡æœ‰å¯è§‚æµ‹æ€§ï¼Œé¢„ç®—å°±æ˜¯çº¸ä¸Šè°ˆå…µã€‚å»ºè®®ä»¥ <a href="https://opentelemetry.io/docs/">OpenTelemetry å®˜æ–¹è§„èŒƒ</a> ä¸ºä¸­å¿ƒï¼Œå°†æ¨ç†å»¶è¿Ÿã€token æ¶ˆè€—ã€æ¨¡å‹é”™è¯¯ç‡ä¸ç¼“å­˜å‘½ä¸­ç‡ç»Ÿä¸€åŸ‹ç‚¹ï¼Œå†é…åˆè¿½è¸ªæŠŠé“¾è·¯ä¸²èµ·æ¥ã€‚å®æ—¶æŒ‡æ ‡è´Ÿè´£è§¦å‘å‘Šè­¦ï¼Œä¾‹å¦‚ P95 å»¶è¿Ÿæˆ– GPU åˆ©ç”¨ç‡æ¥è¿‘ä¸Šé™ï¼›ç¦»çº¿ç”»åƒåˆ™å¸®åŠ©è¯„ä¼°é¢„ç®—è¶‹åŠ¿ï¼Œä¾‹å¦‚æ—¥å‡ token æ¶ˆè€—ä¸å³°å€¼æ³¢åŠ¨ï¼›é‡‡æ ·è¿½è¸ªè®°å½•å¼‚å¸¸è¯·æ±‚çš„ä¸Šä¸‹æ–‡å‚æ•°ï¼Œä¸ºåç»­å›æ”¾æä¾›ç´ æã€‚</p><p>åœ¨ç”Ÿäº§æ¡ˆä¾‹ä¸­ï¼Œä¸€å®¶ B2B SaaS å›¢é˜ŸæŠŠ LLM Gateway ä¸ä¸šåŠ¡ SLO æ·±åº¦ç»‘å®šï¼šå½“å»¶è¿Ÿè¶…é˜ˆå€¼æ—¶è‡ªåŠ¨é™çº§è‡³è’¸é¦æ¨¡å‹ï¼Œå¹¶è®°å½•é™çº§æ¬¡æ•°ä¸æ¢å¤æ—¶é—´ã€‚å›¢é˜Ÿå€ŸåŠ© OpenTelemetry Collector å°†è¿™äº›æŒ‡æ ‡å›ä¼ åˆ°ç»Ÿä¸€çš„å¯è§†åŒ–å¹³å°ï¼Œè¿ç»´å¯ä»¥å¿«é€Ÿçœ‹åˆ°â€œé«˜å»¶è¿Ÿâ†’é™çº§â†’æ¢å¤â€çš„é—­ç¯ã€‚å¦å¤–ï¼ŒeBPF æ¢é’ˆæˆ–äº‘å‚å•†åŸç”Ÿç›‘æ§å¯ä»¥è¡¥å……åº•å±‚ç½‘ç»œä¸ GPU çŠ¶æ€ï¼Œå¸®åŠ©è¯†åˆ«ç“¶é¢ˆæ˜¯å¦æ¥è‡ªæ¨¡å‹ã€å­˜å‚¨æˆ–è€…ç½‘ç»œã€‚</p><h1><span id="zi-gua-ying-you-hua-yu-hui-gun-rang-xi-tong-hui-zi-ji-diao-jie">è‡ªé€‚åº”ä¼˜åŒ–ä¸å›æ»šï¼šè®©ç³»ç»Ÿä¼šè‡ªå·±è°ƒèŠ‚</span><a href="#zi-gua-ying-you-hua-yu-hui-gun-rang-xi-tong-hui-zi-ji-diao-jie" class="header-anchor">#</a></h1><p>é¢„ç®—çš„ä»·å€¼åœ¨äºè§¦å‘åŠ¨ä½œã€‚å¯ä»¥å€Ÿé‰´ <a href="https://www.finops.org/framework/">FinOps æ¡†æ¶</a> çš„æ²»ç†æ€è·¯ï¼Œä¸ºæ¯æ¡é¢„ç®—é…ç½®â€œåº”å¯¹ç­–ç•¥ + å®¡æ‰¹æµç¨‹â€ï¼šä¾‹å¦‚æˆæœ¬é€¼è¿‘é˜ˆå€¼æ—¶è‡ªåŠ¨å¯ç”¨å›ç­”è‰ç¨¿ç¼“å­˜æˆ–åˆ‡æ¢åˆ°ä½ç²¾åº¦æ¨¡å‹ï¼›å½“å»¶è¿Ÿä¸Šå‡æ—¶ä¸´æ—¶å¢åŠ æ¨ç†å‰¯æœ¬æˆ–æŠŠè¯·æ±‚è¿ç§»åˆ°é‚»è¿‘åŒºåŸŸã€‚å¤šç§Ÿæˆ·å¹³å°å¯ä»¥æŒ‰å®¢ç¾¤è®¾å®šåˆ†çº§é¢„ç®—ï¼Œå¹¶ç»“åˆå¼‚å¸¸æ£€æµ‹è¯†åˆ«æ¶æ„æµé‡æˆ– API æ»¥ç”¨ã€‚</p><p>ç­–ç•¥è‡ªåŠ¨åŒ–éœ€è¦å®‰å…¨ç½‘ã€‚å»ºè®®æŠŠé¢„ç®—é˜ˆå€¼ä¸ç­–ç•¥å†™è¿› Git ä»“åº“ï¼Œé€šè¿‡ GitOps åœ¨å˜æ›´æ—¶è§¦å‘å®¡è®¡ï¼Œå¹¶å¿…é¡»ä¿ç•™æœ€è¿‘ä¸€æ¬¡æˆåŠŸå‘å¸ƒçš„é…ç½®å¿«ç…§ä»¥ä¾¿ä¸€é”®å›æ»šã€‚å¯¹äºå®éªŒæ€§è°ƒæ•´ï¼Œå¯ä»¥é…åˆç‰¹æ€§å¼€å…³å¹³å°è®°å½•â€œå¯ç”¨&#x2F;åœç”¨â€æ—¶é—´æˆ³ï¼Œå†å°†ç›¸å…³æŒ‡æ ‡ä¸ä¸šåŠ¡æ•ˆæœå…³è”ï¼Œç¡®ä¿æ¯æ¬¡è‡ªé€‚åº”éƒ½äº§ç”Ÿå¯é‡åŒ–çš„æ”¶ç›Šã€‚</p><h1><span id="jie-lun-x2f-zhan-wang">ç»“è®º &#x2F; å±•æœ›</span><a href="#jie-lun-x2f-zhan-wang" class="header-anchor">#</a></h1><p>AI æ—¶ä»£çš„æ€§èƒ½é¢„ç®—æ˜¯ä¸€åœºè·¨éƒ¨é—¨åä½œï¼šäº§å“è¦å®šä¹‰ä½“éªŒåº•çº¿ï¼Œå¹³å°å›¢é˜Ÿè¦æä¾›é¢„ç®—æ‹¨æ†ï¼Œè¿ç»´åˆ™è´Ÿè´£å¯è§‚æµ‹æ€§ä¸è‡ªåŠ¨åŒ–æ‰§è¡Œã€‚é€šè¿‡ç»„åˆæŒ‡æ ‡ã€ç»Ÿä¸€æ•°æ®é—­ç¯ä¸ç­–ç•¥åŒ–è°ƒä¼˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿½æ±‚æ–°ä½“éªŒçš„åŒæ—¶ï¼Œæ§åˆ¶æˆæœ¬ä¸é£é™©ã€‚ä¸‹ä¸€æ­¥å€¼å¾—æ¢ç´¢çš„æ˜¯å°†æ¨ç†é¢„ç®—ä¸ä¸šåŠ¡ KPI ç›´æ¥å¯¹é½ï¼Œå½¢æˆâ€œé¢„ç®—â†’ç­–ç•¥â†’ä»·å€¼â€çš„é—­ç¯ï¼Œä½¿æ¯æ¬¡æ¨¡å‹è°ƒä¼˜éƒ½èƒ½é‡åŒ–å…¶å¯¹ä¸šåŠ¡çš„è´¡çŒ®ã€‚</p><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    <category term="Architecture" scheme="https://imchenway.com/categories/Architecture/"/>
    
    
    <category term="#Observability" scheme="https://imchenway.com/tags/Observability/"/>
    
    <category term="#Automation" scheme="https://imchenway.com/tags/Automation/"/>
    
    <category term="#PerformanceBudget" scheme="https://imchenway.com/tags/PerformanceBudget/"/>
    
    <category term="#AIInfrastructure" scheme="https://imchenway.com/tags/AIInfrastructure/"/>
    
    <category term="#FinOps" scheme="https://imchenway.com/tags/FinOps/"/>
    
  </entry>
  
  <entry>
    <title>Hardening a Hexo Blog: SEO, Performance, and AdSense Tune-Up</title>
    <link href="https://imchenway.com/en/hexo-seo-ads-optimization/"/>
    <id>https://imchenway.com/en/hexo-seo-ads-optimization/</id>
    <published>2025-10-03T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="table-of-contents">Table of Contents</span><a href="#table-of-contents" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#1-starting-point-and-objectives">1. Starting Point and Objectives</a></li><li><a href="#2-seo-plumbing">2. SEO Plumbing</a><ul><li><a href="#2-1-make-the-domain-authoritative">2.1 Make the domain authoritative</a></li><li><a href="#2-2-metadata-internationalization">2.2 Metadata &amp; internationalization</a></li></ul></li><li><a href="#3-performance-experience-upgrades">3. Performance &amp; Experience Upgrades</a><ul><li><a href="#3-1-lazyload-and-minification">3.1 Lazyload and minification</a></li><li><a href="#3-2-front-end-hygiene">3.2 Front-end hygiene</a></li></ul></li><li><a href="#4-adsense-automatic-in-article-hybrid">4. AdSense: automatic + in-article hybrid</a></li><li><a href="#5-build-validation-checklist">5. Build &amp; validation checklist</a></li><li><a href="#6-lessons-next-bets">6. Lessons &amp; next bets</a></li><li><a href="#7-references">7. References</a></li></ul><!-- tocstop --></div><h1><span id="1-starting-point-and-objectives">1. Starting Point and Objectives</span><a href="#1-starting-point-and-objectives" class="header-anchor">#</a></h1><ul><li>The blog runs on Hexo with the Anatole theme. It had years of content, but little investment in search hygiene or monetization.</li><li>The mission: align canonical URLs, ship a sitemap and robots policy, improve load experience, and make Google AdSense automatic + manual units work together.</li><li>All work was executed locally, validated with <code>hexo generate</code>, and published through the existing sync script for repeatability.</li></ul><h1><span id="2-seo-plumbing">2. SEO Plumbing</span><a href="#2-seo-plumbing" class="header-anchor">#</a></h1><h2><span id="2-1-make-the-domain-authoritative">2.1 Make the domain authoritative</span><a href="#2-1-make-the-domain-authoritative" class="header-anchor">#</a></h2><ul><li>Updated <code>_config.yml</code> to use <code>https://imchenway.com</code> for <code>url</code>, ensuring canonical, RSS, and pagination links point to the live hostname.</li><li>Added a <code>sitemap</code> section so Hexo emits <code>public/sitemap.xml</code>, then surfaced it in <code>source/robots.txt</code> for crawler discovery[1][2].</li><li>Keeping <code>ads.txt</code> in place prevents monetization warnings and aligns with AdSense best practice.</li></ul><h2><span id="2-2-metadata-amp-internationalization">2.2 Metadata &amp; internationalization</span><a href="#2-2-metadata-amp-internationalization" class="header-anchor">#</a></h2><ul><li>Extended <code>themes/anatole/layout/partial/head.pug</code> with canonical, Open Graph, and Twitter Card tags that respect page titles, excerpts, and full URLs.</li><li>Calculated the <code>&lt;html lang&gt;</code> attribute from page metadata or global defaults inside <code>partial/layout.pug</code>, so English posts no longer appear as Simplified Chinese in SERPs[3].</li><li>Re-enabled the tag cloud and previous&#x2F;next navigation to boost internal link density without touching individual posts.</li></ul><h1><span id="3-performance-amp-experience-upgrades">3. Performance &amp; Experience Upgrades</span><a href="#3-performance-amp-experience-upgrades" class="header-anchor">#</a></h1><h2><span id="3-1-lazyload-and-minification">3.1 Lazyload and minification</span><a href="#3-1-lazyload-and-minification" class="header-anchor">#</a></h2><ul><li>Installed <code>hexo-lazyload-image</code>, turning on global lazyload with a neutral placeholder so long-form posts donâ€™t block first paint.</li><li>Added <code>hexo-all-minifier</code> to compress CSS, JavaScript, and HTML. Combined with lazyload, this trims network payloads before any CDN work.</li></ul><h2><span id="3-2-front-end-hygiene">3.2 Front-end hygiene</span><a href="#3-2-front-end-hygiene" class="header-anchor">#</a></h2><ul><li>Switched shared scripts (<code>jquery.js</code>, <code>jquery-migrate</code>, <code>jquery.appear</code>) to <code>defer</code>, reducing render-blocking time.</li><li>Verified output via <code>npx hexo clean &amp;&amp; npx hexo generate</code> to inspect the generated HTML, check for lazyload attributes, and ensure no duplicate script tags remained.</li></ul><h1><span id="4-adsense-automatic-in-article-hybrid">4. AdSense: automatic + in-article hybrid</span><a href="#4-adsense-automatic-in-article-hybrid" class="header-anchor">#</a></h1><ul><li>Left a single <code>adsbygoogle.js</code> include in the site head so automatic ads can decide placement without script duplication.</li><li>Introduced a <code>.post-ad</code> block in <code>themes/anatole/layout/post.pug</code> with the provided in-article unit (<code>data-ad-slot=&quot;8561874775&quot;</code>). Each article ends with:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.post-ad</span><br><span class="line">  ins.adsbygoogle(...)</span><br><span class="line">  script.</span><br><span class="line">    (adsbygoogle = window.adsbygoogle || []).push(&#123;&#125;);</span><br></pre></td></tr></table></figure><ul><li>The manual slot coexists with automatic ads, giving predictable inventory for long-form readers while leaving the rest to Googleâ€™s layout engine[4].</li></ul><h1><span id="5-build-amp-validation-checklist">5. Build &amp; validation checklist</span><a href="#5-build-amp-validation-checklist" class="header-anchor">#</a></h1><ol><li><code>npm install</code> after editing <code>package.json</code> to pull in sitemap, lazyload, and minifier plugins.  </li><li><code>npx hexo clean &amp;&amp; npx hexo generate</code> to produce static assets; confirm <code>public/sitemap.xml</code>, <code>public/robots.txt</code>, and the <code>.post-ad</code> fragment exist.  </li><li>Spot-check <code>public/en/ai-performance-budgeting/index.html</code> to verify canonical&#x2F;OG tags and ad markup.  </li><li>Publish via <code>/Users/david/hypha/sync-all.sh</code>, which stashes other repos, builds, commits, and pushes the Hexo site.  </li><li>Submit <code>https://imchenway.com/sitemap.xml</code> in Google Search Console, then run â€œURL Inspectionâ€ on updated posts to prompt reindexing.</li></ol><h1><span id="6-lessons-amp-next-bets">6. Lessons &amp; next bets</span><a href="#6-lessons-amp-next-bets" class="header-anchor">#</a></h1><ul><li><strong>Coherence beats silver bullets</strong>: canonical + sitemap + robots deliver the best return when deployed together.</li><li><strong>Minimal theme surgery goes a long way</strong>: small Pug tweaks fixed language detection, metadata, and navigation without redesigning the theme.</li><li><strong>Perf + monetization synergy</strong>: lazyload and minification improve Core Web Vitals and create more opportunities for AdSense to fill impressions.</li><li><strong>Iteration continues</strong>: future improvements could include WebP conversion, critical CSS inlining, and richer dashboards in Search Console to steer content strategy.</li></ul><h1><span id="7-references">7. References</span><a href="#7-references" class="header-anchor">#</a></h1><ul><li>[1] Hexo Docs, â€œConfiguration,â€ <a href="https://hexo.io/docs/configuration">https://hexo.io/docs/configuration</a></li><li>[2] Google Search Central, â€œSitemaps overview,â€ <a href="https://developers.google.com/search/docs/crawling-indexing/sitemaps/overview">https://developers.google.com/search/docs/crawling-indexing/sitemaps/overview</a></li><li>[3] Google Search Central, â€œLocalized versions,â€ <a href="https://developers.google.com/search/docs/specialty/international/localized-versions">https://developers.google.com/search/docs/specialty/international/localized-versions</a></li><li>[4] Google AdSense Help, â€œCreate in-article ads,â€ <a href="https://support.google.com/adsense/answer/9183363">https://support.google.com/adsense/answer/9183363</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;table-of-contents&quot;&gt;Table of Contents&lt;/span&gt;&lt;a href=&quot;#table-of-contents&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-</summary>
      
    
    
    
    
    <category term="#Performance" scheme="https://imchenway.com/tags/Performance/"/>
    
    <category term="#SEO" scheme="https://imchenway.com/tags/SEO/"/>
    
    <category term="#AdTech" scheme="https://imchenway.com/tags/AdTech/"/>
    
  </entry>
  
  <entry>
    <title>æ‰“é€ é«˜å¯è§æ€§çš„ä¸ªäººåšå®¢ï¼šä¸€æ¬¡ Hexo SEO ä¸ Adsense ä¼˜åŒ–å®å½•</title>
    <link href="https://imchenway.com/zh-CN/2025-10-hexo-seo-ads-optimization/"/>
    <id>https://imchenway.com/zh-CN/2025-10-hexo-seo-ads-optimization/</id>
    <published>2025-10-03T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#1-xiang-mu-bei-jing-yu-mu-biao">1. é¡¹ç›®èƒŒæ™¯ä¸ç›®æ ‡</a></li><li><a href="#2-seo-ji-chu-she-shi-yu-xin-xi-jia-gou">2. SEO åŸºç¡€è®¾æ–½ä¸ä¿¡æ¯æ¶æ„</a><ul><li><a href="#2-1-ming-que-zhan-dian-biao-shi">2.1 æ˜ç¡®ç«™ç‚¹æ ‡è¯†</a></li><li><a href="#2-2-yuan-shu-ju-yu-duo-yu-yan-zhi-li">2.2 å…ƒæ•°æ®ä¸å¤šè¯­è¨€æ²»ç†</a></li></ul></li><li><a href="#3-xing-neng-yu-ke-yong-xing-you-hua">3. æ€§èƒ½ä¸å¯ç”¨æ€§ä¼˜åŒ–</a><ul><li><a href="#3-1-tu-pian-lan-jia-zai-yu-zi-yuan-ya-suo">3.1 å›¾ç‰‡æ‡’åŠ è½½ä¸èµ„æºå‹ç¼©</a></li><li><a href="#3-2-qian-duan-xi-jie-da-mo">3.2 å‰ç«¯ç»†èŠ‚æ‰“ç£¨</a></li></ul></li><li><a href="#4-adsense-zi-dong-guang-gao-shou-dong-guang-gao-lian-dong">4. Adsense è‡ªåŠ¨å¹¿å‘Š + æ‰‹åŠ¨å¹¿å‘Šè”åŠ¨</a><ul><li><a href="#4-1-zi-dong-guang-gao-jian-kang-du">4.1 è‡ªåŠ¨å¹¿å‘Šå¥åº·åº¦</a></li><li><a href="#4-2-wen-zhang-nei-qian-guang-gao-wei">4.2 æ–‡ç« å†…åµŒå¹¿å‘Šä½</a></li></ul></li><li><a href="#5-gou-jian-yan-zheng-yu-fa-bu-liu-shui">5. æ„å»ºã€éªŒè¯ä¸å‘å¸ƒæµæ°´</a></li><li><a href="#6-jing-yan-zong-jie-yu-hou-xu-lu-xian">6. ç»éªŒæ€»ç»“ä¸åç»­è·¯çº¿</a></li><li><a href="#7-can-kao-zi-liao">7. å‚è€ƒèµ„æ–™</a></li></ul><!-- tocstop --></div><h1><span id="1-xiang-mu-bei-jing-yu-mu-biao">1. é¡¹ç›®èƒŒæ™¯ä¸ç›®æ ‡</span><a href="#1-xiang-mu-bei-jing-yu-mu-biao" class="header-anchor">#</a></h1><ul><li>ç«™ç‚¹åŸºäº Hexo + Anatole ä¸»é¢˜ï¼Œé•¿æœŸè¿è¡Œä½†ç¼ºå°‘ç³»ç»ŸåŒ–çš„ SEO ä¸å¹¿å‘Šæ”¶ç›Šé…ç½®ã€‚</li><li>ç›®æ ‡æ˜¯æå‡æœç´¢å¯è§åº¦ã€æ”¹å–„é¡µé¢ä½“éªŒï¼Œå¹¶è®© Google AdSense è‡ªåŠ¨å¹¿å‘Šä¸æ‰‹åŠ¨å¹¿å‘Šä½ååŒå·¥ä½œã€‚</li><li>æœ¬æ¬¡ä¼˜åŒ–åœ¨æœ¬åœ°å®Œæˆåï¼Œé€šè¿‡ Hexo æ„å»ºå¹¶ä¸€é”®å‘å¸ƒï¼Œç¡®ä¿æµç¨‹å¯å¤ç”¨ã€‚</li></ul><h1><span id="2-seo-ji-chu-she-shi-yu-xin-xi-jia-gou">2. SEO åŸºç¡€è®¾æ–½ä¸ä¿¡æ¯æ¶æ„</span><a href="#2-seo-ji-chu-she-shi-yu-xin-xi-jia-gou" class="header-anchor">#</a></h1><h2><span id="2-1-ming-que-zhan-dian-biao-shi">2.1 æ˜ç¡®ç«™ç‚¹æ ‡è¯†</span><a href="#2-1-ming-que-zhan-dian-biao-shi" class="header-anchor">#</a></h2><ul><li>åœ¨ <code>_config.yml</code> ä¸­æŠŠ <code>url</code> æ”¹ä¸º <code>https://imchenway.com</code>ï¼Œä¿è¯ canonicalã€RSSã€åˆ†é¡µé“¾æ¥æŒ‡å‘çœŸå®åŸŸåã€‚</li><li>åŒæ­¥æ–°å¢ <code>sitemap</code> é…ç½®ï¼Œè¾“å‡º <code>public/sitemap.xml</code> ä¾›æœç´¢å¼•æ“æŠ“å–[1]ã€‚</li><li>åˆ›å»º <code>source/robots.txt</code>ï¼Œæ˜¾å¼å…è®¸æŠ“å–å¹¶æŒ‡å‘ sitemapï¼Œæœ‰åˆ©äºå¿«é€Ÿæ”¶å½•[2]ã€‚</li></ul><h2><span id="2-2-yuan-shu-ju-yu-duo-yu-yan-zhi-li">2.2 å…ƒæ•°æ®ä¸å¤šè¯­è¨€æ²»ç†</span><a href="#2-2-yuan-shu-ju-yu-duo-yu-yan-zhi-li" class="header-anchor">#</a></h2><ul><li>åœ¨ <code>themes/anatole/layout/partial/head.pug</code> æ³¨å…¥ canonicalã€Open Graphã€Twitter Card å…ƒæ ‡ç­¾ï¼ŒåŠ¨æ€æ‹¼æ¥æ ‡é¢˜å’Œæè¿°ã€‚</li><li><code>themes/anatole/layout/partial/layout.pug</code> æ ¹æ®é¡µé¢æˆ–ç«™ç‚¹è¯­è¨€è®¡ç®— <code>&lt;html lang&gt;</code>ï¼Œé¿å…è‹±æ–‡æ–‡ç« è¯¯æ ‡ä¸­æ–‡ï¼Œæœ‰åŠ©äºå›½é™…åŒ– SEO[3]ã€‚</li><li>æ‰“å¼€ä¸»é¢˜çš„æ ‡ç­¾äº‘ï¼Œæ¢å¤æ–‡ç« é¡¶éƒ¨&#x2F;åº•éƒ¨çš„å†…éƒ¨é“¾æ¥ï¼Œæå‡ç«™å†…æƒé‡æµè½¬æ•ˆç‡ã€‚</li></ul><h1><span id="3-xing-neng-yu-ke-yong-xing-you-hua">3. æ€§èƒ½ä¸å¯ç”¨æ€§ä¼˜åŒ–</span><a href="#3-xing-neng-yu-ke-yong-xing-you-hua" class="header-anchor">#</a></h1><h2><span id="3-1-tu-pian-lan-jia-zai-yu-zi-yuan-ya-suo">3.1 å›¾ç‰‡æ‡’åŠ è½½ä¸èµ„æºå‹ç¼©</span><a href="#3-1-tu-pian-lan-jia-zai-yu-zi-yuan-ya-suo" class="header-anchor">#</a></h2><ul><li>å¼•å…¥ <code>hexo-lazyload-image</code> æ’ä»¶ï¼Œåœ¨ <code>_config.yml</code> ä¸­å¯ç”¨ <code>lazyload</code>ï¼Œä¸ºæ–‡ç« å›¾åƒè‡ªåŠ¨åŠ ä¸Šå ä½å›¾ä¸æƒ°æ€§åŠ è½½ã€‚</li><li>å®‰è£… <code>hexo-all-minifier</code>ï¼Œå¼€å¯ CSS&#x2F;JS&#x2F;HTML å‹ç¼©ï¼Œå‡å°‘é¦–å±åŠ è½½ä½“ç§¯ã€‚</li></ul><h2><span id="3-2-qian-duan-xi-jie-da-mo">3.2 å‰ç«¯ç»†èŠ‚æ‰“ç£¨</span><a href="#3-2-qian-duan-xi-jie-da-mo" class="header-anchor">#</a></h2><ul><li>å°†å…¬å…±è„šæœ¬ (<code>jquery.js</code> ç­‰) æ”¹ä¸º <code>defer</code>ï¼Œé™ä½é˜»å¡æ¸²æŸ“é£é™©ã€‚</li><li>åœ¨æ–‡ç« æ¨¡æ¿ä¸­æ·»åŠ ä¸Šä¸€é¡µ&#x2F;ä¸‹ä¸€é¡µå¯¼èˆªï¼Œç”¨æœ€å°çš„æ”¹åŠ¨è¡¥ä¸Šå¯è®¿é—®æ€§ä¸ç”¨æˆ·ç•™å­˜èƒ½åŠ›ã€‚</li><li>æ„å»ºåé€šè¿‡ <code>npx hexo clean &amp;&amp; npx hexo generate</code> éªŒè¯è¾“å‡ºï¼Œç¡®ä¿ sitemapã€robotsã€æ‡’åŠ è½½ã€å‹ç¼©ç»“æœå…¨éƒ¨è½ç›˜ã€‚</li></ul><h1><span id="4-adsense-zi-dong-guang-gao-shou-dong-guang-gao-lian-dong">4. Adsense è‡ªåŠ¨å¹¿å‘Š + æ‰‹åŠ¨å¹¿å‘Šè”åŠ¨</span><a href="#4-adsense-zi-dong-guang-gao-shou-dong-guang-gao-lian-dong" class="header-anchor">#</a></h1><h2><span id="4-1-zi-dong-guang-gao-jian-kang-du">4.1 è‡ªåŠ¨å¹¿å‘Šå¥åº·åº¦</span><a href="#4-1-zi-dong-guang-gao-jian-kang-du" class="header-anchor">#</a></h2><ul><li>ä¸»é¢˜å¤´éƒ¨ä»…ä¿ç•™ä¸€æ¬¡ <code>adsbygoogle.js</code> è„šæœ¬ï¼Œé¿å…é‡å¤åŠ è½½ã€‚</li><li>åœ¨ AdSense åå°ç¡®è®¤åŸŸåâ€œå‡†å¤‡å°±ç»ªâ€åï¼Œä½¿ç”¨æ— ç—•æ¨¡å¼è®¿é—®çº¿ä¸Šç«™ç‚¹éªŒè¯è‡ªåŠ¨å¹¿å‘Šå±•ç¤ºã€‚</li></ul><h2><span id="4-2-wen-zhang-nei-qian-guang-gao-wei">4.2 æ–‡ç« å†…åµŒå¹¿å‘Šä½</span><a href="#4-2-wen-zhang-nei-qian-guang-gao-wei" class="header-anchor">#</a></h2><ul><li>åœ¨ <code>themes/anatole/layout/post.pug</code> å¢åŠ  <code>.post-ad</code> åŒºå—ï¼Œæ³¨å…¥ in-article å¹¿å‘Šä»£ç ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.post-ad</span><br><span class="line">  ins.adsbygoogle(...)</span><br><span class="line">  script.</span><br><span class="line">    (adsbygoogle = window.adsbygoogle || []).push(&#123;&#125;);</span><br></pre></td></tr></table></figure><ul><li>ç”±äºè„šæœ¬å·²åœ¨å¤´éƒ¨åŠ è½½ï¼Œè¿™é‡Œåªéœ€ push è¯·æ±‚ï¼Œæ—¢å…¼å®¹è‡ªåŠ¨å¹¿å‘Šï¼Œä¹Ÿèƒ½ä¿è¯æ¯ç¯‡æ–‡ç« éƒ½å­˜åœ¨ç¨³å®šçš„å±•ç¤ºä½[4]ã€‚</li></ul><h1><span id="5-gou-jian-yan-zheng-yu-fa-bu-liu-shui">5. æ„å»ºã€éªŒè¯ä¸å‘å¸ƒæµæ°´</span><a href="#5-gou-jian-yan-zheng-yu-fa-bu-liu-shui" class="header-anchor">#</a></h1><ol><li><code>npm install</code> å®‰è£… sitemapã€lazyloadã€minifier ä¾èµ–ã€‚ </li><li><code>npx hexo clean &amp;&amp; npx hexo generate</code> ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œæ£€æŸ¥ <code>public/sitemap.xml</code>ã€<code>public/robots.txt</code> ä¸å¹¿å‘Šç‰‡æ®µã€‚ </li><li>è®¿é—® <code>public/en/ai-performance-budgeting/index.html</code>ï¼Œç¡®è®¤ canonicalã€OGã€å¹¿å‘Šä»£ç å…¨éƒ¨ç”Ÿæ•ˆã€‚ </li><li>è¿è¡Œ <code>/Users/david/hypha/sync-all.sh</code>ï¼Œè‡ªåŠ¨æ‰§è¡Œ pull â†’ build â†’ pushï¼ŒæŠŠé™æ€èµ„æºåŒæ­¥åˆ° GitHub Pagesã€‚ </li><li>ç™»å½• Google Search Console æäº¤ <code>https://imchenway.com/sitemap.xml</code>ï¼Œå¹¶å¯¹æ–°æ–‡ç« æ‰§è¡Œâ€œURL æ£€æŸ¥â€è¯·æ±‚ç´¢å¼•ã€‚</li></ol><h1><span id="6-jing-yan-zong-jie-yu-hou-xu-lu-xian">6. ç»éªŒæ€»ç»“ä¸åç»­è·¯çº¿</span><a href="#6-jing-yan-zong-jie-yu-hou-xu-lu-xian" class="header-anchor">#</a></h1><ul><li><strong>é…ç½®ä¸€è‡´æ€§</strong>ï¼š<code>url</code>ã€<code>canonical</code>ã€<code>robots</code>ã€<code>sitemap</code> å¿…é¡»ååŒï¼Œé—æ¼ä»»ä½•ä¸€é¡¹éƒ½ä¼šå‰Šå¼±æ•´ä½“ SEO æ•ˆæœã€‚</li><li><strong>ä¸»é¢˜æ¼”è¿›</strong>ï¼šé€šè¿‡æœ€å°æ”¹åŠ¨æ”¹å†™ Pug æ¨¡æ¿å³å¯è¡¥é½å¤šè¯­è¨€ã€å¯è®¿é—®æ€§ã€å¹¿å‘Šä½ï¼›æœªæ¥å¯è€ƒè™‘è¿ç§»åˆ°åŸç”Ÿæ”¯æŒ Core Web Vitals çš„ä¸»é¢˜ã€‚</li><li><strong>æ€§èƒ½ä¸æ”¶ç›Šå¹¶é‡</strong>ï¼šæ‡’åŠ è½½ä¸å‹ç¼©é™ä½äº†é¦–å±è´Ÿæ‹…ï¼Œä¹Ÿè®©è‡ªåŠ¨å¹¿å‘Šæ›´å®¹æ˜“è·å¾—æ›å…‰ï¼›åç»­å¯ç»§ç»­æ¥å…¥ WebPã€Critical CSS ç­‰æ‰‹æ®µã€‚</li><li><strong>è¿è¥è½åœ°</strong>ï¼šSearch Console çš„æ•°æ®å¯ä»¥åå“ºå†…å®¹é€‰é¢˜ï¼›AdSense æ‰‹åŠ¨å¹¿å‘Šä½åˆ™æä¾›äº†ç²¾ç»†åŒ–è¿è¥çš„æŠ“æ‰‹ã€‚</li></ul><h1><span id="7-can-kao-zi-liao">7. å‚è€ƒèµ„æ–™</span><a href="#7-can-kao-zi-liao" class="header-anchor">#</a></h1><ul><li>[1] Hexo å®˜æ–¹æ–‡æ¡£ã€ŠConfigurationã€‹ï¼Œ<a href="https://hexo.io/docs/configuration">https://hexo.io/docs/configuration</a></li><li>[2] Google Search Centralã€ŠSitemaps Overviewã€‹ï¼Œ<a href="https://developers.google.com/search/docs/crawling-indexing/sitemaps/overview">https://developers.google.com/search/docs/crawling-indexing/sitemaps/overview</a></li><li>[3] Google Search Centralã€ŠLocalized Versionsã€‹ï¼Œ<a href="https://developers.google.com/search/docs/specialty/international/localized-versions">https://developers.google.com/search/docs/specialty/international/localized-versions</a></li><li>[4] Google AdSenseã€ŠCreate in-article adsã€‹ï¼Œ<a href="https://support.google.com/adsense/answer/9183363">https://support.google.com/adsense/answer/9183363</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    
    <category term="#Performance" scheme="https://imchenway.com/tags/Performance/"/>
    
    <category term="#SEO" scheme="https://imchenway.com/tags/SEO/"/>
    
    <category term="#Adsense" scheme="https://imchenway.com/tags/Adsense/"/>
    
  </entry>
  
  <entry>
    <title>Vibe Coding ä»£ç†æŠ‰æ‹©ï¼šGoogle Jules vs OpenAI Codex vs Claude Code</title>
    <link href="https://imchenway.com/zh-CN/2025-09-vibe-coding-agents/"/>
    <id>https://imchenway.com/zh-CN/2025-09-vibe-coding-agents/</id>
    <published>2025-09-29T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#1-vibe-coding-yan-jin-mai-luo">1. Vibe Coding æ¼”è¿›è„‰ç»œ</a></li><li><a href="#2-san-da-dai-li-hua-xiang">2. ä¸‰å¤§ä»£ç†ç”»åƒ</a><ul><li><a href="#2-1-google-jules">2.1 Google Jules</a></li><li><a href="#2-2-openai-codex">2.2 OpenAI Codex</a></li><li><a href="#2-3-claude-code">2.3 Claude Code</a></li></ul></li><li><a href="#3-he-xin-neng-li-dui-bi">3. æ ¸å¿ƒèƒ½åŠ›å¯¹æ¯”</a></li><li><a href="#4-gong-zuo-liu-yu-xie-zuo-fang-shi">4. å·¥ä½œæµä¸åä½œæ–¹å¼</a></li><li><a href="#5-an-quan-he-gui-yu-ke-guan-ce">5. å®‰å…¨ã€åˆè§„ä¸å¯è§‚æµ‹</a></li><li><a href="#6-dian-xing-xuan-xing-chang-jing">6. å…¸å‹é€‰å‹åœºæ™¯</a></li><li><a href="#7-wei-lai-qu-shi-pan-duan">7. æœªæ¥è¶‹åŠ¿åˆ¤æ–­</a></li><li><a href="#8-shi-cao-jian-yi">8. å®æ“å»ºè®®</a></li><li><a href="#9-can-kao-zi-liao">9. å‚è€ƒèµ„æ–™</a></li></ul><!-- tocstop --></div><h1><span id="1-vibe-coding-yan-jin-mai-luo">1. Vibe Coding æ¼”è¿›è„‰ç»œ</span><a href="#1-vibe-coding-yan-jin-mai-luo" class="header-anchor">#</a></h1><ul><li>æ—©æœŸçš„ã€Œæç¤ºå³åº”ç”¨ã€æ›´å¤šåœç•™åœ¨ä»£ç è¡¥å…¨ä¸è„šæ‰‹æ¶ç”Ÿæˆï¼Œå¼€å‘è€…ä»éœ€æ‰‹å·¥éªŒè¯ã€éƒ¨ç½²ä¸å›æ»šã€‚</li><li>2024-2025 å¹´é—´ï¼ŒGoogleã€OpenAIã€Anthropic å…ˆåå°†ç”Ÿæˆå¼èƒ½åŠ›åµŒå…¥ IDEã€ç»ˆç«¯ä¸äº‘ç®¡å¹³å°ï¼Œå½¢æˆè¦†ç›–ã€Œç”Ÿæˆ â†’ éªŒæ”¶ â†’ å‘å¸ƒ â†’ æ¼”è¿›ã€çš„ç«¯åˆ°ç«¯ä»£ç†ã€‚</li><li>æ–°ä¸€æ³¢ä»£ç†çš„æ ¸å¿ƒç‰¹å¾æ˜¯è‡ªæ²»ï¼šå¼‚æ­¥æ‰§è¡Œã€å¤šå­ä»£ç†åˆ†å·¥ã€è‡ªåŠ¨å¿«ç…§&#x2F;å›æ»šã€ä¸ç°æœ‰ CI&#x2F;CD å·¥å…·ååŒï¼Œä»â€œå†™ä»£ç â€å‡çº§ä¸ºâ€œæ¨è¿›é¡¹ç›®â€ã€‚</li></ul><h1><span id="2-san-da-dai-li-hua-xiang">2. ä¸‰å¤§ä»£ç†ç”»åƒ</span><a href="#2-san-da-dai-li-hua-xiang" class="header-anchor">#</a></h1><h2><span id="2-1-google-jules">2.1 Google Jules</span><a href="#2-1-google-jules" class="header-anchor">#</a></h2><ul><li>åŸºäº Gemini 2.5 Proï¼Œå·¥ä½œæµç¨‹æ˜¯ã€Œè¾“å…¥ä»»åŠ¡ â†’ å…‹éš†ä»“åº“ â†’ åœ¨ Google Cloud è™šæ‹Ÿæœºæ‰§è¡Œ â†’ è‡ªåŠ¨æäº¤ PRã€ã€‚</li><li>åŸç”Ÿæ”¯æŒ Environment Snapshotsï¼Œå°†ä¾èµ–å®‰è£…è„šæœ¬ã€ç³»ç»ŸçŠ¶æ€å›ºåŒ–ï¼Œé€‚åˆéœ€è¦åå¤åˆ‡æ¢åˆ†æ”¯æˆ–å¿«é€Ÿæ¢å¤ç¯å¢ƒçš„å›¢é˜Ÿã€‚</li><li>å®šä»·é‡‡ç”¨ä»»åŠ¡é…é¢ï¼šå…è´¹ç‰ˆæ¯æ—¥ 15 ä¸ªä»»åŠ¡ï¼ŒPro&#x2F;Ultra åˆ†åˆ«æ”¾å®½è‡³ 5Ã—ã€20Ã— å¹¶å‘é¢åº¦[1]ã€‚</li></ul><h2><span id="2-2-openai-codex">2.2 OpenAI Codex</span><a href="#2-2-openai-codex" class="header-anchor">#</a></h2><ul><li>è‡ª 2021 å¹´å‘å¸ƒåï¼Œ2025 å¹´å†åº¦å‡çº§ï¼Œå½¢æˆã€ŒCodex Agentï¼ˆäº‘ç«¯å¤šä»»åŠ¡ï¼‰ + Codex CLIï¼ˆæœ¬åœ°å¼€æºï¼‰ã€åŒè½¨çº¿è·¯[2]ã€‚</li><li>æ”¯æŒè‡ªç„¶è¯­è¨€ç”Ÿæˆä»£ç ã€è§£é‡Šä»£ç ã€è·¨è¯­è¨€è½¬æ¢ï¼ŒPython ä¸Šä¸‹æ–‡çª—å£è¾¾åˆ° 14KBï¼Œå¯å¤„ç†æ›´é•¿çš„è°ƒç”¨é“¾è¯´æ˜ã€‚</li><li>ä¸ GitHub Copilot æ·±åº¦è€¦åˆï¼Œæ—¢èƒ½é€šè¿‡ API é©±åŠ¨è„šæœ¬åŒ–ä»»åŠ¡ï¼Œä¹Ÿèƒ½åœ¨æœ¬åœ° CLI é‡Œæ‰§è¡Œæ•æ„Ÿæ“ä½œåå†äº¤ç”±äº‘ç«¯æ‰¹å¤„ç†ã€‚</li></ul><h2><span id="2-3-claude-code">2.3 Claude Code</span><a href="#2-3-claude-code" class="header-anchor">#</a></h2><ul><li>é»˜è®¤æ¨¡å‹å‡çº§åˆ° Claude Sonnet 4.5ï¼Œæ–°å¢ VS Code åŸç”Ÿæ‰©å±•ã€ç»ˆç«¯ 2.0 ä¸è‡ªåŠ¨åŒ– Checkpoint å›æ»š[3]ã€‚</li><li>Subagent + Hooks + åå°ä»»åŠ¡å°†ä»£ç†æ‹†åˆ†ä¸ºâ€œå¤šè§’è‰²ååŒâ€ï¼Œå¯åœ¨æäº¤å‰è‡ªåŠ¨è·‘æµ‹è¯•ã€Lintã€éƒ¨ç½²è„šæœ¬ã€‚</li><li>Claude Agent SDKï¼ˆåŸ Claude Code SDKï¼‰å‘ä¼ä¸šå¼€æ”¾ä¸Šä¸‹æ–‡ç®¡ç†ã€æƒé™æ¡†æ¶ï¼Œæ–¹ä¾¿è‡ªå»ºå‚ç›´åœºæ™¯ä»£ç†ã€‚</li></ul><h1><span id="3-he-xin-neng-li-dui-bi">3. æ ¸å¿ƒèƒ½åŠ›å¯¹æ¯”</span><a href="#3-he-xin-neng-li-dui-bi" class="header-anchor">#</a></h1><table><thead><tr><th>ç»´åº¦</th><th>Google Jules</th><th>OpenAI Codex</th><th>Claude Code</th></tr></thead><tbody><tr><td>è‡ªæ²»å½¢æ€</td><td>å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ— + äº‘ç«¯è™šæœºï¼›è‡ªåŠ¨ç”Ÿæˆ PR</td><td>äº‘ç«¯å¤šä»»åŠ¡ä»£ç† + æœ¬åœ° CLIï¼›API å¯ç¼–æ’</td><td>ç»ˆç«¯&#x2F;VS Code ç°åœºååŒï¼›Subagent å¹¶è¡Œ</td></tr><tr><td>è¿è¡Œç¯å¢ƒ</td><td>Google Cloud æ‰˜ç®¡ï¼Œæä¾› Environment Snapshots</td><td>å¯é€‰ OpenAI äº‘æˆ–æœ¬åœ° CLIï¼Œè‡ªä¸»å†³å®šæ‰§è¡Œç¯å¢ƒ</td><td>é»˜è®¤æœ¬åœ°ï¼Œé…åˆ Agent SDK å¯æ¥å…¥ä¼ä¸šç§æœ‰èµ„æº</td></tr><tr><td>éªŒæ”¶æœºåˆ¶</td><td>PR + Snapshots è®°å½•æ”¹åŠ¨</td><td>éœ€è‡ªå»ºå®¡æŸ¥ï¼Œæˆ–ç»“åˆ GitHub&#x2F;CICD</td><td>Checkpoints + Hooks è‡ªåŠ¨æµ‹è¯•&#x2F;å›æ»š</td></tr><tr><td>æˆæœ¬æ¨¡å¼</td><td>ä»»åŠ¡é…é¢é˜¶æ¢¯æ”¶è´¹</td><td>æŒ‰ API è°ƒç”¨è®¡è´¹ï¼›CLI å¼€æº</td><td>éš Claude è®¢é˜…æä¾›</td></tr><tr><td>ç”Ÿæ€é›†æˆ</td><td>GitHubã€Google Cloudã€Cloud Build</td><td>GitHubã€OpenAI API ç”Ÿæ€</td><td>VS Codeã€ç»ˆç«¯ã€Agent SDKã€ç¬¬ä¸‰æ–¹å·¥å…·æŒ‚è½½</td></tr></tbody></table><h1><span id="4-gong-zuo-liu-yu-xie-zuo-fang-shi">4. å·¥ä½œæµä¸åä½œæ–¹å¼</span><a href="#4-gong-zuo-liu-yu-xie-zuo-fang-shi" class="header-anchor">#</a></h1><ul><li><strong>ä»»åŠ¡å¯åŠ¨</strong>ï¼šJules è‡ªåŠ¨å…‹éš†ä»“åº“å¹¶åœ¨ VM ä¸­åˆå§‹åŒ–ç¯å¢ƒï¼›Codex å¯ä»¥ç›´æ¥æ ¹æ®è‡ªç„¶è¯­è¨€ç”Ÿæˆè„šæ‰‹æ¶ï¼›Claude Code æ”¯æŒåœ¨ VS Code é¢æ¿æˆ–ç»ˆç«¯ä¸­åŠ è½½ç°æœ‰é¡¹ç›®å¹¶å±•ç¤º Diffã€‚</li><li><strong>å¼€å‘ä¸­</strong>ï¼šJules é€‚åˆâ€œäº¤ä»£ä»»åŠ¡ â†’ ç­‰å¾…ç»“æœâ€çš„å¼‚æ­¥æ¨¡å¼ï¼›Codex CLI ä¸äº‘ä»£ç†å¯å¹¶è¡Œæ‰§è¡Œå¤šä¸ªåˆ†æ”¯ä»»åŠ¡ï¼›Claude Code ä½¿ç”¨ Subagent å°†å‰åç«¯ã€æµ‹è¯•ã€åŸºå»ºæ‹†åˆ†ï¼Œå¹¶é€šè¿‡ Hooks æŠŠå•å…ƒæµ‹è¯•ã€Lintã€éƒ¨ç½²åŠ å…¥æµæ°´çº¿ã€‚</li><li><strong>äº¤ä»˜é—­ç¯</strong>ï¼šJules è¾“å‡º PR ä¾›äººå·¥å®¡æ ¸ï¼›Codex çš„ API å¯è§¦å‘è‡ªæœ‰ CI&#x2F;CDï¼›Claude Code å€ŸåŠ© Checkpoints å’Œ &#x2F;rewind å‘½ä»¤ï¼Œåœ¨å¤§èŒƒå›´é‡æ„æ—¶éšæ—¶å›é€€åˆ°ä»£ç†æ”¹åŠ¨å‰çš„çŠ¶æ€ï¼ŒåŒæ—¶ Hooks å¯é˜»æŒ¡ä¸ç¬¦åˆè´¨é‡é—¸é—¨çš„æäº¤ã€‚</li></ul><h1><span id="5-an-quan-he-gui-yu-ke-guan-ce">5. å®‰å…¨ã€åˆè§„ä¸å¯è§‚æµ‹</span><a href="#5-an-quan-he-gui-yu-ke-guan-ce" class="header-anchor">#</a></h1><ul><li><strong>æ•°æ®é©»ç•™</strong>ï¼šJules åœ¨ Google Cloud è¿è¡Œï¼Œéœ€è¦æ˜ç¡®ä»“åº“æˆæƒä¸åˆè§„èŒƒå›´ï¼›Codex äº‘ç«¯ä»£ç†ä¼šä¸Šä¼ ä»£ç ï¼Œè‹¥éœ€ä¸¥æ ¼å†…æ§å¯é€‰æ‹©æœ¬åœ° CLIï¼›Claude Code é»˜è®¤æœ¬åœ°æ‰§è¡Œï¼ŒAgent SDK æ”¯æŒåœ¨ä¼ä¸šç§æœ‰ç¯å¢ƒæ­å»ºã€‚</li><li><strong>æƒé™ä¸å›æ»š</strong>ï¼šJules ä¾èµ– GitHub æƒé™ä¸ Snapshotsï¼›Codex éœ€è¦å€ŸåŠ© Git åŠå¤–éƒ¨æ—¥å¿—å®¡è®¡ï¼›Claude Code å°† Checkpointã€å­ä»£ç†æƒé™ä¸ Hooks ç»“åˆï¼Œä½¿æ“ä½œè¿‡ç¨‹å¯è¿½æº¯ä¸”å¯å›æ»šã€‚</li><li><strong>å¤±æ•ˆé˜²çº¿</strong>ï¼šJules çš„å¼‚æ­¥æœºåˆ¶å¯èƒ½å»¶è¿Ÿæš´éœ²é—®é¢˜ï¼Œä½† PR å®¡é˜…å¯å…œåº•ï¼›Codex éœ€æ³¨æ„å¤šä»»åŠ¡å¹¶å‘çš„å†²çªæ£€æµ‹ï¼›Claude Code å¯é€šè¿‡è‡ªåŠ¨æµ‹è¯• Hook å°†å¤±è´¥ç»“æœç›´æ¥åé¦ˆç»™ä¸»ä»£ç†å¹¶æš‚åœæäº¤ã€‚</li></ul><h1><span id="6-dian-xing-xuan-xing-chang-jing">6. å…¸å‹é€‰å‹åœºæ™¯</span><a href="#6-dian-xing-xuan-xing-chang-jing" class="header-anchor">#</a></h1><ul><li><strong>äº‘åŸç”Ÿ DevOps å›¢é˜Ÿ</strong>ï¼šè‹¥å·²æœ‰ Google Cloud åŸºç¡€è®¾æ–½å¹¶å¸Œæœ›â€œäº¤ä»»åŠ¡ç»™äº‘ç«¯æ‰§è¡Œâ€ï¼ŒJules çš„å¼‚æ­¥ä»£ç† + Snapshots + PR æµç¨‹æœ€é¡ºæ»‘ã€‚</li><li><strong>è·¨è¯­è¨€å¹³å°å‹å›¢é˜Ÿ</strong>ï¼šCodex çš„å¤šè¯­è¨€èƒ½åŠ›ã€API å¯ç¼–æ’æ€§é«˜ï¼Œå¯åœ¨åŒä¸€ä»£ç†é‡ŒåŒæ—¶å¤„ç† Pythonã€JavaScriptã€Go ç­‰ä»»åŠ¡ã€‚</li><li><strong>å¸Œæœ›æ„å»º AI å›¢é˜Ÿæˆå‘˜çš„ä¼ä¸š</strong>ï¼šClaude Code çš„ Subagentã€Hookã€SDK æ›´é€‚é…éœ€è¦æµç¨‹æ²»ç†ã€åˆ†è§’è‰²åä½œä¸è‡ªå»ºçŸ¥è¯†åº“çš„ç»„ç»‡ã€‚</li><li><strong>æ··åˆç­–ç•¥</strong>ï¼šå¯ä»¥ç”¨ Codex CLI ç”Ÿæˆåˆç‰ˆï¼Œå†äº¤ç”± Claude Code è¿›è¡Œé‡æ„ä¸æµ‹è¯•ï¼›æˆ–è®© Jules è´Ÿè´£äº‘ç«¯éƒ¨ç½²ï¼ŒæŠŠå†…ç½‘æ•æ„Ÿæ”¹åŠ¨ç•™ç»™æœ¬åœ°ä»£ç†æ‰§è¡Œã€‚</li></ul><h1><span id="7-wei-lai-qu-shi-pan-duan">7. æœªæ¥è¶‹åŠ¿åˆ¤æ–­</span><a href="#7-wei-lai-qu-shi-pan-duan" class="header-anchor">#</a></h1><ul><li>ä»£ç†ä¼šç»§ç»­å‘â€œé¡¹ç›®ç»ç†â€æ¼”åŒ–ï¼šä»æ¥æ”¶ä»»åŠ¡åˆ°åè°ƒå­ä»£ç†ã€æ¨è¿› CI&#x2F;CDã€åŒæ­¥çŠ¶æ€ï¼Œæœ€ç»ˆå½¢æˆè‡ªæ²»çš„å·¥ç¨‹æµæ°´çº¿ã€‚</li><li>å¯è§‚æµ‹æ€§ä¸æˆæœ¬æ²»ç†å°†æˆä¸ºå·®å¼‚åŒ–æ ¸å¿ƒï¼šå¼‚æ­¥é˜Ÿåˆ—éœ€è¦ SLA ç›‘æ§ã€æœ¬åœ° CLI è¦æœ‰æˆæœ¬ä»ªè¡¨ç›˜ï¼Œä¼ä¸šå¿…é¡»ä¸º AI ä»£ç†è®¾ç«‹ä¸äººç±»å·¥ç¨‹å¸ˆç±»ä¼¼çš„è€ƒæ ¸æŒ‡æ ‡ã€‚</li><li>å¼€æ”¾ç”Ÿæ€å¯¹å†³ï¼šJules æŠ¢å äº‘ç®¡å¹³å°å…¥å£ï¼ŒCodex å¼ºåŒ– API&#x2F;CLI ç»„åˆæ‹³ï¼ŒClaude Code ä»¥ SDK æ‰“é€ â€œå¯å®šåˆ¶çš„å·¥ç¨‹é˜Ÿâ€ï¼Œæœªæ¥å‡ å¹´å°†è¿›å…¥ç”Ÿæ€æˆ˜ã€‚</li></ul><h1><span id="8-shi-cao-jian-yi">8. å®æ“å»ºè®®</span><a href="#8-shi-cao-jian-yi" class="header-anchor">#</a></h1><ol><li><strong>æ˜ç¡®ç›®æ ‡</strong>ï¼šç¡®å®šæ˜¯æƒ³è®©ä»£ç†â€œå¸®å†™ä»£ç â€è¿˜æ˜¯â€œç«¯åˆ°ç«¯æ¨è¿›éœ€æ±‚â€ã€‚</li><li><strong>æ¸è¿›æˆæƒ</strong>ï¼šå…ˆè®©ä»£ç†è´Ÿè´£è„šæœ¬ä¿®å¤ã€æµ‹è¯•æ›´æ–°ï¼Œå†é€æ­¥æˆæƒåˆ°æ ¸å¿ƒåŠŸèƒ½å’Œä¸Šçº¿æµç¨‹ã€‚</li><li><strong>å»ºç«‹ç›‘æ§å›è·¯</strong>ï¼šæ— è®ºé€‰æ‹©å“ªæ¬¾ä»£ç†ï¼Œéƒ½æŠŠæ—¥å¿—ã€å¿«ç…§ã€æµ‹è¯•ç»“æœæ¥å…¥ç°æœ‰ Observability å¹³å°ã€‚</li><li><strong>æŒç»­å¤ç›˜</strong>ï¼šè®°å½•ä»£ç†çš„æˆåŠŸ&#x2F;å¤±è´¥æ¡ˆä¾‹ï¼Œä¸º Promptã€Hookã€Subagent ç­–ç•¥è¿­ä»£æä¾›ä¾æ®ã€‚</li><li><strong>å°è¯•è·¨å¹³å°ç»„åˆ</strong>ï¼šåœ¨çœŸå®é¡¹ç›®é‡Œæ··åˆä½¿ç”¨ä¸åŒä»£ç†ï¼Œå‘æŒ¥å„è‡ªå¼ºé¡¹å¹¶è¦†ç›–å½¼æ­¤ç›²åŒºã€‚</li></ol><h1><span id="9-can-kao-zi-liao">9. å‚è€ƒèµ„æ–™</span><a href="#9-can-kao-zi-liao" class="header-anchor">#</a></h1><ul><li>[1] TechCrunchï¼Œã€ŠGoogleâ€™s AI coding agent Jules is now out of betaã€‹ï¼Œ<a href="https://techcrunch.com/2025/08/06/googles-ai-coding-agent-jules-is-now-out-of-beta/">https://techcrunch.com/2025/08/06/googles-ai-coding-agent-jules-is-now-out-of-beta/</a></li><li>[2] OpenAIï¼Œã€ŠOpenAI Codexã€‹ï¼Œ<a href="https://openai.com/blog/openai-codex">https://openai.com/blog/openai-codex</a></li><li>[3] Anthropicï¼Œã€ŠEnabling Claude Code to work more autonomouslyã€‹ï¼Œ<a href="https://www.anthropic.com/news/enabling-claude-code-to-work-more-autonomously">https://www.anthropic.com/news/enabling-claude-code-to-work-more-autonomously</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    
    <category term="#AI" scheme="https://imchenway.com/tags/AI/"/>
    
    <category term="#Tools" scheme="https://imchenway.com/tags/Tools/"/>
    
    <category term="#VIBE" scheme="https://imchenway.com/tags/VIBE/"/>
    
  </entry>
  
  <entry>
    <title>Choosing Your Vibe Coding Agent: Google Jules vs OpenAI Codex vs Claude Code</title>
    <link href="https://imchenway.com/en/vibe-coding-agent-comparison/"/>
    <id>https://imchenway.com/en/vibe-coding-agent-comparison/</id>
    <published>2025-09-29T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.619Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="table-of-contents">Table of Contents</span><a href="#table-of-contents" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#1-how-vibe-coding-evolved">1. How Vibe Coding Evolved</a></li><li><a href="#2-agent-profiles">2. Agent Profiles</a><ul><li><a href="#2-1-google-jules">2.1 Google Jules</a></li><li><a href="#2-2-openai-codex">2.2 OpenAI Codex</a></li><li><a href="#2-3-claude-code">2.3 Claude Code</a></li></ul></li><li><a href="#3-capability-comparison">3. Capability Comparison</a></li><li><a href="#4-workflow-collaboration">4. Workflow &amp; Collaboration</a></li><li><a href="#5-security-compliance-observability">5. Security, Compliance &amp; Observability</a></li><li><a href="#6-typical-selection-scenarios">6. Typical Selection Scenarios</a></li><li><a href="#7-where-the-field-is-heading">7. Where the Field Is Heading</a></li><li><a href="#8-practical-playbook">8. Practical Playbook</a></li><li><a href="#9-references">9. References</a></li></ul><!-- tocstop --></div><h1><span id="1-how-vibe-coding-evolved">1. How Vibe Coding Evolved</span><a href="#1-how-vibe-coding-evolved" class="header-anchor">#</a></h1><ul><li>The first wave of â€œprompt-to-appâ€ tools focused on code completion and scaffolding; engineers still had to validate, deploy, and roll back changes by hand.</li><li>Between 2024 and 2025, Google, OpenAI, and Anthropic embedded generative abilities into IDEs, terminals, and cloud platforms, building agents that span the full loop of â€œgenerate â†’ verify â†’ ship â†’ iterateâ€.</li><li>The new generation is defined by autonomy: asynchronous execution, multi-agent division of work, automatic snapshots&#x2F;rewinds, and native integration with existing CI&#x2F;CD toolchains. The job has shifted from â€œwriting codeâ€ to â€œdriving projectsâ€.</li></ul><h1><span id="2-agent-profiles">2. Agent Profiles</span><a href="#2-agent-profiles" class="header-anchor">#</a></h1><h2><span id="2-1-google-jules">2.1 Google Jules</span><a href="#2-1-google-jules" class="header-anchor">#</a></h2><ul><li>Powered by Gemini 2.5 Pro. Typical flow: â€œaccept a ticket â†’ clone the repo â†’ operate inside a Google Cloud VM â†’ open a pull requestâ€.</li><li>Ships Environment Snapshots that persist dependency setup scripts and system state, ideal for teams that frequently switch branches or need rapid environment recovery.</li><li>Pricing is quota-based: the free tier allows 15 tasks per day, while Pro and Ultra tiers multiply concurrency by 5Ã— and 20Ã— respectively[1].</li></ul><h2><span id="2-2-openai-codex">2.2 OpenAI Codex</span><a href="#2-2-openai-codex" class="header-anchor">#</a></h2><ul><li>Launched in 2021 and refreshed in 2025 as a dual-track solution: Codex Agents (parallel cloud workers) plus the open-source Codex CLI for on-prem execution[2].</li><li>Handles natural-language-to-code, explanations, and cross-language conversion. The Python context window reaches 14 KB, enough to reason about long call chains and instructions.</li><li>Deeply integrated with GitHub Copilot: trigger scripts via the API, or run sensitive steps locally with the CLI before handing batch work back to the cloud.</li></ul><h2><span id="2-3-claude-code">2.3 Claude Code</span><a href="#2-3-claude-code" class="header-anchor">#</a></h2><ul><li>Upgraded to Claude Sonnet 4.5 with a native VS Code extension, redesigned terminal 2.0, and automated checkpoints for one-tap rewinds[3].</li><li>Subagents, Hooks, and background tasks break work into specialized rolesâ€”running tests, linting, or deployment scripts before commits land.</li><li>The Claude Agent SDK (formerly Claude Code SDK) exposes context managers and permission frameworks so enterprises can compose vertical agents on top of the same primitives.</li></ul><h1><span id="3-capability-comparison">3. Capability Comparison</span><a href="#3-capability-comparison" class="header-anchor">#</a></h1><table><thead><tr><th>Dimension</th><th>Google Jules</th><th>OpenAI Codex</th><th>Claude Code</th></tr></thead><tbody><tr><td>Autonomy Model</td><td>Asynchronous task queue + cloud VM; auto-generated PRs</td><td>Parallel cloud agents + local CLI; API-first orchestration</td><td>In-place terminal&#x2F;VS Code collaboration; subagent fan-out</td></tr><tr><td>Runtime Environment</td><td>Hosted on Google Cloud with Environment Snapshots</td><td>Choose between OpenAI cloud and local CLI; bring-your-own runtime</td><td>Primarily local execution; Agent SDK connects to private infrastructure</td></tr><tr><td>Review &amp; Control</td><td>PR workflow plus snapshots for traceability</td><td>Requires your own review gates or GitHub&#x2F;CI integrations</td><td>Checkpoints + Hooks automate tests and rollbacks</td></tr><tr><td>Cost Model</td><td>Tiered quotas per day</td><td>Pay-as-you-go API; CLI is open source</td><td>Included with Claude subscription</td></tr><tr><td>Ecosystem Links</td><td>GitHub, Google Cloud, Cloud Build</td><td>GitHub, OpenAI API ecosystem</td><td>VS Code, terminals, Agent SDK, third-party tooling</td></tr></tbody></table><h1><span id="4-workflow-amp-collaboration">4. Workflow &amp; Collaboration</span><a href="#4-workflow-amp-collaboration" class="header-anchor">#</a></h1><ul><li><strong>Kick-off</strong>: Jules clones the repo and prepares a VM automatically; Codex can scaffold projects straight from natural language; Claude Code loads existing workspaces in VS Code or the terminal and highlights inline diffs.</li><li><strong>During development</strong>: Jules fits asynchronous â€œassign and awaitâ€ patterns; Codex CLI and cloud agents can run several branches in parallel; Claude Code delegates front-end, back-end, testing, and platform work to subagents while Hooks inject unit tests, lint jobs, or deploy scripts into the loop.</li><li><strong>Delivery</strong>: Jules posts PRs for human review; Codex can trigger your CI&#x2F;CD via API; Claude Code combines checkpoints and the &#x2F;rewind command to revert any agent-made change during large refactors, while Hooks block merges that fail quality gates.</li></ul><h1><span id="5-security-compliance-amp-observability">5. Security, Compliance &amp; Observability</span><a href="#5-security-compliance-amp-observability" class="header-anchor">#</a></h1><ul><li><strong>Data residency</strong>: Jules executes on Google Cloud, so repository access and compliance boundaries must be explicit. Codex cloud agents upload code to OpenAI; switch to the local CLI when you need strict control. Claude Code defaults to local execution, and the Agent SDK lets you deploy under private governance.</li><li><strong>Permissions &amp; rollback</strong>: Jules relies on GitHub permissions plus snapshots. Codex depends on Git with external audit logging. Claude Code pairs checkpoints, subagent permissions, and Hooks so every action is traceable and reversible.</li><li><strong>Failure handling</strong>: Julesâ€™ asynchronous flow may surface issues later, but PR review keeps humans in the loop. Codex users must watch for conflicts across parallel tasks. Claude Code immediately feeds test failures back through Hooks and pauses the pipeline.</li></ul><h1><span id="6-typical-selection-scenarios">6. Typical Selection Scenarios</span><a href="#6-typical-selection-scenarios" class="header-anchor">#</a></h1><ul><li><strong>Cloud-native DevOps teams</strong>: If your stack already lives on Google Cloud and you prefer delegating tasks end-to-end, Jules delivers the smoothest combination of async agents, snapshots, and PR workflows.</li><li><strong>Polyglot platform teams</strong>: Codex shines when you need one agent to juggle Python, JavaScript, Go, or other languages, and orchestrate them through APIs.</li><li><strong>Enterprises building an â€œAI teammateâ€</strong>: Claude Codeâ€™s subagents, Hooks, and SDK excel when the organization prioritizes process governance, role separation, and institutional knowledge capture.</li><li><strong>Hybrid playbooks</strong>: Generate the first cut with Codex CLI, then hand refactoring and verification to Claude Code; or let Jules handle cloud deployment while sensitive internal changes stay on local agents.</li></ul><h1><span id="7-where-the-field-is-heading">7. Where the Field Is Heading</span><a href="#7-where-the-field-is-heading" class="header-anchor">#</a></h1><ul><li>Agents will keep moving toward â€œproject managerâ€ statusâ€”coordinating subagents, advancing CI&#x2F;CD, and syncing project state, not just emitting code snippets.</li><li>Observability and cost governance will decide adoption: asynchronous queues need SLAs, local CLIs demand cost dashboards, and enterprises must introduce AI-agent scorecards similar to human engineering metrics.</li><li>Ecosystem battles are inevitable: Jules anchors itself in cloud management, Codex leans into API + CLI flexibility, and Claude Code uses its SDK to cultivate a customizable engineering workforce.</li></ul><h1><span id="8-practical-playbook">8. Practical Playbook</span><a href="#8-practical-playbook" class="header-anchor">#</a></h1><ol><li><strong>Clarify the goal</strong>: Are you asking the agent to â€œwrite codeâ€ or to â€œown a deliverableâ€? The answer dictates the guardrails you need.</li><li><strong>Grant autonomy gradually</strong>: Start with scripts or test updates, then move toward core features and release workflows once the agent proves reliable.</li><li><strong>Wire monitoring early</strong>: Route logs, snapshots, and test results into your existing observability stack regardless of platform choice.</li><li><strong>Retrospect continuously</strong>: Record agent wins and misses to improve prompts, Hook triggers, or subagent playbooks.</li><li><strong>Experiment cross-platform</strong>: Combine tools in live projects to exploit each agentâ€™s strengths and cover blind spots.</li></ol><h1><span id="9-references">9. References</span><a href="#9-references" class="header-anchor">#</a></h1><ul><li>[1] TechCrunch, â€œGoogleâ€™s AI coding agent Jules is now out of beta,â€ <a href="https://techcrunch.com/2025/08/06/googles-ai-coding-agent-jules-is-now-out-of-beta/">https://techcrunch.com/2025/08/06/googles-ai-coding-agent-jules-is-now-out-of-beta/</a></li><li>[2] OpenAI, â€œOpenAI Codex,â€ <a href="https://openai.com/blog/openai-codex">https://openai.com/blog/openai-codex</a></li><li>[3] Anthropic, â€œEnabling Claude Code to work more autonomously,â€ <a href="https://www.anthropic.com/news/enabling-claude-code-to-work-more-autonomously">https://www.anthropic.com/news/enabling-claude-code-to-work-more-autonomously</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;table-of-contents&quot;&gt;Table of Contents&lt;/span&gt;&lt;a href=&quot;#table-of-contents&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-</summary>
      
    
    
    
    
    <category term="#AI" scheme="https://imchenway.com/tags/AI/"/>
    
    <category term="#Tools" scheme="https://imchenway.com/tags/Tools/"/>
    
    <category term="#VIBE" scheme="https://imchenway.com/tags/VIBE/"/>
    
  </entry>
  
  <entry>
    <title>è·¨ç»ˆç«¯ Vibe Coding æ–¹æ¡ˆï¼šç”¨ Telegram Bot éšèµ°éšå†™</title>
    <link href="https://imchenway.com/zh-CN/vibeBot-%E5%AE%9E%E6%88%98%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/"/>
    <id>https://imchenway.com/zh-CN/vibeBot-%E5%AE%9E%E6%88%98%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/</id>
    <published>2025-09-27T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.627Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#1-xiang-mu-gai-lan">1. é¡¹ç›®æ¦‚è§ˆ</a></li><li><a href="#2-kuai-su-shang-shou-liu-cheng">2. å¿«é€Ÿä¸Šæ‰‹æµç¨‹</a></li><li><a href="#3-chang-yong-cao-zuo-qing-dan">3. å¸¸ç”¨æ“ä½œæ¸…å•</a></li><li><a href="#4-ri-zhi-yu-jian-kong-yao-dian">4. æ—¥å¿—ä¸ç›‘æ§è¦ç‚¹</a></li><li><a href="#5-mo-xing-qie-huan-yu-context7-zeng-qiang">5. æ¨¡å‹åˆ‡æ¢ä¸ Context7 å¢å¼º</a></li><li><a href="#6-faq-yu-pai-zhang">6. FAQ ä¸æ’éšœ</a></li><li><a href="#7-zui-jia-shi-jian-yu-an-quan-jian-yi">7. æœ€ä½³å®è·µä¸å®‰å…¨å»ºè®®</a></li><li><a href="#8-can-kao-zi-liao">8. å‚è€ƒèµ„æ–™</a></li></ul><!-- tocstop --></div><h1><span id="1-xiang-mu-gai-lan">1. é¡¹ç›®æ¦‚è§ˆ</span><a href="#1-xiang-mu-gai-lan" class="header-anchor">#</a></h1><ul><li>vibeBot æ˜¯ä¸€å¥—â€œTelegram â†’ Mac CLI â†’ Telegram å›æ¨â€çš„è‡ªåŠ¨åŒ–å·¥ä½œæµï¼Œæ ¸å¿ƒç”± <code>bot.py</code>ï¼ˆaiogram 3 Workerï¼‰é©±åŠ¨ï¼Œé€šè¿‡ tmux ä¸æœ¬åœ°æ¨¡å‹ CLI åä½œï¼Œå…³é”®æ­¥éª¤æ•´ç†è‡ª <code>/Users/david/hypha/tools/vibeBot/README.md</code>ï¼Œäº¦å¯é…åˆ <a href="https://github.com/upstash/context7/blob/master/README.md">Context7 å®˜æ–¹è¯´æ˜</a> è·å–æœ€æ–°æ–‡æ¡£ä¸Šä¸‹æ–‡ã€‚</li><li>é¡¹ç›®ä¸»ç›®å½•åˆ†ä¸ºä¸‰ç±»ï¼šè¿è¡Œè„šæœ¬ (<code>scripts/*.sh</code>)ã€æ¨¡å‹é…ç½® (<code>scripts/models/*.sh</code>)ã€è¿è¡Œæ—¥å¿— (<code>logs/&lt;model&gt;/&lt;project&gt;/â€¦</code>)ï¼Œç»“åˆ <code>.env</code> ä¸ <code>config/projects.json</code> ç®¡ç†å¤šé¡¹ç›®å®ä¾‹ã€‚</li><li>å®šä½ï¼šæä¾›ç»Ÿä¸€çš„ master bot æ§åˆ¶å…¥å£ï¼ŒåŒæ—¶ä¸ºæ¯ä¸ªé¡¹ç›®å¯åŠ¨ç‹¬ç«‹ workerï¼Œæ»¡è¶³å¤šæ¨¡å‹ï¼ˆCodex&#x2F;ClaudeCode&#x2F;Geminiï¼‰å¹¶è¡Œå¤„ç†éœ€æ±‚ã€‚</li></ul><h1><span id="2-kuai-su-shang-shou-liu-cheng">2. å¿«é€Ÿä¸Šæ‰‹æµç¨‹</span><a href="#2-kuai-su-shang-shou-liu-cheng" class="header-anchor">#</a></h1><ol><li>å‡†å¤‡ç¯å¢ƒï¼šç¡®ä¿ macOS å…·å¤‡ Python 3.11+ã€tmuxã€Telegram Bot Tokenã€‚</li><li>åˆå§‹åŒ–é…ç½®ï¼š<ul><li>å¤åˆ¶æ¨¡æ¿ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/vibeBot</span><br><span class="line"><span class="built_in">cp</span> .env.example .<span class="built_in">env</span></span><br><span class="line"><span class="built_in">cp</span> config/projects.sample.json config/projects.json</span><br></pre></td></tr></table></figure></li><li>åœ¨ <code>.env</code> ä¸­ä»…å¡«å†™ master ä¾§å‚æ•°ï¼š<code>MASTER_BOT_TOKEN</code>ã€<code>MASTER_WHITELIST</code>ã€<code>MODEL_DEFAULT</code>ã€<code>TMUX_SESSION_PREFIX</code> ç­‰ã€‚</li><li>åœ¨ <code>config/projects.json</code> ä¸ºæ¯ä¸ªé¡¹ç›®å†™å…¥ <code>bot_name</code>ã€<code>bot_token</code>ã€<code>project_slug</code>ã€<code>default_model</code>ã€<code>workdir</code> ç­‰å­—æ®µï¼Œ<code>allowed_chat_id</code> ç•™ç©ºå¯è‡ªåŠ¨è®°å½•é¦–ä¸ªåˆæ³•ä¼šè¯ã€‚</li></ul></li><li>å¯åŠ¨å¹¶éªŒè¯ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./scripts/run_bot.sh --model codex --project mall-backend</span><br><span class="line"><span class="built_in">tail</span> -f logs/codex/mall-backend/run_bot.log</span><br></pre></td></tr></table></figure><ul><li><code>run_bot.sh</code> è‡ªåŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒã€å®‰è£…ä¾èµ–ã€å¯åŠ¨ tmux sessionï¼Œå†è°ƒç”¨æ¨¡å‹ CLI ä¸ <code>bot.py</code>ã€‚</li><li>å¦‚éœ€å‰å°è°ƒè¯•ï¼Œå¯è¿½åŠ  <code>--foreground</code>ï¼›è¦è·³è¿‡é¢„å…ˆ stopï¼ŒåŠ  <code>--no-stop</code>ã€‚</li></ul></li><li>åœæ­¢æˆ–åˆ‡æ¢ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./scripts/stop_bot.sh --model codex --project mall-backend</span><br><span class="line">./scripts/run_bot.sh --model claudecode --project mall-backend</span><br></pre></td></tr></table></figure><ul><li><code>stop_bot.sh</code> ä¼šå°è¯• <code>tmux kill-session</code>ã€ç»“æŸ <code>bot.pid</code> æŒ‡å®šè¿›ç¨‹å¹¶æ¸…ç†ç¼“å­˜ï¼Œç¡®ä¿åˆ‡æ¢æ¨¡å‹æ—¶å¹‚ç­‰ã€‚</li></ul></li></ol><h1><span id="3-chang-yong-cao-zuo-qing-dan">3. å¸¸ç”¨æ“ä½œæ¸…å•</span><a href="#3-chang-yong-cao-zuo-qing-dan" class="header-anchor">#</a></h1><table><thead><tr><th>åœºæ™¯</th><th>è„šæœ¬&#x2F;å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å¯åŠ¨ worker</td><td><code>./scripts/run_bot.sh --model &lt;name&gt; --project &lt;slug&gt;</code></td><td>è‡ªåŠ¨å»º venvã€å¯¼å…¥é…ç½®å¹¶åå°è¿è¡Œï¼Œå¯åŠ  <code>--foreground</code> è°ƒè¯•</td></tr><tr><td>åœæ­¢ worker</td><td><code>./scripts/stop_bot.sh --model &lt;name&gt; --project &lt;slug&gt;</code></td><td>å…³é—­ tmux session ä¸ <code>bot.py</code>ï¼Œåˆ é™¤ä¸´æ—¶çŠ¶æ€</td></tr><tr><td>æŸ¥çœ‹æ¨¡å‹æ—¥å¿—</td><td><code>tail -f logs/&lt;model&gt;/&lt;project&gt;/model.log</code></td><td>ç”± tmux pipe-pane æ•è·æ¨¡å‹ CLI è¾“å‡ºï¼Œæ’æŸ¥ä¸Šä¸‹æ–‡æ³¨å…¥æ˜¯å¦æˆåŠŸ</td></tr><tr><td>æŸ¥çœ‹è¿è¡Œæ—¥å¿—</td><td><code>tail -f logs/&lt;model&gt;/&lt;project&gt;/run_bot.log</code></td><td>è®°å½•è„šæœ¬å¯åŠ¨æµç¨‹ã€<code>.env</code> è§£æã€ä¾èµ–å®‰è£…ä¿¡æ¯</td></tr><tr><td>å½“å‰ä¼šè¯å®šä½</td><td><code>cat logs/&lt;model&gt;/&lt;project&gt;/current_session.txt</code></td><td>å­˜å‚¨ JSONL ä¼šè¯è·¯å¾„ï¼Œä¾¿äºè¿½è¸ªåŒä¸€å¯¹è¯ä¸Šä¸‹æ–‡</td></tr><tr><td>Master æ§åˆ¶</td><td><code>/projects</code>ã€<code>/run &lt;project&gt;</code>ã€<code>/stop &lt;project&gt;</code></td><td>é€šè¿‡ç®¡ç†å‘˜ botï¼ˆ<code>MASTER_BOT_TOKEN</code>ï¼‰ç»Ÿä¸€æŒ‡æŒ¥ï¼ŒçŠ¶æ€å†™å…¥ <code>state/state.json</code></td></tr></tbody></table><h1><span id="4-ri-zhi-yu-jian-kong-yao-dian">4. æ—¥å¿—ä¸ç›‘æ§è¦ç‚¹</span><a href="#4-ri-zhi-yu-jian-kong-yao-dian" class="header-anchor">#</a></h1><ul><li>ç›®å½•ç»“æ„ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">logs/</span><br><span class="line">  â””â”€ codex/</span><br><span class="line">      â””â”€ mall-backend/</span><br><span class="line">           â”œâ”€ run_bot.log</span><br><span class="line">           â”œâ”€ model.log</span><br><span class="line">           â”œâ”€ bot.pid</span><br><span class="line">           â””â”€ current_session.txt</span><br></pre></td></tr></table></figure></li><li>è¯Šæ–­å»ºè®®ï¼š<ul><li><code>run_bot.log</code> å…³æ³¨è™šæ‹Ÿç¯å¢ƒåˆ›å»ºã€ä¾èµ–å®‰è£…ä¸ tmux session åç§°ã€‚</li><li><code>model.log</code> å¯æ ¡éªŒå‘½ä»¤æ³¨å…¥ä¸æ¨¡å‹è¾“å‡ºæ˜¯å¦è¶…æ—¶ã€‚</li><li><code>current_session.txt</code> æŒ‡å‘ JSONL å†å²è®°å½•ï¼Œå‡ºé”™æ—¶å¯é…åˆ Context7 è°ƒå–ä»£ç æ–‡æ¡£ï¼Œå¿«é€Ÿå®šä½ promptã€‚</li></ul></li></ul><h1><span id="5-mo-xing-qie-huan-yu-context7-zeng-qiang">5. æ¨¡å‹åˆ‡æ¢ä¸ Context7 å¢å¼º</span><a href="#5-mo-xing-qie-huan-yu-context7-zeng-qiang" class="header-anchor">#</a></h1><ul><li><code>scripts/models/</code> ç›®å½•åˆ†åˆ«ç»´æŠ¤ <code>codex.sh</code>ã€<code>claudecode.sh</code>ã€<code>gemini.sh</code>ï¼Œå…¬å…±é€»è¾‘åœ¨ <code>common.sh</code>ï¼Œç¡®ä¿äº’ä¸å¹²æ‰°ã€‚</li><li>åˆ‡æ¢æ­¥éª¤ï¼šå…ˆæ‰§è¡Œ <code>stop_bot.sh --model &lt;æ—§&gt;</code>ï¼Œå† <code>run_bot.sh --model &lt;æ–°&gt;</code>ï¼Œ<code>ACTIVE_MODEL</code> ä¼šåœ¨ <code>/start</code> å›å¤ä¸­æç¤ºã€‚</li><li>åœ¨ Cursor ç­‰ IDE ä¸­ï¼Œå¯ç›´æ¥åœ¨ prompt æœ«å°¾è¿½åŠ  <code>use context7</code>ï¼Œå³æ—¶æ‹‰å–ä¾èµ–åº“æˆ–è„šæœ¬çš„æœ€æ–°æ–‡æ¡£ç¤ºä¾‹ï¼š<a href="https://github.com/upstash/context7/blob/master/README.md">å®˜æ–¹è¯´æ˜</a>ã€‚</li><li>CLI é›†æˆç¤ºä¾‹ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx @upstash/context7-mcp@latest --transport stdio</span><br></pre></td></tr></table></figure><ul><li>ç»“åˆ vibeBotï¼Œå¯åœ¨ watcher é˜¶æ®µè¯»å– Context7 è¿”å›çš„ä¸Šä¸‹æ–‡ç‰‡æ®µï¼Œæé«˜å¤šæ¨¡å‹ååŒå‡†ç¡®åº¦ã€‚</li></ul></li></ul><h1><span id="6-faq-yu-pai-zhang">6. FAQ ä¸æ’éšœ</span><a href="#6-faq-yu-pai-zhang" class="header-anchor">#</a></h1><ul><li><strong>ä¸ºä½• <code>.env</code> åªé…ç½® masterï¼Ÿ</strong> é¡¹ç›®çº§ Token æ”¾åœ¨ <code>config/projects.json</code>ï¼Œä¾¿äºæŒ‰é¡¹ç›®æˆæƒä¸ç‰ˆæœ¬æ§åˆ¶ã€‚</li><li><strong><code>allowed_chat_id</code> ä¸ºç©ºä¼šæ€æ ·ï¼Ÿ</strong> worker é¦–æ¬¡æ”¶åˆ°åˆæ³•æ¶ˆæ¯ä¼šå†™å…¥ <code>state/state.json</code>ï¼Œåç»­è‡ªåŠ¨é‰´æƒã€‚</li><li><strong>å¦‚ä½•å®šä½å‘½ä»¤æœªæ‰§è¡Œï¼Ÿ</strong> æŸ¥çœ‹ <code>model.log</code> æ˜¯å¦å­˜åœ¨ prompt æ³¨å…¥æ—¥å¿—ï¼Œå¿…è¦æ—¶è¿›å…¥ tmux ä¼šè¯æ‰‹å·¥è¾“å…¥ã€‚</li><li><strong>tmux ä¼šè¯æ®‹ç•™æ€ä¹ˆåŠï¼Ÿ</strong> <code>stop_bot.sh</code> å·²å¯¹ <code>tmux kill-session</code> å’Œ <code>bot.pid</code> åšäº†å¹‚ç­‰å¤„ç†ï¼Œè‹¥ä»å­˜åœ¨éœ€æ‰‹åŠ¨ <code>tmux ls</code> æ’æŸ¥ï¼ŒåŒæ­¥æ¸…ç†ã€‚</li><li><strong>æ—¥å¿—è¿‡å¤§</strong>ï¼šå®šæœŸæ¸…ç† <code>logs/&lt;model&gt;/&lt;project&gt;/</code> æˆ–è°ƒæ•´è„šæœ¬è¾“å‡ºé˜ˆå€¼ï¼›æ³¨æ„ä¸è¦åˆ é™¤å½“å‰ä¼šè¯ JSONLã€‚</li></ul><h1><span id="7-zui-jia-shi-jian-yu-an-quan-jian-yi">7. æœ€ä½³å®è·µä¸å®‰å…¨å»ºè®®</span><a href="#7-zui-jia-shi-jian-yu-an-quan-jian-yi" class="header-anchor">#</a></h1><ul><li>ä¸è¦å°† <code>.env</code>ã€<code>config/projects.json</code> æäº¤ç‰ˆæœ¬åº“ï¼›æ•æ„Ÿ Token æ”¹ç”¨ CI&#x2F;CD å¯†é’¥æˆ– macOS é’¥åŒ™ä¸²ã€‚</li><li>åˆ‡æ¢æ¨¡å‹å‰åŠ¡å¿…æ‰§è¡Œ <code>stop_bot.sh</code>ï¼Œé¿å…å¤šå®ä¾‹äº‰ç”¨ tmux åç§°æˆ– JSONL æ–‡ä»¶ã€‚</li><li>å»ºè®®å°† <code>run_bot.log</code>ã€<code>model.log</code> çº³å…¥é›†ä¸­æ—¥å¿—ç³»ç»Ÿï¼Œé…åˆ Context7 æ£€ç´¢æœ€æ–°è„šæœ¬å˜æ›´ã€‚</li><li>å®šæœŸè¿è¡Œ <code>./scripts/stop_bot.sh --model &lt;name&gt; --project &lt;slug&gt;</code> åšå¥åº·æ£€æŸ¥ï¼Œç¡®è®¤ <code>bot.pid</code> å·²é‡Šæ”¾ã€‚</li></ul><h1><span id="8-can-kao-zi-liao">8. å‚è€ƒèµ„æ–™</span><a href="#8-can-kao-zi-liao" class="header-anchor">#</a></h1><ul><li><code>/Users/david/hypha/tools/vibeBot/README.md</code></li><li>Context7 MCP å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://github.com/upstash/context7/blob/master/README.md">https://github.com/upstash/context7/blob/master/README.md</a></li><li>Hexo å†™ä½œè§„èŒƒï¼š<a href="https://hexo.io/docs/writing">https://hexo.io/docs/writing</a></li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    
    <category term="#AI" scheme="https://imchenway.com/tags/AI/"/>
    
    <category term="#Tools" scheme="https://imchenway.com/tags/Tools/"/>
    
    <category term="#VIBE" scheme="https://imchenway.com/tags/VIBE/"/>
    
  </entry>
  
  <entry>
    <title>æŠ€æœ¯é¢†å¯¼è€…çš„æˆé•¿è·¯å¾„ä¸èƒ½åŠ›æ¨¡å‹</title>
    <link href="https://imchenway.com/zh-CN/TPM-%E6%8A%80%E6%9C%AF%E9%A2%86%E5%AF%BC%E8%80%85%E7%9A%84%E6%88%90%E9%95%BF%E8%B7%AF%E5%BE%84%E4%B8%8E%E8%83%BD%E5%8A%9B%E6%A8%A1%E5%9E%8B/"/>
    <id>https://imchenway.com/zh-CN/TPM-%E6%8A%80%E6%9C%AF%E9%A2%86%E5%AF%BC%E8%80%85%E7%9A%84%E6%88%90%E9%95%BF%E8%B7%AF%E5%BE%84%E4%B8%8E%E8%83%BD%E5%8A%9B%E6%A8%A1%E5%9E%8B/</id>
    <published>2025-09-25T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.626Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#yin-yan">å¼•è¨€</a></li><li><a href="#cheng-chang-lu-jing">æˆé•¿è·¯å¾„</a></li><li><a href="#neng-li-mo-xing">èƒ½åŠ›æ¨¡å‹</a></li><li><a href="#pei-yang-ce-lue">åŸ¹å…»ç­–ç•¥</a></li><li><a href="#zong-jie">æ€»ç»“</a></li><li><a href="#can-kao-zi-liao">å‚è€ƒèµ„æ–™</a></li></ul><!-- tocstop --></div><h1><span id="yin-yan">å¼•è¨€</span><a href="#yin-yan" class="header-anchor">#</a></h1><blockquote><p>æŠ€æœ¯é¢†å¯¼è€…ï¼ˆTech Leadã€Engineering Managerã€CTOï¼‰éœ€è¦å…¼é¡¾æŠ€æœ¯ä¸ç®¡ç†ã€‚æœ¬æ–‡æ€»ç»“æˆé•¿è·¯å¾„ã€èƒ½åŠ›æ¨¡å‹ä¸å‘å±•å»ºè®®ã€‚</p></blockquote><h1><span id="cheng-chang-lu-jing">æˆé•¿è·¯å¾„</span><a href="#cheng-chang-lu-jing" class="header-anchor">#</a></h1><ul><li>Individual Contributor â†’ Tech Lead â†’ Manager â†’ Director&#x2F;VP&#x2F;CTOï¼›</li><li>ä¸åŒè·¯å¾„ï¼ˆæŠ€æœ¯ä¸“å®¶ vs ç®¡ç†ï¼‰å¹¶è¡Œï¼›</li><li>éšé˜¶æ®µè°ƒæ•´èŒè´£ä¸ç›®æ ‡ã€‚</li></ul><h1><span id="neng-li-mo-xing">èƒ½åŠ›æ¨¡å‹</span><a href="#neng-li-mo-xing" class="header-anchor">#</a></h1><ul><li>æŠ€æœ¯æ·±åº¦ï¼šæ¶æ„ã€å·¥ç¨‹å®è·µï¼›</li><li>é¢†å¯¼åŠ›ï¼šæ²Ÿé€šã€å†³ç­–ã€æˆæƒï¼›</li><li>æˆ˜ç•¥æ€ç»´ï¼šä¸šåŠ¡æ´å¯Ÿã€è§„åˆ’ï¼›</li><li>ç»„ç»‡èƒ½åŠ›ï¼šå›¢é˜Ÿå»ºè®¾ã€åä½œï¼›</li><li>å­¦ä¹ åŠ›ï¼šæŒç»­æ›´æ–°çŸ¥è¯†ã€‚</li></ul><h1><span id="pei-yang-ce-lue">åŸ¹å…»ç­–ç•¥</span><a href="#pei-yang-ce-lue" class="header-anchor">#</a></h1><ul><li>å¯¼å¸ˆåˆ¶åº¦ï¼ˆMentor&#x2F;Menteeï¼‰ï¼›</li><li>è½®å²—ä¸è·¨é¡¹ç›®é”»ç‚¼ï¼›</li><li>é¢†å¯¼åŠ›åŸ¹è®­ã€æ•™ç»ƒè¾…å¯¼ï¼›</li><li>å®šæœŸ 360Â° åé¦ˆï¼›</li><li>å‚ä¸ç¤¾åŒºã€å…¬å¼€åˆ†äº«ã€‚</li></ul><h1><span id="zong-jie">æ€»ç»“</span><a href="#zong-jie" class="header-anchor">#</a></h1><p>æŠ€æœ¯é¢†å¯¼è€…éœ€è¦ç»“åˆæŠ€æœ¯ã€ç®¡ç†ä¸æˆ˜ç•¥èƒ½åŠ›ã€‚é€šè¿‡æ¸…æ™°çš„æˆé•¿è·¯å¾„ä¸åŸ¹å…»ç­–ç•¥ï¼Œå¸®åŠ©ä¸ªäººä¸ç»„ç»‡å…±åŒæˆé•¿ã€‚</p><h1><span id="can-kao-zi-liao">å‚è€ƒèµ„æ–™</span><a href="#can-kao-zi-liao" class="header-anchor">#</a></h1><ul><li>[1] Google Engineering Management Playbook.</li><li>[2] Camille Fournier, <em>The Managerâ€™s Path</em>.</li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    
    <category term="#TPM" scheme="https://imchenway.com/tags/TPM/"/>
    
  </entry>
  
  <entry>
    <title>é«˜ç»©æ•ˆå›¢é˜Ÿçš„äººæ‰ç­–ç•¥ä¸æ¢¯é˜Ÿå»ºè®¾</title>
    <link href="https://imchenway.com/zh-CN/TPM-%E9%AB%98%E7%BB%A9%E6%95%88%E5%9B%A2%E9%98%9F%E7%9A%84%E4%BA%BA%E6%89%8D%E7%AD%96%E7%95%A5%E4%B8%8E%E6%A2%AF%E9%98%9F%E5%BB%BA%E8%AE%BE/"/>
    <id>https://imchenway.com/zh-CN/TPM-%E9%AB%98%E7%BB%A9%E6%95%88%E5%9B%A2%E9%98%9F%E7%9A%84%E4%BA%BA%E6%89%8D%E7%AD%96%E7%95%A5%E4%B8%8E%E6%A2%AF%E9%98%9F%E5%BB%BA%E8%AE%BE/</id>
    <published>2025-09-15T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.627Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#yin-yan">å¼•è¨€</a></li><li><a href="#ren-cai-ce-lue">äººæ‰ç­–ç•¥</a></li><li><a href="#ti-dui-jian-she">æ¢¯é˜Ÿå»ºè®¾</a></li><li><a href="#bao-liu-yu-ji-li">ä¿ç•™ä¸æ¿€åŠ±</a></li><li><a href="#zong-jie">æ€»ç»“</a></li><li><a href="#can-kao-zi-liao">å‚è€ƒèµ„æ–™</a></li></ul><!-- tocstop --></div><h1><span id="yin-yan">å¼•è¨€</span><a href="#yin-yan" class="header-anchor">#</a></h1><blockquote><p>é«˜ç»©æ•ˆå›¢é˜Ÿéœ€è¦æ¸…æ™°çš„äººæ‰ç­–ç•¥ä¸æ¢¯é˜Ÿå»ºè®¾ã€‚æœ¬æ–‡åˆ†äº«æ‹›è˜ã€åŸ¹å…»ã€æ™‹å‡ä¸ç•™ä»»ç­–ç•¥ã€‚</p></blockquote><h1><span id="ren-cai-ce-lue">äººæ‰ç­–ç•¥</span><a href="#ren-cai-ce-lue" class="header-anchor">#</a></h1><ul><li>è¯†åˆ«å…³é”®å²—ä½ä¸èƒ½åŠ›æ¨¡å‹ï¼›</li><li>å»ºç«‹äººæ‰åœ°å›¾ï¼ˆæ½œåŠ›ã€ç»©æ•ˆï¼‰ï¼›</li><li>æ‹›è˜ä¸é€‰æ‹”æµç¨‹æ ‡å‡†åŒ–ï¼›</li><li>æ ¡æ‹›ç”Ÿã€ç¤¾æ‹›ã€å¤–åŒ…æ¯”ä¾‹è§„åˆ’ã€‚</li></ul><h1><span id="ti-dui-jian-she">æ¢¯é˜Ÿå»ºè®¾</span><a href="#ti-dui-jian-she" class="header-anchor">#</a></h1><ul><li>èŒçº§ä½“ç³»ä¸æ™‹å‡æ ‡å‡†ï¼›</li><li>å¯¼å¸ˆåˆ¶åº¦ä¸åŸ¹è®­è®¡åˆ’ï¼›</li><li>æŠ€æœ¯å§”å‘˜ä¼šè¯„å®¡æ™‹å‡ï¼›</li><li>é¢†å¯¼åŠ›å‘å±•ï¼ˆTech Leadã€Managerï¼‰ã€‚</li></ul><h1><span id="bao-liu-yu-ji-li">ä¿ç•™ä¸æ¿€åŠ±</span><a href="#bao-liu-yu-ji-li" class="header-anchor">#</a></h1><ul><li>ç»©æ•ˆå¥–åŠ±ã€è‚¡æƒæ¿€åŠ±ï¼›</li><li>å…³æ³¨å‘˜å·¥æ»¡æ„åº¦ã€ç¦»èŒé¢è°ˆï¼›</li><li>æ–‡åŒ–ä¸æˆé•¿æœºä¼šã€‚</li></ul><h1><span id="zong-jie">æ€»ç»“</span><a href="#zong-jie" class="header-anchor">#</a></h1><p>ç³»ç»ŸåŒ–çš„äººæ‰ç­–ç•¥ä¸æ¢¯é˜Ÿå»ºè®¾ä¿éšœæŠ€æœ¯å›¢é˜ŸæŒç»­å‘å±•ã€‚é€šè¿‡æ‹›è˜ã€åŸ¹å…»ä¸æ¿€åŠ±é—­ç¯ï¼Œæ‰“é€ é«˜ç»©æ•ˆå›¢é˜Ÿã€‚</p><h1><span id="can-kao-zi-liao">å‚è€ƒèµ„æ–™</span><a href="#can-kao-zi-liao" class="header-anchor">#</a></h1><ul><li>[1] Netflix Talent Density Strategy.</li><li>[2] Google Engineering Ladder.</li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    
    <category term="#TPM" scheme="https://imchenway.com/tags/TPM/"/>
    
  </entry>
  
  <entry>
    <title>å·¥ç¨‹æ–‡åŒ–å»ºè®¾è·¯å¾„ä¸å®è·µ</title>
    <link href="https://imchenway.com/zh-CN/TPM-%E5%B7%A5%E7%A8%8B%E6%96%87%E5%8C%96%E5%BB%BA%E8%AE%BE%E8%B7%AF%E5%BE%84%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    <id>https://imchenway.com/zh-CN/TPM-%E5%B7%A5%E7%A8%8B%E6%96%87%E5%8C%96%E5%BB%BA%E8%AE%BE%E8%B7%AF%E5%BE%84%E4%B8%8E%E5%AE%9E%E8%B7%B5/</id>
    <published>2025-09-05T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.626Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#yin-yan">å¼•è¨€</a></li><li><a href="#he-xin-yao-su">æ ¸å¿ƒè¦ç´ </a></li><li><a href="#jian-she-lu-jing">å»ºè®¾è·¯å¾„</a></li><li><a href="#shi-jian-an-li">å®è·µæ¡ˆä¾‹</a></li><li><a href="#zong-jie">æ€»ç»“</a></li><li><a href="#can-kao-zi-liao">å‚è€ƒèµ„æ–™</a></li></ul><!-- tocstop --></div><h1><span id="yin-yan">å¼•è¨€</span><a href="#yin-yan" class="header-anchor">#</a></h1><blockquote><p>å·¥ç¨‹æ–‡åŒ–å†³å®šå›¢é˜Ÿçš„æ‰§è¡ŒåŠ›ä¸åˆ›æ–°èƒ½åŠ›ã€‚æœ¬æ–‡åˆ†äº«å·¥ç¨‹æ–‡åŒ–çš„æ ¸å¿ƒè¦ç´ ã€å»ºè®¾è·¯å¾„ä¸å®è·µæ¡ˆä¾‹ã€‚</p></blockquote><h1><span id="he-xin-yao-su">æ ¸å¿ƒè¦ç´ </span><a href="#he-xin-yao-su" class="header-anchor">#</a></h1><ul><li>ç›®æ ‡ä¸ä»·å€¼è§‚ï¼›</li><li>æ²Ÿé€šé€æ˜ä¸ä¿¡ä»»ï¼›</li><li>æŠ€æœ¯å“è¶Šä¸æŒç»­å­¦ä¹ ï¼›</li><li>å®¢æˆ·å¯¼å‘ä¸ç»“æœå¯¼å‘ï¼›</li><li>å®‰å…¨ä¸è´¨é‡æ„è¯†ã€‚</li></ul><h1><span id="jian-she-lu-jing">å»ºè®¾è·¯å¾„</span><a href="#jian-she-lu-jing" class="header-anchor">#</a></h1><ol><li>å®šä¹‰æ„¿æ™¯ä¸æ–‡åŒ–å®£è¨€ï¼›</li><li>ç»“åˆåˆ¶åº¦ï¼ˆè¯„ä¼°ã€æ¿€åŠ±ï¼‰å¼ºåŒ–è¡Œä¸ºï¼›</li><li>æ„å»ºçŸ¥è¯†åˆ†äº«æœºåˆ¶ï¼ˆTech Talkã€Guildï¼‰ï¼›</li><li>å»ºç«‹åé¦ˆæ¸ é“ï¼ˆå›è®¿ã€åŒ¿åä¿¡ç®±ï¼‰ï¼›</li><li>æŒç»­æµ‹é‡æ–‡åŒ–å¥åº·ï¼ˆSurveyï¼‰ã€‚</li></ol><h1><span id="shi-jian-an-li">å®è·µæ¡ˆä¾‹</span><a href="#shi-jian-an-li" class="header-anchor">#</a></h1><ul><li>Spotify Squad æ¨¡å¼ï¼›</li><li>Netflix Freedom &amp; Responsibilityï¼›</li><li>å›½å†…äº’è”ç½‘å…¬å¸çš„å·¥ç¨‹æ–‡åŒ–æ¨è¿›ç»éªŒã€‚</li></ul><h1><span id="zong-jie">æ€»ç»“</span><a href="#zong-jie" class="header-anchor">#</a></h1><p>å·¥ç¨‹æ–‡åŒ–éœ€è¦é•¿æœŸæŠ•å…¥ã€é¢†å¯¼å±‚ç¤ºèŒƒä¸åˆ¶åº¦æ”¯æŒã€‚è‰¯å¥½çš„æ–‡åŒ–èƒ½æå‡å›¢é˜Ÿå‡èšåŠ›ä¸æ‰§è¡ŒåŠ›ã€‚</p><h1><span id="can-kao-zi-liao">å‚è€ƒèµ„æ–™</span><a href="#can-kao-zi-liao" class="header-anchor">#</a></h1><ul><li>[1] Spotify Engineering Culture Video.</li><li>[2] Netflix Culture Memo.</li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    
    <category term="#TPM" scheme="https://imchenway.com/tags/TPM/"/>
    
  </entry>
  
  <entry>
    <title>æŠ€æœ¯é€‰å‹ä¸ä¾›åº”å•†ç®¡ç†æ¡†æ¶</title>
    <link href="https://imchenway.com/zh-CN/TPM-%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%E4%B8%8E%E4%BE%9B%E5%BA%94%E5%95%86%E7%AE%A1%E7%90%86%E6%A1%86%E6%9E%B6/"/>
    <id>https://imchenway.com/zh-CN/TPM-%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%E4%B8%8E%E4%BE%9B%E5%BA%94%E5%95%86%E7%AE%A1%E7%90%86%E6%A1%86%E6%9E%B6/</id>
    <published>2025-08-26T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.626Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#yin-yan">å¼•è¨€</a></li><li><a href="#xuan-xing-liu-cheng">é€‰å‹æµç¨‹</a></li><li><a href="#gong-ying-shang-guan-li">ä¾›åº”å•†ç®¡ç†</a></li><li><a href="#cheng-ben-yu-he-gui">æˆæœ¬ä¸åˆè§„</a></li><li><a href="#ben-di-hua-yu-zi-zhu-neng-li">æœ¬åœ°åŒ–ä¸è‡ªä¸»èƒ½åŠ›</a></li><li><a href="#zong-jie">æ€»ç»“</a></li><li><a href="#can-kao-zi-liao">å‚è€ƒèµ„æ–™</a></li></ul><!-- tocstop --></div><h1><span id="yin-yan">å¼•è¨€</span><a href="#yin-yan" class="header-anchor">#</a></h1><blockquote><p>æŠ€æœ¯é€‰å‹å’Œä¾›åº”å•†å…³ç³»å½±å“é•¿æœŸæˆæœ¬ä¸é£é™©ã€‚æœ¬æ–‡æä¾›é€‰å‹è¯„ä¼°ã€POC æµç¨‹ã€åˆåŒç®¡ç†ä¸ç»©æ•ˆè¯„ä¼°æ¡†æ¶ã€‚</p></blockquote><h1><span id="xuan-xing-liu-cheng">é€‰å‹æµç¨‹</span><a href="#xuan-xing-liu-cheng" class="header-anchor">#</a></h1><ol><li>éœ€æ±‚æ”¶é›†ä¸ä¼˜å…ˆçº§ï¼›</li><li>å€™é€‰äº§å“è°ƒç ”ä¸è®¿è°ˆï¼›</li><li>è¯„åˆ†çŸ©é˜µï¼ˆåŠŸèƒ½ã€æ€§èƒ½ã€æˆæœ¬ã€ç”Ÿæ€ï¼‰ï¼›</li><li>POC æµ‹è¯•ï¼›</li><li>å†³ç­–ä¸ç­¾çº¦ã€‚</li></ol><h1><span id="gong-ying-shang-guan-li">ä¾›åº”å•†ç®¡ç†</span><a href="#gong-ying-shang-guan-li" class="header-anchor">#</a></h1><ul><li>è®¾å®š SLAã€æ”¯æŒå“åº”ï¼›</li><li>å®šæœŸ QBRï¼ˆå­£åº¦ä¸šåŠ¡è¯„å®¡ï¼‰ï¼›</li><li>é£é™©è¯„ä¼°ï¼ˆä¾èµ–ã€é”å®šé£é™©ï¼‰ï¼›</li><li>ä¸å¤šä¾›åº”å•†å»ºç«‹å¤‡ç”¨æ–¹æ¡ˆã€‚</li></ul><h1><span id="cheng-ben-yu-he-gui">æˆæœ¬ä¸åˆè§„</span><a href="#cheng-ben-yu-he-gui" class="header-anchor">#</a></h1><ul><li>è°ˆåˆ¤ç­–ç•¥ï¼ˆåˆ†é˜¶æ®µä»˜æ¬¾ã€æŠ˜æ‰£ï¼‰ï¼›</li><li>åˆåŒæ¡æ¬¾ï¼ˆé€€å‡ºæœºåˆ¶ã€æ•°æ®å®‰å…¨ï¼‰ï¼›</li><li>åˆè§„å®¡æŸ¥ï¼ˆGDPRã€ç­‰ä¿ã€éšç§ï¼‰ã€‚</li></ul><h1><span id="ben-di-hua-yu-zi-zhu-neng-li">æœ¬åœ°åŒ–ä¸è‡ªä¸»èƒ½åŠ›</span><a href="#ben-di-hua-yu-zi-zhu-neng-li" class="header-anchor">#</a></h1><ul><li>è¯„ä¼°ä¼ä¸šè‡ªä¸»ç ”å‘èƒ½åŠ›ï¼›</li><li>æ··åˆç­–ç•¥ï¼ˆè‡ªç ” + å•†ç”¨ï¼‰ï¼›</li><li>æŠ€æœ¯åŸ¹è®­ä¸çŸ¥è¯†è½¬ç§»ã€‚</li></ul><h1><span id="zong-jie">æ€»ç»“</span><a href="#zong-jie" class="header-anchor">#</a></h1><p>æŠ€æœ¯é€‰å‹ä¸ä¾›åº”å•†ç®¡ç†éœ€è¦æ ‡å‡†åŒ–æµç¨‹ã€é£é™©æ§åˆ¶ä¸æŒç»­è¯„ä¼°ã€‚é€šè¿‡ç»“æ„åŒ–è¯„ä¼°ä¸åˆåŒç®¡ç†ï¼Œç¡®ä¿æŠ€æœ¯å†³ç­–å¯¹ä¸šåŠ¡é•¿æœŸæœ‰åˆ©ã€‚</p><h1><span id="can-kao-zi-liao">å‚è€ƒèµ„æ–™</span><a href="#can-kao-zi-liao" class="header-anchor">#</a></h1><ul><li>[1] Gartner Vendor Management Guide.</li><li>[2] McKinsey IT Sourcing Strategy.</li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    
    <category term="#TPM" scheme="https://imchenway.com/tags/TPM/"/>
    
  </entry>
  
  <entry>
    <title>ç»„ç»‡å­¦ä¹ ä¸å¤ç›˜æ–¹æ³•è®ºè½åœ°</title>
    <link href="https://imchenway.com/zh-CN/TPM-%E7%BB%84%E7%BB%87%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%A4%8D%E7%9B%98%E6%96%B9%E6%B3%95%E8%AE%BA%E8%90%BD%E5%9C%B0/"/>
    <id>https://imchenway.com/zh-CN/TPM-%E7%BB%84%E7%BB%87%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%A4%8D%E7%9B%98%E6%96%B9%E6%B3%95%E8%AE%BA%E8%90%BD%E5%9C%B0/</id>
    <published>2025-08-16T16:00:00.000Z</published>
    <updated>2026-01-21T06:41:04.626Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ben-wen-mu-lu">æœ¬æ–‡ç›®å½•</span><a href="#ben-wen-mu-lu" class="header-anchor">#</a></h3><div class="toc"><!-- toc --><ul><li><a href="#yin-yan">å¼•è¨€</a></li><li><a href="#fu-pan-kuang-jia">å¤ç›˜æ¡†æ¶</a></li><li><a href="#luo-di-liu-cheng">è½åœ°æµç¨‹</a></li><li><a href="#zhi-shi-chen-dian">çŸ¥è¯†æ²‰æ·€</a></li><li><a href="#wen-hua-jian-she">æ–‡åŒ–å»ºè®¾</a></li><li><a href="#zong-jie">æ€»ç»“</a></li><li><a href="#can-kao-zi-liao">å‚è€ƒèµ„æ–™</a></li></ul><!-- tocstop --></div><h1><span id="yin-yan">å¼•è¨€</span><a href="#yin-yan" class="header-anchor">#</a></h1><blockquote><p>ç»„ç»‡å­¦ä¹ èƒ½åŠ›å†³å®šæŒç»­è¿›æ­¥ã€‚æœ¬æ–‡ä»‹ç»å¤ç›˜æ–¹æ³•è®ºï¼ˆAARã€5 Whysã€é±¼éª¨å›¾ï¼‰ä¸è½åœ°æµç¨‹ã€‚</p></blockquote><h1><span id="fu-pan-kuang-jia">å¤ç›˜æ¡†æ¶</span><a href="#fu-pan-kuang-jia" class="header-anchor">#</a></h1><ul><li>AARï¼ˆAfter Action Reviewï¼‰ï¼šç›®æ ‡ã€å®é™…æƒ…å†µã€åŸå› ã€æ”¹è¿›ï¼›</li><li>5 Whys æ·±æŒ–æ ¹å› ï¼›</li><li>é±¼éª¨å›¾åˆ†æå¤šç»´åº¦åŸå› ï¼›</li><li>STAR&#x2F;SCQA ç”¨äºå¤ç›˜æ–‡æ¡£ç»“æ„ã€‚</li></ul><h1><span id="luo-di-liu-cheng">è½åœ°æµç¨‹</span><a href="#luo-di-liu-cheng" class="header-anchor">#</a></h1><ol><li>æ˜ç¡®å¤ç›˜è§¦å‘æ¡ä»¶ï¼ˆæˆåŠŸã€å¤±è´¥ã€é‡Œç¨‹ç¢‘ï¼‰ï¼›</li><li>æ•°æ®å‡†å¤‡ä¸å‚ä¼šäººå‘˜ï¼›</li><li>å¤ç›˜ä¼šè®®ï¼šäº‹å® -&gt; åŸå›  -&gt; è¡ŒåŠ¨ï¼›</li><li>è¾“å‡ºè¡ŒåŠ¨é¡¹ä¸è´£ä»»äººï¼›</li><li>è·Ÿè¸ªæ‰§è¡Œä¸éªŒè¯ã€‚</li></ol><h1><span id="zhi-shi-chen-dian">çŸ¥è¯†æ²‰æ·€</span><a href="#zhi-shi-chen-dian" class="header-anchor">#</a></h1><ul><li>æ­å»ºçŸ¥è¯†åº“ï¼Œåˆ†ç±»ç®¡ç†ï¼›</li><li>å®šæœŸåˆ†äº«å¤ç›˜æ¡ˆä¾‹ï¼›</li><li>å°†æ•™è®­çº³å…¥æµç¨‹ï¼ˆChecklistã€æ ‡å‡†ï¼‰ï¼›</li><li>ç»“åˆåŸ¹è®­ä¸æ¨¡æ‹Ÿæ¼”ç»ƒã€‚</li></ul><h1><span id="wen-hua-jian-she">æ–‡åŒ–å»ºè®¾</span><a href="#wen-hua-jian-she" class="header-anchor">#</a></h1><ul><li>å¼ºè°ƒâ€œé¢å‘é—®é¢˜â€è€Œéä¸ªäººï¼›</li><li>é¼“åŠ±å¤±è´¥åˆ†äº«ï¼Œå½¢æˆä¿¡ä»»ç¯å¢ƒï¼›</li><li>é¢†å¯¼å±‚ç¤ºèŒƒå¤ç›˜æ–‡åŒ–ã€‚</li></ul><h1><span id="zong-jie">æ€»ç»“</span><a href="#zong-jie" class="header-anchor">#</a></h1><p>ç³»ç»ŸåŒ–å¤ç›˜ä½¿ç»„ç»‡èƒ½å¤Ÿä»ç»éªŒä¸­å¿«é€Ÿå­¦ä¹ ã€‚é€šè¿‡æ–¹æ³•è®ºã€æµç¨‹ä¸æ–‡åŒ–å»ºè®¾ï¼Œå®ç°æŒç»­æ”¹è¿›ã€‚</p><h1><span id="can-kao-zi-liao">å‚è€ƒèµ„æ–™</span><a href="#can-kao-zi-liao" class="header-anchor">#</a></h1><ul><li>[1] After Action Review Handbook (US Army).</li><li>[2] Toyota Kata: Managing People for Improvement.</li></ul><hr><p>æœ¬ä½œå“ç³»åŸåˆ›ï¼Œé‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.â‰ 0/deed.zh">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><div id="gitalk-container"></div><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalkConfig = {"enable":true,"owner":"imchenway","repo":"imchenway.github.io","admin":"imchenway","clientID":"7026ab2c4cdadba4d342","clientSecret":"8e00dadc2db335285be4c861e53ee1bf9f8cc713","distractionFreeMode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"};    gitalkConfig.id = md5(location.pathname);var gitalk = new Gitalk(gitalkConfig);    gitalk.render("gitalk-container");    </script>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ben-wen-mu-lu&quot;&gt;æœ¬æ–‡ç›®å½•&lt;/span&gt;&lt;a href=&quot;#ben-wen-mu-lu&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;</summary>
      
    
    
    
    
    <category term="#TPM" scheme="https://imchenway.com/tags/TPM/"/>
    
  </entry>
  
</feed>
